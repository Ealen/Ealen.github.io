<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>你好，朋友！</title>
    <url>/fd091efe/</url>
    <content><![CDATA[<p>欢迎来到<a href="https://ealen.github.io/">Geo+SPV</a>！想知道“Geo+SPV”是什么吗？<br> “Geo+SPV”是“Geography + Science &amp; Programming &amp; Visualization”的简称。顾名思义，这个网站汇集了与地理相关的科学、编程（主要是Python）和可视化（视觉设计）的一些学习资料和共享资源，欢迎您来此自由探索或者贡献知识。<br>这个网站整理的所有资料均来自网络上的第三方来源、我个人制作的课程材料、以及学生的一些作品，相关资料的知识产权来源及作者已在资料页面标注。如您对该网站有任何疑问或想与网站作者交流，欢迎发送<a href="Mailto:ealenliu@foxmail.com">邮件</a>与我联系。</p>
<h2 id="内容导览"><a href="#内容导览" class="headerlink" title="内容导览"></a>内容导览</h2><h3 id="Geography-Information-Science"><a href="#Geography-Information-Science" class="headerlink" title="Geography Information Science"></a>Geography Information Science</h3><ul>
<li><a href="https://ealen.github.io/1bb97ba2/">地理数据下载网站汇总</a></li>
<li><a href="https://ealen.github.io/d1020e4c/">空间分析课程</a></li>
<li><a href="https://ealen.github.io/8f2fa946/">空间数据库课程</a></li>
<li><a href="https://ealen.github.io/1ab3e90d/">地图学课程</a></li>
</ul>
<h3 id="Remote-Sensing"><a href="#Remote-Sensing" class="headerlink" title="Remote Sensing"></a>Remote Sensing</h3><ul>
<li><a href="https://ealen.github.io/1bb97ba2/">遥感数据下载网站汇总</a></li>
</ul>
<h3 id="Python-Programming"><a href="#Python-Programming" class="headerlink" title="Python Programming"></a>Python Programming</h3><ul>
<li><a href="https://ealen.github.io/12f2bc1/">空间数据科学课程</a></li>
</ul>
<h3 id="Visualization"><a href="#Visualization" class="headerlink" title="Visualization"></a>Visualization</h3><ul>
<li><a href="https://ealen.github.io/">Map Gallary</a></li>
<li><a href="https://ealen.github.io/">信息图表</a></li>
<li><a href="https://ealen.github.io/2020/02/26/%E8%AE%BE%E8%AE%A1%E7%B4%A0%E6%9D%90%E6%B1%87%E6%80%BB/">设计素材汇总</a></li>
<li><a href="https://ealen.github.io/">酷网站汇总</a></li>
</ul>
]]></content>
      <categories>
        <category>内容导览</category>
      </categories>
      <tags>
        <tag>GIS</tag>
        <tag>Python</tag>
        <tag>RS</tag>
        <tag>Data</tag>
        <tag>Design</tag>
        <tag>About</tag>
      </tags>
  </entry>
  <entry>
    <title>��������������վ����</title>
    <url>/1bb97ba2/</url>
    <content><![CDATA[<blockquote class="blockquote-center"><p> 2018���ǰ���ɹ�����������ͳһ����ƽ̨�����������á���ͨ��ҽ�ơ���������ҵ���籣���������Ļ����������Ƽ�����Դ��ũҵ�����������ࡢ���ڡ�������ͳ�ơ����󡢺�����ҵ�ǼǼ�ܵ���Ҫ����ʵ�ֹ���������Դ�����ʶ�����Ὺ�š�<br>�������ٽ������ݷ�չ�ж���Ҫ�� ����Ժ 2015</p>
</blockquote>

<p>����㼯��ȫ��������ࣨ��ռ�������أ��Ŀ���������Դ��������վ����������������Ȥ������Դ������Ŀ¼�ڲ��ϸ��������С�<br>����������Դϣ��������ӭ���·����Ի���ҷ��ʼ���Ͷ���ʽ��* [��������] (����)-��ע��˵��</p>
<h2 id="�����ۺ�"><a href="#�����ۺ�" class="headerlink" title="�����ۺ�"></a>�����ۺ�</h2><h3 id="�й�"><a href="#�й�" class="headerlink" title="�й�"></a>�й�</h3><ul>
<li><p><a href="http://www.geodata.cn/" target="_blank" rel="noopener">���ҵ���ϵͳ��ѧ���ݹ���ƽ̨</a>-</p>
</li>
<li><p><a href="http://www.ngcc.cn/ngcc/" target="_blank" rel="noopener">���һ���������Ϣ����</a>-</p>
</li>
<li><p><a href="http://www.resdc.cn/Default.aspx" target="_blank" rel="noopener">�п�Ժ������</a>-</p>
</li>
<li><p><a href="https://www.osgeo.cn/data/" target="_blank" rel="noopener">OSGeo�й�</a>-OSGeo�й����ģ����ŵ����ռ�ʵ���ң���ע��ԴGIS�����������ռ����ݹ���!</p>
</li>
<li><p><a href="http://sedac.ciesin.columbia.edu/data/collection/cddc" target="_blank" rel="noopener">China Dimensions Data Collection</a>-GIS data including administrative regions, census data linked to maps and agricultural data.</p>
</li>
<li><p><a href="http://www.dbr.nu/data/geo/" target="_blank" rel="noopener">Diamond Bay Data</a>-Chinese counties, census statistics and Digital Chart of the World China GIS layers.</p>
</li>
<li><p><a href="http://www.fas.harvard.edu/~chgis/data/chgis/downloads/v4/" target="_blank" rel="noopener">China Historical GIS</a>-Historical boundaries, tribal areas etc for China from 1820 back to 222 BCE.</p>
</li>
</ul>
<h3 id="����"><a href="#����" class="headerlink" title="����"></a>����</h3><ul>
<li><a href="http://libremap.org/" target="_blank" rel="noopener">US GIS Data</a>-</li>
<li><a href="https://dev.maxmind.com/geoip/geoip2/geolite2/" target="_blank" rel="noopener">GeoLite Legacy Downloadable Databases</a>-IP������λ���ݿ�</li>
<li><a href="https://www.usgs.gov/products/data-and-tools/gis-data" target="_blank" rel="noopener">USGS</a>-�������ʵ����</li>
<li><a href="http://nationalatlas.gov/atlasftp.html" target="_blank" rel="noopener">US National Atlas</a>-All raw data contained in the National Altas is available for downloading including everything from agricultural census data, presidential election results, airports, railways, glaciers, arsenic content in groundwater, and much more.</li>
<li><a href="http://nationalmap.gov/historical/" target="_blank" rel="noopener">USGS Historical Topographic Maps</a>-Electronic copies of USGS Topographic Maps from the last 125 years. Provided in GeoPDF format, which isn’t great for importing into GIS software, but apparently can be converted to GeoTIFF in the latest version of GDAL</li>
<li><a href="http://www.ngdc.noaa.gov/nndc/struts/results?op_2=ne&v_2=STORE&t=102759&s=15&d=10,15,11" target="_blank" rel="noopener">National Geophysical Data Center</a>-List of all free data from the NGDC - sorted alphabetically not by category, but includes elevation models, land cover, seismology and more.</li>
<li><a href="http://www.cec.org/Page.asp?PageID=1226&SiteNodeID=496" target="_blank" rel="noopener">North American Environmental Atlas</a>-Environmental data for the whole of the North American continent, including land cover, pollution, climate, ecosystems, human influence and protected species, in raster and vector formats.</li>
<li><a href="http://www.census.gov/geo/www/cob/bdy_files.html" target="_blank" rel="noopener">US Cartographic Boundaries</a>-Cartographic boundaries, including city boundaries, counties, school districts, voting districts, zip code areas and congressional districts. Mainly from the 2000 census, but some later data.</li>
<li><a href="http://www.ngdc.noaa.gov/mgg/shorelines/noaamrdvs.html" target="_blank" rel="noopener">NOAA Medium Resolution Digital Vector Shoreline</a>-US coastlines compiled from official NOAA coastal charts covering nearly 75,000 nautical miles of coastline.</li>
<li><a href="http://www.charts.noaa.gov/?Disclaimer=noaa!nos@ocs#mcd&Submit=Proceed+to+Chart+Downloader" target="_blank" rel="noopener">Office of Coast Survey Chart Downloader</a>-Free access to NOAA marine navigational charts.<h4 id="����-1"><a href="#����-1" class="headerlink" title="����"></a>����</h4></li>
<li><a href="http://gis.arkansas.gov/download/" target="_blank" rel="noopener">Arkansas</a>-</li>
<li><a href="http://portal.gis.ca.gov/geoportal/catalog/main/home.page" target="_blank" rel="noopener">California</a>-</li>
<li><a href="http://clear.uconn.edu/data/CT_DEM/ct_dem_download.asp" target="_blank" rel="noopener">Connecticut LiDAR DEM</a>-3m resolution DEM for the state of Connecticut. Can be downloaded by town or by geographic quadrangle.</li>
<li><a href="http://www.fgdl.org/metadataexplorer/explorer.jsp" target="_blank" rel="noopener">Florida Geographic Data</a>-Florida Geographic Data Library Explorer</li>
<li><a href="https://data.georgiaspatial.org/" target="_blank" rel="noopener">Georgia GIS Clearinghouse</a>-</li>
<li><a href="http://www.csc.noaa.gov/ccap/pacific/" target="_blank" rel="noopener">Hawaii High Resolution Land Cover</a>-Land cover maps for all Hawaiian islands apart from the Big Island, for 1992, 2001 and 2005. 1992 and 2001 data are from Landsat, 2005 from 2.4m Quickbird.</li>
<li><a href="http://maps.indiana.edu/layerGallery.html" target="_blank" rel="noopener">IndianaMAP</a>-</li>
<li><a href="http://gis.iu.edu/isdp_dl/map/m10000.html" target="_blank" rel="noopener">Indiana Spatial Data Portal</a>-</li>
<li><a href="http://www.igsb.uiowa.edu/nrgislibx/" target="_blank" rel="noopener">Iowa Natural Resources GIS Library</a>-State-wide data on natural resources including geology, agriculture, hydrology and land cover.</li>
<li><a href="http://www.kansasgis.org/catalog/index.cfm" target="_blank" rel="noopener">Kansas GIS Data Access and Support Center</a>-</li>
<li><a href="http://kygisserver.ky.gov/geoportal/catalog/main/home.page" target="_blank" rel="noopener">Kentucky Geoportal</a>-</li>
<li><a href="http://atlas.lsu.edu/rasterdown.htm" target="_blank" rel="noopener">Louisiana State Atlas</a>-</li>
<li><a href="http://www.maine.gov/megis/catalog/" target="_blank" rel="noopener">Maine Office of GIS</a>-</li>
<li><a href="http://apps.msl.mt.gov/Geographic_Information/Data/DataList/" target="_blank" rel="noopener">Montana Data List</a>-</li>
<li><a href="https://www.mass.gov/get-massgis-data" target="_blank" rel="noopener">Massachusetts GIS Layers</a>-</li>
<li><a href="http://www.mcgi.state.mi.us/mgdl/?action=thm" target="_blank" rel="noopener">Michigan Center for Geographic Information</a>-</li>
<li><a href="https://gisdata.mn.gov/" target="_blank" rel="noopener">Minnesota Geospatial Commons</a>-</li>
<li><a href="http://www.gis.ms.gov/portal/home.aspx?dom=0&x=1920&y=993&browser=Netscape" target="_blank" rel="noopener">Mississippi Geospatial Clearinghouse</a>-</li>
<li><a href="http://www.nysgis.state.ny.us/gisdata/inventories/member.cfm?organizationID=522" target="_blank" rel="noopener">New York State GIS Clearinghouse</a>-</li>
<li><a href="http://rgis.unm.edu/browsedata" target="_blank" rel="noopener">New Mexico Resource GIS program</a>-</li>
<li><a href="http://www.nconemap.com/" target="_blank" rel="noopener">North Carolina OneMap</a>-</li>
<li><a href="http://ogrip.oit.ohio.gov/ServicesData/GeodataDistribution.aspx" target="_blank" rel="noopener">Ohio Geographically Referenced Information Program</a>-</li>
<li><a href="http://www.owrb.ok.gov/maps/PMG/DMindex.html" target="_blank" rel="noopener">Oklahoma Water Resources Board GIS data</a>-</li>
<li><a href="http://spatialdata.oregonexplorer.info/geoportal/catalog/main/home.page" target="_blank" rel="noopener">Oregon Spatial Data Library</a>-</li>
<li><a href="http://www.pasda.psu.edu/" target="_blank" rel="noopener">Pennsylvania Spatial Data Access</a>-</li>
<li><a href="http://tnmap.tn.gov/" target="_blank" rel="noopener">Tennessee Enterprise GIS Portal</a>-</li>
<li><a href="http://www.state.tn.us/environment/parks/gis/data/" target="_blank" rel="noopener">Tennessee State Parks data</a>-</li>
<li><a href="http://www.tnris.org/" target="_blank" rel="noopener">Texas Natural Resources Information System</a>-</li>
<li><a href="http://library.tamu.edu/about/collections/map-gis-collections-services/gis-data-online-interactive-maps/gis-online-data.html" target="_blank" rel="noopener">Texas University Libraries GIS data</a>-</li>
<li><a href="http://gis.utah.gov/" target="_blank" rel="noopener">Utah GIS Portal</a>-</li>
<li><a href="http://www.vcgi.org/dataware/?page=./theme_index/default_content.cfm" target="_blank" rel="noopener">Vermont Center for Geographic Information</a>-</li>
<li><a href="https://vgin.maps.arcgis.com/home/index.html" target="_blank" rel="noopener">Virginia GIS Clearinghouse</a>-</li>
<li><a href="http://www.dof.virginia.gov/gis/dwnload/index.htm" target="_blank" rel="noopener">Virginia Department of Forestry</a>-</li>
<li><a href="http://www.wsdot.wa.gov/mapsdata/geodatacatalog/" target="_blank" rel="noopener">Washington State Department of Transport</a>-Various transport-related datasets for Washington including airports, ferry routes, railways and traffic counts. Also includes some non-transport data including relief, national scenic areas and major lakes.</li>
<li><a href="http://wvgis.wvu.edu/" target="_blank" rel="noopener">West Virginia GIS Technical Centre</a>-</li>
<li><a href="https://www.sco.wisc.edu/data/" target="_blank" rel="noopener">Wisconsin State Cartographer’s Office</a>-</li>
<li><a href="http://wygl.wygisc.org/wygeolib/catalog/main/home.page" target="_blank" rel="noopener">Wyoming GIS</a>-</li>
<li><a href="https://gis.ny.gov/gisdata/inventories/results.cfm?SWIS=&sectorIDs=&themeIDs=24" target="_blank" rel="noopener">New York City GIS</a>-Data specific to New York city including building footprints, street centrelines, pavement edges, open space, railways, shorelines and elevation. All provided as shapefiles and MapInfo files.</li>
<li><a href="http://www.nyc.gov/html/dcp/html/bytes/applbyte.shtml" target="_blank" rel="noopener">Bytes of the Big Apple</a>-Linear basemaps, zoning information and areas of particular planning interest for New York City.</li>
<li><a href="http://dcatlas.dcgis.dc.gov/catalog/" target="_blank" rel="noopener">Washington DC GIS Clearinghouse</a>-GIS data from the city of Washington DC including base maps, POI locations, street plans and much more.</li>
<li><a href="http://www.bostonredevelopmentauthority.org/BRA_3D_Models/Index.html" target="_blank" rel="noopener">3D models of Boston</a>-Building footprints and 3D models of a large part of Boston.</li>
<li><a href="http://www.chesapeakebay.net/data" target="_blank" rel="noopener">Chesapeake Bay Program</a>-GIS data for Chesapeake Bay, including water quality and ecology datasets.</li>
<li><a href="http://mycity.houstontx.gov/home/cohgis.html" target="_blank" rel="noopener">MyCity Houston</a>-</li>
<li><a href="http://data.ohouston.org/" target="_blank" rel="noopener">Houston Open Data</a>-</li>
<li><a href="http://pdata.hcad.org/GIS/" target="_blank" rel="noopener">Harris County GIS data</a>-</li>
<li><a href="http://data.wakegov.com/" target="_blank" rel="noopener">Wake County, North Carolina</a>-Open data portal for Wake County, North Carolina. Runs on the ArcGIS Online platform, but most datasets are available for download as shapefiles or KMLs.</li>
<li><a href="https://egis3.lacounty.gov/dataportal/" target="_blank" rel="noopener">Los Angeles County GIS Data Portal</a>-Open GIS data portal for Los Angeles County with a wide range of data.</li>
<li><a href="http://gisdata.scag.ca.gov/Pages/Home.aspx" target="_blank" rel="noopener">Southern California Association of Governments GIS &amp; Data Services</a>-GIS data portal for a group of Southern Californian local governments</li>
</ul>
<h3 id="o��-��������"><a href="#o��-��������" class="headerlink" title="ȫ��/��������"></a>ȫ��/��������</h3><ul>
<li><a href="https://www.gadm.org/" target="_blank" rel="noopener">GADM</a>-ȫ�����������ݿ⣨ע��!�й������߽������⣩</li>
<li><a href="https://github.com/johan/world.geo.json" target="_blank" rel="noopener">world.geo.json</a>-ȫ�����GeoJSON����</li>
<li><a href="http://www.naturalearthdata.com/downloads/" target="_blank" rel="noopener">Natural Earth Data</a>-Includes coastline, land, oceans, islands, rivers, lakes, glaciated areas and bathymetry. Available at multiple levels of detail. A version of this data is also available in the Wagner VII projection, which has good equal area properties</li>
<li><a href="http://data.geocomm.com/drg/index.html" target="_blank" rel="noopener">Geocomm</a>-</li>
<li><a href="http://www.geonames.org/" target="_blank" rel="noopener">Geonames data</a>-</li>
<li><a href="https://globalmaps.github.io/" target="_blank" rel="noopener">Global Map</a>-A set of consistent GIS layers covering the whole globe at 1km resolution including: transportation, elevation, drainage, vegetation, administrative boundaries, land cover, land use and population centres. Produced by the International Steering Committee on Global Mapping.</li>
<li><a href="http://www.diva-gis.org/gdata" target="_blank" rel="noopener">DIVA-GIS Country Data</a>-A collection of data collected from a number of the sources below - includes administrative areas, inland water, roads and railways, elevation, land cover, population and climate. Probably the easiest place to get a simple set of data for a specific country.</li>
<li><a href="http://geodata.grid.unep.ch/" target="_blank" rel="noopener">UNEP GEOdata</a>-A wide range of data from the United Nations Environment Programme including Global Forest Cover, Global Potential Evapotranspiration, Global Average Monthly Temperatures, Dams, Watershed Boundaries and much more. To get data, choose Advanced Search and select Geospatial Data Sets from the top drop-down link</li>
<li><a href="http://koordinates.com/" target="_blank" rel="noopener">Koordinates</a>-GIS data aggregation site including data in a number of categories such as elevation, environment, climate etc. Some global datasets, some based on continents, some for specific countries. Mostly vector, but some raster. </li>
<li><a href="http://www.mapcruzin.com/" target="_blank" rel="noopener">MapCruzin</a>-GIS aggregation site including wide range of data for various areas of the world. Some datasets appears to be of low quality, but others are good.</li>
<li><a href="http://www.fao.org/geonetwork/srv/en/main.home" target="_blank" rel="noopener">GeoNetwork</a>-GIS aggregation site including a wide range of data under various categories (both human and physical).</li>
<li><a href="http://www.ngdc.noaa.gov/mgg/shorelines/gshhs.html" target="_blank" rel="noopener">GSHHS</a>-A Global Self-consistent, Hierarchical, High-resolution Shoreline Database - which basically means it’s good quality (no internal inconsistencies, good accuracy).</li>
<li><a href="http://thematicmapping.org/downloads/world_borders.php" target="_blank" rel="noopener">World Borders</a>-World country borders with attributes including country codes (FIPS, ISO etc), area and populations.</li>
<li><a href="http://database.espon.eu/db2/resource?idCat=44" target="_blank" rel="noopener">Europe in the World</a>-Administrative boundaries for Europe with lots of attribute data for each country/region including (This contents are copy from ealen) information on economy, demography and infrastructure.</li>
<li><a href="http://nils.weidmann.ws/projects/cshapes/" target="_blank" rel="noopener">CShapes - Historical Boundaries</a>-Historical state boundaries and capitals post-WW2, world-wide, including all changes and dates of changes.</li>
<li><a href="http://www.marineregions.org/index.php" target="_blank" rel="noopener">VLIZ Maritime Boundaries</a>-Maritime boundaries and areas of Exclusive Economic Zones, including detailed attribute data on treaties etc. From the Flanders Marine Institute.</li>
<li><a href="http://efele.net/maps/tz/" target="_blank" rel="noopener">TZ timezones</a>-A map of timezone areas in the world as used in the Unix TZ database format, from which we get the naming Europe/London, America/New_York etc. In shapefile format.</li>
</ul>
<h2 id="����-����"><a href="#����-����" class="headerlink" title="����/����"></a>����/����</h2><h3 id="o��"><a href="#o��" class="headerlink" title="ȫ��"></a>ȫ��</h3><ul>
<li><a href="http://asterweb.jpl.nasa.gov/gdem.asp" target="_blank" rel="noopener">GDEM</a>-30�׷ֱ��� derived from ASTER satellite images</li>
<li><a href="https://dwtkns.com/srtm/" target="_blank" rel="noopener">SRTM</a>-90�׷ֱ���(3 arc-second) from the Shuttle Radar Topography Mission for most of the world. Same data as next item, but with a nice download interface.����: <a href="http://srtm.csi.cgiar.org/" target="_blank" rel="noopener">http://srtm.csi.cgiar.org/</a></li>
<li><a href="http://www.earthenv.org/DEM" target="_blank" rel="noopener">EarthEnv-DEM90</a>-90m-resolution near-global DEM created by merging the GDEM and SRTM products and post-processing to fill voids and smooth data.</li>
<li><a href="http://www.ngdc.noaa.gov/mgg/global/global.html" target="_blank" rel="noopener">ETOPO1</a>-1 arc-minute resolution relief model including ocean bathymetry.</li>
<li><a href="http://www.marine-geo.org/portals/gmrt/" target="_blank" rel="noopener">Global Multi-Resolution Topography</a>-Gridded elevation at approximately 100m resolution, covering terrestrial and sea-floor topography.</li>
<li><a href="http://hydro.iis.u-tokyo.ac.jp/~yamadai/MERIT_DEM/" target="_blank" rel="noopener">MERIT DEM</a>-Multi-Error-Removed Improved-Terrain DEM, created by removing multiple different types of errors from existing DEMs including SRTM. Available by emailing the developer for a password.</li>
<li><a href="https://www.pgc.umn.edu/data/arcticdem/" target="_blank" rel="noopener">ArcticDEM</a>-Detailed elevation models of all land areas greater than 60 degrees north, generated using photogrammetry from high-res satellite images.</li>
<li><a href="http://www.orrbodies.com/resources/" target="_blank" rel="noopener">Orrbodies Geology maps</a>-�������ݼ���A wide range of geology maps, for many different countries. Lots of free datasets on this site, but some commercial too.</li>
<li><a href="https://coast.noaa.gov/dataviewer/#" target="_blank" rel="noopener">NOAA Data Access Viewer</a>-���ظ���Ӱ�񣬸߳�����</li>
<li><a href="https://coast.noaa.gov/digitalcoast/" target="_blank" rel="noopener">NOAA Digital Coast</a>-NOAA���ֺ�������<h3 id="����-2"><a href="#����-2" class="headerlink" title="����"></a>����</h3></li>
<li><a href="https://app.yinxiang.com/OutboundRedirect.action?dest=https://land.copernicus.eu/pan-european/satellite-derived-products/eu-dem/eu-dem-v1.1?tab=mapview" target="_blank" rel="noopener">EU-DEM</a>-25m-resolution DEM covering the whole of Europe, available for download in tiles</li>
<li><a href="http://www.opentopography.org/index.php" target="_blank" rel="noopener">OpenTopography</a>-A community-based site giving free access to high-resolution topography data. Data at the moment appears to be clustered on the West Coast of the USA and in Greenland, and is available both as dense point clouds and processed DEMs.<h4 id="����-3"><a href="#����-3" class="headerlink" title="����"></a>����</h4></li>
<li><a href="http://seamless.usgs.gov/ned1.php" target="_blank" rel="noopener">National Elevation Dataset</a>-Regularly updated DEM for the whole of the US, Puerto Rico and the Virgin Islands. Varies from 10m-30m resolution, using best available data for each region.</li>
<li><a href="http://www.ngdc.noaa.gov/mgg/greatlakes/greatlakes.html" target="_blank" rel="noopener">Great Lakes Bathymetry</a>-Detailed bathymetry data for the Great Lakes at 3 arc-second resolution. To download data click the Create Custom Grids and fill in the areas you want.</li>
<li><a href="http://www.ngdc.noaa.gov/mgg/coastal/coastal.html" target="_blank" rel="noopener">Coastal Relief</a>-Various coastal DEMs of the USA at various resolutions. Whole US coastline combining bathymetry and land elevation out to the end of the continental slope is available at 3 arc-second resolution, and various areas available at higher resolution.</li>
<li><a href="http://pugetsoundlidar.ess.washington.edu/" target="_blank" rel="noopener">Pudget Sound Lidar Consortium</a>-Public-domain high-resolution LiDAR dataset for the Pacific Northwest.</li>
<li><a href="http://tin.er.usgs.gov/geology/state/" target="_blank" rel="noopener">Geological maps of the US states</a>-Detailed geological maps with extended attribute data for each of the US states. To download data select the state, then the area, then click the reference link at the bottom. Scroll down to the bottom and the files are available for download.</li>
<li><a href="http://tin.er.usgs.gov/geology/us/" target="_blank" rel="noopener">Geology of the conterminous US</a>-Similar to the above but in one file for the coterminous US, not including Hawaii and Alaska. Far easier to download than the above.</li>
<li><a href="http://tin.er.usgs.gov/magnetic/" target="_blank" rel="noopener">Magnetic Anomalies</a>-Airborne measurement of magnetic anomalies across the whole of North America, in raster format.</li>
<li><a href="http://energy.usgs.gov/Tools/EnVisionSplash.aspx" target="_blank" rel="noopener">USGS EnergyVision</a>-Maps of various factors relating to energy use in the USA, the most relevant of which is the USA and world-wide geological maps. To download, view the web map, then click on the dropdown box labelled MORE and scroll to the Download GIS data option.</li>
<li><a href="https://www.prio.org/Data/Geographical-and-Resource-Datasets/" target="_blank" rel="noopener">PRIO Resource Datasets</a>-Petroleum and diamond resource maps, globally.</li>
</ul>
<h2 id="ң��"><a href="#ң��" class="headerlink" title="ң��"></a>ң��</h2><h3 id="���"><a href="#���" class="headerlink" title="���"></a>���</h3><ul>
<li><a href="https://earthdata.nasa.gov/?_ga=2.125652362.1082055698.1579105599-1153937047.1579105599" target="_blank" rel="noopener">NASA</a>-�������</li>
<li><font color=#DC143C><a href="https://developers.google.com/earth-engine/datasets" target="_blank" rel="noopener">GEE</a>-Google Earth Engine�����Ǹ�ң�д�ɱ����ɶ���У�</font></li>
<li><a href="https://earth.esa.int/web/guest/data-access" target="_blank" rel="noopener">ESA</a>-ŷ�վ�</li>
<li><a href="ttps://earthexplorer.usgs.gov/">USGS Earth Explorer</a>-����Landsatϵ�У�ASTER DEM , Hyperion�߹��ף�MODIS , AVHRR</li>
<li><a href="https://scihub.copernicus.eu/dhus/#/home" target="_blank" rel="noopener">ESA��s Sentinel Mission</a>-�ڱ�Sentinelϵ��</li>
<li><a href="https://www.class.ncdc.noaa.gov/saa/products/welcome;jsessionid=26E2D6B090FA7F45DDDAF2F786337A9A" target="_blank" rel="noopener">NOAA CLASS</a>-�������ݣ�����������������DoD���ļ�����ս�������ǣ�POES����NOAA�ĵ���ֹ�������ǣ�GOES�����Լ��������ݡ�</li>
<li><a href="https://earth.esa.int/web/guest/eoli" target="_blank" rel="noopener">Earth Observation Link (EOLi)</a>-���ݣ�����Envisat, ERS, IKONOS, DMC, ALOS, SPOT, Kompsat, Proba, IRS, SCISAT.</li>
<li><a href="http://www.dgi.inpe.br/CDSR/" target="_blank" rel="noopener">National Institute for Space Research (INPE)</a>-���ݣ��а���Դ�������� CBERS-2, CBERS-2b</li>
<li><a href="http://bhuvan.nrsc.gov.in/data/download/index.php" target="_blank" rel="noopener">Bhuvan Indian Geo-Platform of ISRO</a>-���ݣ�ӡ��ң���������� IMS-1 (Hyperspectral), Cartosat, OceanSat and ResourceSat</li>
<li><a href="http://www.eorc.jaxa.jp/ALOS/en/aw3d30/" target="_blank" rel="noopener">JAXA��s Global ALOS 3D World</a>-���ݣ�ȫ�򺣰�DSM���� ���ֱ���Ϊ30m</li>
<li><a href="http://www.vito-eodata.be/PDF/portal/Application.html#Home" target="_blank" rel="noopener">VITO Vision</a>-���ݣ��ͷֱ��ʵر�ֲ��Ӱ�����ݣ����� PROBA-V, SPOT-Vegetation and METOP ��������</li>
<li><a href="http://landcover.org/" target="_blank" rel="noopener">Global Land Cover Facility</a>-���ظ������ݣ�����Landsat,MODIS,AVHRR���ǵ�����</li>
<li><a href="http://www.digitalglobe.com/" target="_blank" rel="noopener">DigitalGlobe Free Product Samples</a>-WorldView-3����0.3m�ֱ�����Ʒ����</li>
<li><a href="http://www.geo-airbusds.com/satellite-image-gallery/" target="_blank" rel="noopener">BlackBridge/Geo-Airbus</a>- SPOT, Pleiades, RapidEye and TerraSAR ��������Ʒ����</li>
<li><a href="http://www.unavco.org/data/imaging/sar/data-access-methods/SarArchive/flexweb/SearchSarScene.html" target="_blank" rel="noopener">UNAVCO Research Data</a>-SAR����</li>
<li><a href="https://ealen.github.io/1bb97ba2/">�ϵ�֮��</a>-һЩ�������Ӱ��<h3 id="��ҵ����"><a href="#��ҵ����" class="headerlink" title="��ҵ����"></a>��ҵ����</h3></li>
<li><a href="http://www.zj-view.com/cpfw" target="_blank" rel="noopener">�о���ͼ</a>-WorldView��QuickBird�ȸ߷�Ӱ����ʷң��Ӱ�����</li>
<li><a href="http://rs.ceode.ac.cn/satelliteprice.jsp#SPOT-1table" target="_blank" rel="noopener">�й�ң��������</a>-�й���ѧԺң�������ֵ����о��������ң�е����������й���ѧԺң��Ӧ���о������й���ѧԺ�Եع۲������ֵ����ѧ���Ļ������齨����2012��9��7�ճ�����Ϊ�й���ѧԺֱ���ۺ��Կ��л�����</li>
<li><a href="http://218.247.138.119:7777/DSSPlatform/productSearch.html" target="_blank" rel="noopener">�й���Դ����Ӧ������</a>-�����߷�����</li>
<li><a href="http://mall.charmingglobe.com/" target="_blank" rel="noopener">����һ��</a>-����һ�Ÿ߷�����</li>
<li><a href="https://www.myorbita.net/wxtx/list_50.aspx" target="_blank" rel="noopener">�麣һ��</a>-�麣һ���������ݣ���δ�������ۣ�<h3 id="��׼���ݼ���������֤�㷨��"><a href="#��׼���ݼ���������֤�㷨��" class="headerlink" title="��׼���ݼ���������֤�㷨��"></a>��׼���ݼ���������֤�㷨��</h3>����Ŀ������ת����<a href="https://mp.weixin.qq.com/s/xU9zYTMdhUgmcuMUSuhzpw" target="_blank" rel="noopener">��ɽ��ѧң�д����������ھ��������Intelligent Mining and Analysis of Remote Sensing Dig Data���о��鹫�ں�</a>��<h4 id="ң��L����"><a href="#ң��L����" class="headerlink" title="ң��Ŀ����"></a>ң��Ŀ����</h4>ң��ͼ��Ŀ��������ң��ͼ����������λ����Ȥ��Ŀ�꣬������ʶ���ȷ�ϵĹ��̡���Ӧ�������������ü�����Ӿ������������������ʱ������ģ��ܹ���ȡ����Ŀ��Ķ���������Ϣ���ڹ������½��衢��Ȼ��ѧ�о��������Ź㷺��Ӧ�úͷ�չǰ����</li>
<li><a href="https://github.com/RSIA-LIESMARS-WHU/RSOD-Dataset-" target="_blank" rel="noopener">RSOD</a>-RSOD��һ�����ŵ�Ŀ�������ݼ�������ң��ͼ���е�Ŀ���⡣���ݼ������ɻ������䣬�˶����������ţ���PASCAL VOC���ݼ��ĸ�ʽ���б�ע�����ݼ�����4���ļ��У�ÿ���ļ��а���һ�ֶ���1.�ɻ����ݼ���446��ͼ���е�4993�ܷɻ���2.�ٳ���189��ͼ���е�191���ٳ���3.�����ţ�176��ͼ���е�180�������š�4.���䣬165��ͼ���е�1586�� ���䡣</li>
<li><a href="https://pan.baidu.com/s/1hqwzXeG#list/path=%2F" target="_blank" rel="noopener">NWPU VHR-10</a>-�������о��Ĺ����ṩ��10������ռ����������ݼ�����ʮ�������Ƿɻ����ִ������ޣ��������򳡣����򳡣������ܵ����ۿڣ������ͳ����������ݼ��ܹ�����800�����߷ֱ��ʣ�VHR��ң��ͼ���Ǵ�Google Earth��Vaihingen���ݼ��ü������ģ�Ȼ����ר���ֶ�ע�͡�</li>
<li><a href="https://downloads.greyc.fr/vedai/" target="_blank" rel="noopener">����Ӱ���еĳ�����⣨VEDAI��</a>-VEDAI�Ǻ���Ӱ���г����������ݼ�����Ϊһ���ڲ������ƵĻ����ж�Ŀ�����㷨���л�׼���ԵĹ��ߡ����ݿ��г��˰�����С�ĳ������⣬�����ֳ���ͬ�Ŀɱ��ԣ����������򣬹���/��Ӱ�仯�����淴����ڵ������⣬ÿ��ͼ���м������״��ͷֱ��ʡ����߻������˾�ȷ��ʵ�鷽������ȷ��������ȷ���ֺͱȽϲ�ͬ�˻�õ�ʵ������������Щ�㷨�Ĳ�ͬ���ã����߻�������һЩ��׼�Բ��Ը����ݼ��ϵ����ܣ����ṩ��׼�Ƚϡ�</li>
<li><a href="https://gdo152.llnl.gov/cowc/" target="_blank" rel="noopener">����������Ϣ�ĸ߼�������COWC��</a>-COWC������ͷ���ӽǵĴ�ע�͵�����������ѵ���������������ѧϰĿ��������������������á����ݼ������������ԣ���1��������ÿ���طֱ���15 cm�����ݣ��������ݾ�ΪEO������2������������ͬλ�õ����ݣ����ô���׶࣬�����������£�����̹�͵¹�Vaihingen�����ײ�����������������3��32,716����ע�͵�������58,247���������ӡ���4��Ϊ���ͼ�����������׼����5���ܹ���֤������Գ�����</li>
<li><a href="https://captain-whu.github.io/DOTA/index.html" target="_blank" rel="noopener">DOTA</a>-DOTA�����ں���ͼ����Ŀ����Ĵ��ģ���ݼ������������ڿ�������������Ӱ���е������⡣����DOTA���ݼ������������Բ�ͬ��������ƽ̨��2806������ͼ��ÿ��ͼ��Ĵ�С�ڴ�Լ800��800��4000��4000���صķ�Χ�ڣ����Ұ������ֱ������������״�Ķ�����ЩDOTAͼ���ɺ���Ӱ�����ר�ҷ���Ϊ15���������������ȫע�͵�DOTAͼ�����188��282��ʵ����ÿ��ʵ���������⣨8���ɶȣ��ı��α�ǡ�</li>
<li><a href="https://eostore.itc.utwente.nl:5001/fsdownload/zZYfgbB2X/ITCVD" target="_blank" rel="noopener">ITCVD</a>-ITCVD���ݼ�ͼ���Ǵӷɻ�ƽ̨����ģ�ͼ�������ɷɻ��ں���Enschede�Ϸ��ո�Լ330m�ĸ߶ȷ��У��������ͼ��б��ͼ����ͼ��б�ӽǵ���б�Ƕ�Ϊ45�ȡ����ͼ��ĵ���������루GSD��Ϊ10���ס����ݼ���������ѵ����135��ͼ������ڲ��Ե�23543��ͼ�������38��ͼ���5545���������ڲ��ԡ����ݼ��е�ÿ������ʹ��һ���߽���ֶ���ע���ñ߽���ʾΪ��x��y��w��h�������У�x��y���Ǹÿ����Ͻǵ����꣬����w��h ���ֱ��Ǳ߽��Ŀ��Ⱥ͸߶ȡ�</li>
<li><a href="http://xviewdataset.org/" target="_blank" rel="noopener">DIUx xView 2018�����ս</a>-xView�����Ĺ������õĿ���ͼ��֮һ������������������ظ��ӳ�����ͼ�񣬲��ó���һ������߽�����ע�ͣ���Щ�߽�����60�ֶ������Ĳ�ͬ��Χ���������ܿ�ͼ�����ݼ���ȣ�xViewͼ����и߷ֱ��ʣ���������ԣ������и�������Ķ����ǡ�DIUx xView��ս�����ص��Ǽӿ��ĸ�������Ӿ�����Ľ�չ�����ͼ�����С�ֱ��ʣ����ѧϰЧ�ʣ����ø��������ķ��֣��Ľ���ϸ������ļ�⡣DIUx xView��ս������ս�ĽŲ��������������е�ͨ�ö���COCO��������ͼ����SpaceNet�����繦��ͼ��FMoW�����Խ�������Ӿ�Ӧ��������̫�տ���ͼ���Ա��������µķ�ʽ�����Ӿ����粢���һϵ����Ҫ�����⡣</li>
<li><a href="http://www.escience.cn/people/liuzikun/DataSet.html" target="_blank" rel="noopener">2016��߷ֱ��ʴ������ݼ���HRSC2016��</a>-���ݼ�����ͼ����������������ĸۿڡ�ͼ��ֱ�����2-m��0.4-m֮�䡣ͼ��ߴ緶Χ��300��1500�������ͼ�����1000 x 600��ѵ������֤�Ͳ��Լ��ֱ����436��ͼ�񣨰���1207����������181��ͼ�񣨰���541����������444��ͼ�񣨰���1228����������</li>
<li><a href="http://opensar.sjtu.edu.cn/" target="_blank" rel="noopener">OpenSARShip</a>-OpenSAR�����Ϻ���ͨ��ѧ�߼����м������ģ�AST�������Ŀ���ʽSARͼ������ʹ���ƽ̨������SARͼ��Ķ�ȡ�����������ӻ����㷨���ԡ�SARͼ��������㷨������OpenSAR����Ҫ����OpenSAR֧�ֵ������SAR����Դ������TerraSAR-X��RADARSAT 1/2��COSMO-SkyMed�ȡ��û�����ͨ����ƽ̨�����Ͳ鿴SARͼ�����ݡ�OpenSAR֧��ע������㷨������ͼ��ȥ�룬�������࣬Ŀ���⣬Ŀ��ʶ�𣬱仯���ȡ��û�����ͨ����ƽ̨���������ú�ִ����Щ�㷨�����������Ĳ��Ա���Ҳ���ṩ���û���</li>
<li><a href="">�߷ֱ���SAR����������ݼ�-1.0</a>-�߷ֱ���SAR����������ݼ�-1.0��AIR-SARShip-1.0����������31��ͼ��ͼ��ֱ��ʰ���1m��3m������ģʽ��������ʽ������ʽ��������ʽΪ���������������Ͱ����ۿڡ���������ͬ�ȼ������ĺ��棬Ŀ�긲�����䴬���ʹ����洬��ʮ�����ǧ�ҽ�����ͼ��ߴ�ԼΪ3000��3000���أ�ͼ���ʽΪTiff����ͨ����8/16λͼ����ȣ���ע�ļ��ṩ��Ӧͼ��ĳ����ߴ硢��עĿ�������Լ���ע���ο��λ�á�<h4 id="��������"><a href="#��������" class="headerlink" title="��������"></a>��������</h4>������������ң�г������ķ��ٷ�չ�����ǿ��Ի��Խ��Խ��Ĳ�ͬ�ֱ��ʵ�ң��Ӱ����Щң��Ӱ����й۲ⷶΧ�㡢��ȡ���ڶ̡������ر���Ϣ�ḻ�ȵ㡣ң��ͼ�񳡾����������ڶԺ����ĸ߷ֱ���ң��Ӱ����������ݽ��н���,�����ṩ�����Ϣָ��Ŀ��ʶ���Ŀ�����ʵ�����⡣���������׼ȷ��ֱ�Ӿ�����ң��ͼ�񳡾����������ĸߵ͡�������,����������(ConvolutionalNeural Network,CNN)��������ȡ���󡢸߽׵��������㷺Ӧ����ͼ������У������ѧϰģ�͵�ѵ����Ҫ�˹�������ݼ���֧�ţ�������ʮ��ķ�չ��ҵ��Ҳ�������ݼ��ı�ע�����������൱���Ŭ����</li>
<li><a href="http://vision.ucmerced.edu/datasets/landuse.html" target="_blank" rel="noopener">UC Merced Land Use Dataset</a>-����һ�������о�Ŀ�ĵ�21����������ͼ�����ݼ�������ÿ������100��ͼ��Agricultural, airplane, baseball diamond, beach, buildings, chaparral, dense residential, forest, freeway, golf course, harbor, intersection, medium residential, mobile home park, overpass, parking lot, river, runway, sparse residential, storage tanks, tennis court��ÿ��ͼ��Ĵ�С��256x256����Щͼ���Ǵ�USGU���ҵ�ͼ��������ͼ�񼯵Ĵ���ͼ�����ֶ���ȡ�ģ���Щͼ������ȫ�����صĳ�����������������ݼ������طֱ�����1Ӣ�ߡ��ο����ף�Yi Yang and Shawn Newsam, ��Bag-Of-Visual-Words and Spatial Extensions for Land-Use Classification,�� ACM SIGSPATIAL International Conference on Advances in Geographic Information Systems (ACM GIS), 2010.</li>
<li><a href="http://captain.whu.edu.cn/datasets/WHU-RS19.zip" target="_blank" rel="noopener">WHU-RS19</a>-WHU-RS19�Ǵӹȸ�����Ӱ���ϻ�ȡ��19��ң��Ӱ�񣬿����ڳ�������ͼ������ο����ף�G.-S. Xia, W. Yang, J. Delon, Y. Gousseau. H. Maitre, H. Sun, ��Structural high-resolution satellite image indexing��. Symposium: 100 Years ISPRS - Advancing Remote Sensing Science: Vienna, Austria, 2010</li>
<li><a href="https://sites.google.com/site/qinzoucn/documents/zh-CN" target="_blank" rel="noopener">RSSCN7</a>-�����ݼ�����2800��ң��ͼ����Щͼ������7�ֵ��ͳ�����𣺲ݵأ�ɭ�֣�ũ�ͣ������סլ������ҵ���Լ��Ӻ�������ÿ�������400�Ŵӹȸ�����ϲ����ռ���ͼ�񣬷�Ϊ�ĸ���ͬ�ĳ߶ȣ�ÿ���߶�100��ͼ��ÿ��ͼ��Ĵ�СΪ400 * 400�����ڳ���ͼ��Ķ����ԣ���һ���ݼ������൱�����ս�ԣ���Щͼ�����ڼ��ڱ仯�������仯�����������ģ����Բ�ͬ�ı������в������ο����ף�Qin Zou, Lihao Ni, Tong Zhang and Qian Wang, Deep learning based feature selection for remote sensing scene classification, IEEE Geoscience and Remote Sensing Letters, vol. 12, no. 11, pp.2321-2325, 2015.</li>
<li><a href="http://csc.lsu.edu/~saikat/deepsat/" target="_blank" rel="noopener">SAT-4 and SAT-6 airborne datasets</a>-ͼ���Ǵӹ���ũҵӰ��ƻ���NAIP�����ݼ�����ȡ�ġ�NAIP���ݼ������������������½��CONUS����330,000������������ʹ���˸�ʽΪGeoTIFF��δѹ����������Ӱ����ķ�֮һ���飨DOQQ�������Ҹ������Ӧ���������ʵ���֣�USGS�������ı��Ρ���Щͼ���ƽ������ԼΪ6000���أ��߶�ԼΪ7000���أ�ÿ��ͼ���Լ200���ֽڴ�С��CONUS������NAIP���ݼ�ԼΪ65 TB��ͼ�����ڵ���������루GSD��Լ1m�ϻ�ȡ�ģ�ˮƽ����λ����Ƭ��ʶ��ĵ�����Ƶ��������ڡ�ͼ����4��������ɣ��죬�̣����ͽ����Ⲩ�Ρ�Ϊ��ά������NAIP���ݼ����еĸ߷�����ǴӸ��ǲ�ͬ���۵Ķ���������ܹ�1500��ͼ��飩�в���ͼ��飬��Щ��������ũ����������е��������֡�ɽ����ˮ�塢ũҵ�������������������������ݡ���Ϊ�����о���һ���֣�������һ��ͼ���ǹ��ߣ������ֶ���������ض����ظ������ľ���ͼ��顣��Ǻ󣬴Ӿ���ͼ�������ȡ28x28�����ص��Ļ������ڿ飬������Ӧ�ı�ǩ���浽���ݼ��С�����ѡ��28x28��Ϊ���ڴ�С���Ա���һ�����Ը���������ģ�ͬʱ��ʹ�����������Ĵ�����ɾ��Ŀ���������ֲ������ͳ������������ע�������ѡ���ͱ�ǵ�ͼ���޲������г�������ص������ݼ�������ΪMATLAB.mat�ļ�������ʹ��MATLAB�еı�׼���������ȡ��ÿ������ͼ��Ϊ28x28���أ���4���������-��ɫ����ɫ����ɫ�ͽ����⡣ѵ���Ͳ��Ա�ǩ�ֱ���SAT-4��SAT-6��1x4��1x6�������ֱ���д�0��4��6��0��ֵ���������������ϵĵ���1�������ο����ף�Saikat Basu, Sangram Ganguly, Supratik Mukhopadhyay, Robert Dibiano, Manohar Karki and Ramakrishna Nemani, DeepSat - A Learning framework for Satellite Imagery, ACM SIGSPATIAL 2015.</li>
<li><a href="https://www.researchgate.net/publication/271647282_RS_C11_Database6" target="_blank" rel="noopener">RSC11</a>-11��������ȫ���Ǵ�Google Earth���صĸ߷ֱ���ң��ͼ��</li>
<li><a href="http://www.lmars.whu.edu.cn/prof_web/zhongyanfei/e-code.html" target="_blank" rel="noopener">SIRI-WHU</a>-�����ݼ�����12�������Ҫ���ڿ�����;�����¸�������о�����200��Ӱ��ũ������ҵ�����ۿڡ������õء���ҵ�����ݵء������š�ͣ��������������������������ˮ�塣ÿһ��Ӱ���СΪ200*200���ռ�ֱ���Ϊ2�ס������ݼ���ȡ�Թȸ�������人��ѧRS-IDEA�о���(SIRI-WHU)�Ѽ���������Ҫ�������й��ĳ��е������ο����ף�B. Zhao, Y. Zhong, G.-s. Xia, and L. Zhang, ��Dirichlet-Derived Multiple Topic Scene Classification Model Fusing Heterogeneous Features for High Spatial Resolution Remote Sensing Imagery,�� IEEE Transactions on Geoscience and Remote Sensing, vol. 54, no. 4, pp. 2108-2123, Apr. 2016.</li>
<li><a href="http://www.lmars.whu.edu.cn/xia/AID-project.html" target="_blank" rel="noopener">AID</a>-AID��һ���µĴ��ͺ���ͼ�����ݼ�������Google Earthͼ�����ռ�����ͼ�񡣾���Google Earthͼ����ʹ��ԭʼ��ѧ����ͼ���RGB��Ⱦ���к����ģ�����ʵ֤������ʹ�����ؼ���������/����ͼ�У�Google Earthͼ����ʵ�ʹ�ѧ����ͼ��֮��Ҳû���������졣��ˣ�Google Earthͼ��Ҳ���������������������㷨�ĺ���ͼ���µ����ݼ�������30�ֿ��г���������ɣ�Airport, bare land, baseball field, beach, bridge, center, church, commercial, dense residential, desert, farmland, forest, industrial, meadow, medium residential, mountain, park, parking, playground, pond, port, railway station, resort, river, school, sparse residential, square, stadium, storage tanks and viaduct�����е�ͼ����ң��ͼ����������ר�ұ�ǣ�ͼ����ʾ��ÿһ���һЩ������AID���ݼ���30������10000��ͼ�񡣲ο����ף�G.-S. Xia, J. Hu, F. Hu, B. Shi, X. Bai, Y. Zhong, L. Zhang, X. Lu, ��AID: A benchmark dataset for performance evaluation of aerial scene classification��, IEEE Transactions on Geoscience and Remote Sensing, vol. 55, no. 7, pp. 3965-3981, 2017.</li>
<li><a href="http://www.escience.cn/people/JunweiHan/NWPU-RESISC45.html" target="_blank" rel="noopener">NWPU-RESISC45</a>-NWPU-RESISC45���ݼ���������ҵ��ѧ��NWPU��������һ��������ң��ͼ�񳡾��������ݼ��������ݼ�����31500��ͼ�񣬸���45�������࣬ÿ����700��ͼ����45��������������airplane, airport, baseball diamond, basketball court, beach, bridge, chaparral, church, circular farmland, cloud, commercial area, dense residential, desert, forest, freeway, golf course, ground track field, harbor, industrial area, intersection, island, lake, meadow, medium residential, mobile home park, mountain, overpass, palace, parking lot, railway, railway station, rectangular farmland, river, roundabout, runway, seaice, ship, snowberg, sparse residential, stadium, storage tank, tennis court, terrace, thermal power station, and wetland. �ο����ף�G. Cheng, J. Han, X. Lu. Remote Sensing Image Scene Classification: Benchmark and State of the Art. Proceedings of the IEEE.</li>
<li><a href="https://sites.google.com/view/zhouwx/dataset" target="_blank" rel="noopener">PatternNet</a>-PatternNet��Ϊң��ͼ��������ռ��Ĵ��ģ�߷ֱ���ң�����ݼ�������38���࣬ÿ������800����СΪ256��256���ص�ͼ��PatternNet�е�ͼ���Ǵ�Google Earthͼ���ͨ��Google Map APIΪ����һЩ�����ռ��ġ�ͼ����ʾ��ÿ�����һЩʾ��ͼ�񡣲ο����ף�Zhou, W., Shao, Z., Diao, C., &amp; Cheng, Q. (2015). High-resolution remote-sensing imagery retrieval using sparse features by auto-encoder. Remote Sensing Letters, 6(10), 775-783.</li>
<li><a href="https://github.com/lehaifeng/RSI-CB" target="_blank" rel="noopener">RSI-CB</a>-����DCNN��ͼ���С�Ĳ�ͬҪ�󣬷ֱ𹹽���256��256��128��128���ش�С��RSI-CB256��RSI-CB128�����ռ�ֱ���Ϊ0.3-3m�����ݼ���ǰ�߰���35������24000���ͼ�񡣺��߰���45������36000���ͼ�񡣸��ݹ����������÷����׼��ImageNet�ּ����ƣ��������ϸ�Ķ��������ϵ����������ũ�õء������õغ���ʩ����ͨ�������ʩ��ˮ����ʩ���ֵغ������õء��ο����ף�Li H, Tao C, Wu Z, et al. RSI-CB: a large scale remote sensing image classification benchmark via crowdsource data[J]. arXiv preprint arXiv:1705.10450, 2017.</li>
<li><a href="https://arxiv.org/abs/1806.00801" target="_blank" rel="noopener">AID++</a>-�ο����ף�Jin P, Xia G S, Hu F, et al. AID++: An Updated Version of AID on Scene Classification[C]//IGARSS 2018-2018 IEEE International Geoscience and Remote Sensing Symposium. IEEE, 2018: 4721-4724.</li>
<li><a href="http://www.lmars.whu.edu.cn/prof_web/xiaozhifeng/dataset.html" target="_blank" rel="noopener">RSD46-WHU</a>-һ������ң��ͼ�񳡾�����Ĵ�߶ȿ������ݼ������ݼ��Ǵ�Google Earth��Tianditu�ռ��ġ��������ĵ���ֱ���Ϊ0.5�ף�������ԼΪ2�ף�ÿ������500-3000��ͼ��RSD46-WHU���ݼ���11.7���ͼ����46���ࡣ�ο����ף�Y. Long, Y. Gong, Z. Xiao and Q. Liu, ��Accurate Object Localization in Remote Sensing Images Based on Convolutional Neural Networks,�� in IEEE Transactions on Geoscience and Remote Sensing, vol. 55, no. 5, pp. 2486-2498, May 2017. doi: 10.1109/TGRS.2016.2645610</li>
<li><a href="http://bigearth.net/" target="_blank" rel="noopener">BigEarthNet</a>-BigEarthNet��һ���µĴ���Sentinel-2������ݼ�����590326��Sentinel-2ͼ�����ɡ�Ϊ�˽���BigEarthNet���ݼ������ѡ������2017��6����2018��5���ڼ���ŷ��10�����ң��µ���������ʱ���������������������֡�������¬ɭ����������������ά�ǡ���ʿ����ȡ��125��Sentinel-2ͼ�����е�ͼ��鶼����Sentinel-2level 2A��Ʒ���ɺ͸�ʽ�����ߣ�sen2cor�����д���У���ġ�Ȼ�󣬽����Ƿ�Ϊ590326�����ص���ͼ��顣ÿ��ͼ�����2018�꣨CLC 2018��CORINE���ظ������ݿ��ṩ�Ķ�����ظ��ǵȼ����������ǩ������ע�͡��ο����ף�G. Sumbul, M. Charfuelan, B. Demir, V. Markl, BigEarthNet: A large-scale benchmark archive for remote sensing image understanding, arXiv preprint, 2019.<h4 id="����ָ�"><a href="#����ָ�" class="headerlink" title="����ָ�"></a>����ָ�</h4>����ָ�����Ȼ���ݼ��ķָ�Ч�����Ͻ��������о���Ӧ�õ���ң�����������Ǹ߷ֱ���ң��Ӱ������ң��ͼ����к������ݣ��߶��������ռ������ǿ���ص㣬�ܹ��ܺõ�����ָ�ķ�������ȡ�������з��ࡣ����ȫ�����������������������粻����ȫͼʽ�ķ�����������ߣ�Ҳ�ڽṹ������ľֲ�������ȡ���˽�����ȫ����������ʵ���˶�ͼ��������ؼ��ķ��࣬�Ӷ���������弶���ͼ��ָ����⡣</li>
<li><a href="http://captain.whu.edu.cn/GID/" target="_blank" rel="noopener">Gaofen Image Dataset(GID)</a>-Gaofen Image Dataset(GID)��һ�������������ú����ظ��ǣ�LULC������Ĵ������ݼ�.�������������й�60�����ͬ���е�150�Ÿ������߷�2�ţ�GF-2��ͼ����Щͼ�񸲸ǵĵ������򳬹���5��ƽ�����GIDͼ����нϸߵ����ڶ����Ժͽϵ͵����ɷ����ԡ�Gaofen-2��GF-2���Ǹ������ȵ���۲�ϵͳ��HDEOS���ĵڶ������ǡ�GF-2���ǰ����˿ռ�ֱ���Ϊ1m��ȫɫͼ���4m�Ķ����ͼ��ͼ���СΪ6908*7300��������ṩ����ɫ����ɫ����ɫ�ͽ����Ⲩ�ε�ͼ����2014������������GF-2�ѱ���������ʹ�õ��顢������⡢������㡢����滮����ҪӦ�á��ο����ף�Tong X Y, Xia G S, Lu Q, et al. Learning Transferable Deep Models for Land-Use Classification with High-Resolution Remote Sensing Images[J]. arXiv preprint arXiv:1807.05713, 2018.</li>
<li><a href="http://www2.isprs.org/commissions/comm3/wg4/semantic-labeling.html" target="_blank" rel="noopener">ISPRS Test Project on Urban Classification and 3D Building Reconstruction��2D Semantic Labeling Contest</a>-ISPRS�ṩ�˳��з������ά�����ؽ�������Ŀ���������Ƚ��Ļ���ͼ�����ݼ��������ݼ��������ɸ߷ֱ���������Ƭ����Ӧ���ܼ�ͼ��ƥ�似�����������ֵر�ģ�ͣ�DSM�������������ݼ����򶼺����˳��г�����Vaihingen��һ����Խ�С�Ĵ�ׯ������������Ľ�����С�Ķ�㽨����Postdam��һ�����͵���ʷ���У����Ŵ�Ľ���Ⱥ����խ�Ľֵ����ܼ��ľ���ṹ��ÿ�����ݼ����ֶ�����Ϊ������������ظ�����𡣢ٲ�͸ˮ�� (RGB: 255, 255, 255)���ڽ�����(RGB: 0, 0, 255)���۵Ͱ�ֲ�� (RGB: 0, 255, 255)������ľ (RGB: 0, 255, 0)��������(RGB: 255, 255, 0)���ޱ��� (RGB: 255, 0, 0)�����������ˮ���������������ͬ�����壨�������������򳡡���Ӿ�أ�����Щ����ͨ�����ڳ��г����еĲ�����Ȥ���������</li>
<li><a href="http://www.grss-ieee.org/2017-ieee-grss-data-fusion-contest/" target="_blank" rel="noopener">2017 IEEE GRSS Data Fusion Contest</a>-2017��IEEE GRSS�����ںϾ������÷�����Ϊ���塣Ҫִ�е������ǶԸ��ֳ��л����е�����ʹ�ý��з��࣬��׼ȷ��˵�������2012��ط���������LCZ��������ѡ���˼�������������LCZԤ������������ƹ����������������Ϊ��ʱ�࣬��Դ�Ͷ�ģ̬��������ͼ�������㡣���ݼ�Ϊ���ĸ�������ɡ��������ʵ�����ṩ�ĵĵ����������ݣ�����8������ײ��μ���100�׷ֱ����ز����Ŀɼ����̺ͳ����Ⲩ�����ڱ�2ͼ�񣺸�ͼ��ռ�ֱ���Ϊ100�ף�ӵ��9������ײ��μ��ɼ��⡢������Ͷ̺��Ⲩ���������޸ĵĸ��������2016�����������ݣ����Žֵ�ͼ��OSM���㣬��������������Ϣ����������Ȼ����·���������������������л�Ϊ����������ʹ�������ṩ�ֱ���Ϊ20�׵�OSM���դ���ͼ����������ͼ����ӡ����⣬����ѡȡ�ĳ��У����ṩ�˳��м��������ĸ���LCZ��ĵ�����ʵ��ǩ����ǩΪ100�׷ֱ��ʵ�դ��ͼ��Ҳ�ɵ��ӵ�����ͼ���ϡ�</li>
<li><a href="https://zenodo.org/record/1154821#.XH6HtygzbIU" target="_blank" rel="noopener">Aerial Image Segmentation Dataset</a>-�ú���ͼ���Ϊ���ݼ����Թȸ��ͼ�ĺ���ң��ͼ�������OpenStreetMap�����ؽ�������·�ͱ�����ǩ����������Ϊ���֡�֥�Ӹ硢���衢����̹����������������ʵͼ�����һ�����Թȸ��ͼ�Ķ�����������ͼ���Լ��ֶ����ɵġ����ؼ��Ľ�������·�ͱ�����ǩ�����ؼ���ǩ��RGB˳����ΪPNGͼ���ṩ�����Ϊ�������·�ͱ�����������RGB��ɫ[255��0��0]��[0��0��255]��[255��255��255]��ʾ��</li>
<li><a href="http://www.grss-ieee.org/community/technical-committees/data-fusion/2018-ieee-grss-data-fusion-contest/" target="_blank" rel="noopener">2018 IEEE GRSS Data Fusion Contest</a>-��������NCALM��2017��2��16����16��31��18��18 GMT֮��ӹ��һ��ؼ��������Ļ�õġ����ⳡ������ʹ�������ռ��Ĵ���������һ����������ͬ���εļ����״ﴫ����OPTech TITAM M��14sen/con340����һ������70���׽���ĸ߷ֱ��ʵĲ�ɫ������Dimac ULTRALIGHT+���Լ�һ��һ���߹��׳�����ITRES CASI 1500������׼����״�������ݲ�����1550nm��1064nm��532nm���ӵ�һ�η���ÿͨ����դ��ǿ�Ⱥ�DSM�Ŀռ�ֱ���Ϊ50cm���߹������ݸ��Ƿ�ΧΪ380-1050nm������48������,�ռ�ֱ���Ϊ1m���߷ֱ���RGBң��ͼ��Ŀռ�ֱ���Ϊ5cm,���ָ�ɼ���������ͼƬ��</li>
<li><a href="http://earthvisionlab.whu.edu.cn/zm/SemanticSegmentation/index.html" target="_blank" rel="noopener">EvLab-SS Dataset</a>-EvLab-SS���ݼ�����������ʵ���̳����ϵ�����ָ��㷨��ּ��Ϊң������ĸ߷ֱ������ؼ���������Ѱ��һ�����õ����ѧϰ�ܹ������ݼ���Դ�ڴ��й�������������ͻ�ͼ��Ŀ��ÿ��ͼ���е����������������ע�͡����ݼ���ƽ����СԼΪ4500*4500���ء�EvLab-SS���ݼ�����11�����࣬�ֱ��Ǳ�����ũ���԰���ֵء��ݵء���������·��������ڿ�׮��ɳĮ��ˮ��Ŀǰ�����ɲ�ͬƽ̨�ʹ����������60��ͼ�񡣸����ݼ�����35������ͼ������19֡��World-View-2���ǲɼ���5����GeoEye���ǣ��ɼ���5֡��Quick Bird���ǲɼ���6֡��GF-2���ǲɼ��������ݼ�����25������ͼ������10��ͼ��Ŀռ�ֱ���Ϊ0.25�ף�15��ͼ��Ŀռ�ֱ���Ϊ0.1�ס��ο����ף�Zhang M, Hu X, Zhao L, et al. Learning dual multi-scale manifold ranking for semantic segmentation of      high-resolution images[J]. Remote Sensing, 2017, 9(5): 500.</li>
<li><a href="http://deepglobe.org/index.html" target="_blank" rel="noopener">DeepGlobe Land Cover Classification Challenge</a>-DeepGlobe Land Cover Classification Challenge��һ���������ݼ����ṩ�߷ֱ�����������ͼ���ص���ũ��������������ظ������͵Ķ����Ժ�ע�͵��ܶȣ������ݼ����������������ж�Ӧ���ݼ�������ս�ԡ������ݼ�������10146������ͼ�񣬴�СΪ20448*20448���أ���Ϊѵ��/��֤/���Լ���ÿ��ͼ��Ϊ803/171/172�ţ���Ӧ70%/15%/15%��</li>
<li><a href="https://github.com/SorourMo/38-Cloud-A-Cloud-Segmentation-Dataset" target="_blank" rel="noopener">38-Cloud dataset</a>-�����ݼ�����38��Landsat 8 ����ͼ�����ֶ���ȡ�����ؼ�������ʵ��ǩ�������Ƽ�⡣��Щ����������ͼ�񱻲ü��ɶ��384*384���߿飬���ʺ��ڻ������ѧϰ������ָ��㷨�����ݼ�������Ϊ8400���߿����ѵ����9201���������в��ԡ�ÿ��ͼ����4����Ӧ�Ĳ��Σ��ֱ��Ǻ�ɫ������4������ɫ������3������ɫ������2���ͽ����⣨����5�����ο����ף�Mohajerani S,  Krammer T A, Saeedi P. Cloud Detection Algorithm for Remote Sensing Images Using Fully Convolutional Neural Networks[J]. arXiv preprint arXiv:1810.05782, 2018.</li>
<li><a href="https://github.com/ishann/aeroscapes" target="_blank" rel="noopener">Aeroscapes</a>-��������ָ����ݼ�����ʹ����ҵ���˻���5��50�׸߶ȷ�Χ�ڲ����ͼ�񡣸����ݼ�Ϊ11�����ṩ��3269��720pͼ��͵ر���ʵ��ǩ���ο����ף�Nigam I, Huang C, Ramanan D. Ensemble knowledge transfer for semantic segmentation[C]//2018 IEEE Winter Conference on Applications of Computer Vision (WACV). IEEE, 2018: 1499-1508.</li>
<li><a href="https://mediatum.ub.tum.de/1474000" target="_blank" rel="noopener">SEN12MS</a>-SEN12MS����180,748����Ӧ����������ң��������ɵ�һ�����ݼ���������Sentinel-1˫����SAR���ݣ�Sentinel-2�����ͼ���MODIS���ظ���ͼ������Sentinel-1ͼ��ֱ���Ϊ20m��Sentinel-2�����ͼ��ֱ���Ϊ10m,������Ϊ13��MODIS�����ظ��ǵ�ͼ��ֱ���Ϊ500m��<h4 id="������ָ�"><a href="#������ָ�" class="headerlink" title="������ָ�"></a>������ָ�</h4>����������������������������Ҫ���壬������������Ϣ�ǹ��һ���������Ϣ����Ҫ��ɲ��֡�������˹�ң�н�����ʸ����������㷨ģ�ʹ�ң��Ӱ�����Զ���ȡ�������������������������������ġ����ڳ��������о������ֳ��н�����������Ź㷺��Ӧ�á���������ȫ����������Ĳ��Ϸ�չΪ�߾����Զ�����������ȡ�ṩ���µķ��������ǣ����ڽ������ڳ߶ȣ����������̬���нϴ���죬Ŀǰ�߾��Ƚ�������ȡ�Դ��ڽϴ���ս��һ���棬�Ѽ�˽ϺõĽ����ﶨλ���ȣ������ڸ߲������������뽨�����Ե���ȣ�������ǳ������������һ���棬����������ķ������������ڴ�߶����ݼ�����ѵ����</li>
<li><a href="https://www.cs.toronto.edu/~vmnih/data/" target="_blank" rel="noopener">Massachusetts</a>-Massachusetts�������ݼ���һ�����ڽ�����ָ�Ĵ������ݼ��������ݼ���151�麽��ͼ�����Ӧ�ĵ�ͨ����ǩͼ����ɣ�����ѵ������Ϊ137�飬���Բ���Ϊ10�飬��֤����Ϊ4�顣��Щ���ݼ�������ͼ��Ĵ�СΪ1500��1500���ֱ���Ϊ1 �ס�ÿ��Ӱ�񸲸���2.25ƽ������������������ݼ���Լ����340ƽ������������ǩ�ɽ������ǩ����Open Street Maps���ο����ף�Mnih V. Machine learning for aerial image labeling[D]. University of Toronto (Canada), 2013.</li>
<li><a href="https://spacenetchallenge.github.io/" target="_blank" rel="noopener">SpaceNet Challenge</a>-Spacenet���ݼ���2018��SpaceNet Challenge���������ݼ��������ݼ���������Լ����¬��ά��˹�����衢�Ϻ��������¡���������6�������ĸ߷ֱ���ң��Ӱ�����Ӧ�Ľ��������������У���Լ����¬������������õ���DigitalGlobe��WorldView-2�����ϲɼ���30����ͼ�񣬶�ά��˹�����衢�Ϻ�������������õ���WorldView-3�����ϲɼ���30����ͼ��6���������кϼ�685,000�������</li>
<li><a href="https://figshare.com/collections/Aerial_imagery_object_identification_dataset_for_building_and_road_detection_and_building_height_estimation/3290519" target="_blank" rel="noopener">����Ӱ��Ŀ��ʶ�����ݼ�</a>-���ں���ͼ��������̵��Զ�����Ҫ����ѵ���������ڻ���ѧϰ�㷨�Ŀ��������󣬺���Ӱ��Ŀ��ʶ�����ݼ��ṩ�˺��9���������е�25���ص�ĸ߷ֱ��ʺ���ͼ��40000����������������θ߶����ݣ������״�����˽�����������������ݼ��������˵�·ʸ����������͵�·��״�ļ�����OpenStreetMaps��OSM���������״����������������Һ���ʹ��������֣�NOAA�����¿���˹����Ȼ��Դ��Ϣϵͳ��TNRIS����������ݼ�������ѵ��������Ӿ��ͻ���ѧϰ�㷨������ң��Ӱ��Ŀ��ʶ��ͷָ�ر��ǽ������⡢��·��ȡ��������߶ȹ��ơ��ο����ף�Bradbury, Kyle; Brigman, Benjamin; Collins, Leslie; Johnson, Timothy; Lin, Sebastian; Newell, Richard; et al. (2016): Aerial imagery object identification dataset for building and road detection, and building height estimation. figshare. Collection. <a href="https://doi.org/10.6084/m9.figshare.c.3290519.v1" target="_blank" rel="noopener">https://doi.org/10.6084/m9.figshare.c.3290519.v1</a></li>
<li><a href="https://project.inria.fr/aerialimagelabeling/" target="_blank" rel="noopener">Inria</a>-Inria���ݼ������������810ƽ�����405ƽ����������ѵ����405ƽ���������ڲ��Եģ����ռ�ֱ���Ϊ0.3m�ĺ��������ɫͼ��Ӱ���Ӧ�Ķ�ֵ�����������������ݼ�ֻ������ѵ�����Ľ������ǩ�������Լ���ֻ�ṩӰ����ЩӰ�񸲸��˲�ͬ�ĳ��о��䣬���˿ڳ��ܵĵ�������ɽ�ɽ�Ľ���������������˹ɽ���ĳ�����µ������޶��������ȣ����봫ͳ�Ľ���ͬͼ������ڲ��ַָ�Ϊѵ���Ͳ����Ӽ���ͬ��Inria���ݼ���ѵ��������Լ����ֱ�����˲�ͬ�����Ӱ����ͬ����ͬ����ʱ���Ӱ�����磬֥�Ӹ��Ͽյ�ͼ�������ѵ�����У����ڲ��Լ��У����ɽ�ɽ�Ͽյ�ͼ������ڲ��Լ��У�����ѵ�����У���������ݼ�������Ŀ����������Ƶ�ģ�͵ķ�����������Ȼ��ͬ������ͼ�������ѵ����������Ƶ�ģ��Ӧ���ڲ�ͬ�������������о��ۺ�һ���еĲ�ͬʱ���ϣ�Ҳ�ܹ�ʵ�־��ȽϸߵĽ�������ȡ���ο����ף�Maggiori E, Tarabalka Y, Charpiat G, et al. Can semantic labeling methods generalize to any city? The INRIA aerial image labeling benchmark[C]//IEEE International Symposium on Geoscience and Remote Sensing (IGARSS). 2017.</li>
<li><a href="https://github.com/topcoderinc/Urban3d" target="_blank" rel="noopener">USSOCOM ������ά��ս���ݼ�</a>-��������ͼ��ȷ��ȡ��������������ȷ��άģ�ͺ͵�ͼ����Ҫ�������ս�ԵĲ���֮һ����Ȼ�Զ����㷨���ϸĽ���������Ҫ�������ֶ�������ȷ�������ռ�ľ��ȡ����ڴˣ�USSOCOM ������λ��սּ��Ѱ��һ������ѧϰ�㷨���ܹ������������ɫ����ͼ�����ά�߶������ṩ�ɿ��Ľ������Զ���ǡ���ս������һ�����ģ�����ݼ������а���RGBӰ����ά���ֱ���ģ�ͺ���ά���ָ߳�ģ�ͣ���Щģ��������ҵ����ͼ�����ɵģ�������360�๫������򣬰���Լ157000��������ʸ��������ͼ���Ʒ����50������Ϊ����������롣�ο����ף�H. Goldberg, M. Brown, and S. Wang, A Benchmark for Building Footprint Classification Using Orthorectified RGB Imagery and Digital Surface Models from Commercial Satellites, 46th Annual IEEE Applied Imagery Pattern Recognition Workshop, Washington, D.C, 2017.</li>
<li><a href="https://competitions.codalab.org/competitions/18544" target="_blank" rel="noopener">DeepGlobe Challenge</a>-2018��CVPR������DeepGlobe Challenge����������������ʶ�𡢵�·��ȡ���������÷����������������У�������ʶ����ȡ����������DeepGlobe Building Extraction���ݼ������ݼ������ĸ���������˹ά��˹�����衢�Ϻ��Ϳ����¡���ǵ����ݼ���240586��200�ס�200�ף���Ӧ650��650���أ��ķ��ص�Ӱ�񣬼�3020701��������������ɡ���Щ���������˲�ͬ�ĳ��������������Ӱ������WorldView-3������������31cm������ȫɫӰ��8����1.24�׶����ͼ�񡣲ο����ף�Demir I, Koperski K, Lindenbaum D, et al. DeepGlobe 2018: A Challenge to Parse the Earth through Satellite Images[J]. arXiv preprint arXiv:1805.06561, 2018.</li>
<li><a href="https://www.crowdai.org/challenges/mapping-challenge" target="_blank" rel="noopener">CrowdAI Mapping Challenge</a>-��CrowdAI Mapping��ս�У��ṩ��RGBͼ�������ͼ��ĸ����ַ������ݼ����Լ����Ƕ�ͼ������λ�õ���Ӧ������������ѵ������һ�װ���280741������ͼ��300x300����RGBͼ�񣩣��Լ�������MS-COCO��ʽ�е���Ӧע�͵����ݼ������Լ���һ�װ���60317������ͼ��300x300����RGBͼ�񣩵����ݼ����Լ�MS-COCO��ʽ����Ӧע�͡����Լ��ṩ��60697������ͼ��300x300����RGBͼ�񣩣���������ҪΪ���Լ�Ӱ��Ԥ����������ע���ύ��</li>
<li><a href="http://study.rsgis.whu.edu.cn/pages/download/" target="_blank" rel="noopener">WHU ���������ݼ�</a>-WHU ���������ݼ��ɺ������ݼ����������ݼ���ɡ��ο����ף�Ji S, Wei S, Lu M. Fully Convolutional Networks for Multisource Building Extraction From an Open Aerial and Satellite Imagery Data Set[J]. IEEE Transactions on Geoscience and Remote Sensing, 2018 (99): 1-13.</li>
<li><a href="https://www.airs-dataset.com/" target="_blank" rel="noopener">AIRS</a>-AIRS������ͼ���ݶ��ָ����ݼ�����һ���������ݼ�����Ŀ���Ǵӷǳ��߷ֱ��ʵĺ���ͼ���зָ��ݶ��㷨�Ļ�׼��AIRS����Ҫ�ص���Ը���Ϊ�����Ƿ�Χ457ƽ���������亽��Ӱ���ܼƳ���22�򶰽�������ߵ�ͼ��ռ�ֱ��ʣ�0.075m�������ݶ������ϸ������ݶ�������ǩ��AIRS���ݼ������������������ϵ������п���˹�س����ȫ����������Ƭ������2015���2016��ķ��м��ڣ����ṩ��ͼ��������������ī����ͶӰ��RGBͨ����7.5cm�ֱ��ʵ�����У��DOMs��AIRS����ķָ�������������ࣺ�ݶ����غͷ��ݶ����ء�</li>
<li><a href="https://www.airs-dataset.com/" target="_blank" rel="noopener">Open AI ̹ɣ���ǽ��������ݼ�</a>-Open AI̹ɣ�����������ݿ�ѧ�ҿ�����������㷨������̹ɣ�������˻�����Աͨ��ɣ���Ͷ����ƻ���ZMI���ռ��ĸ߷ֱ��ʺ���ͼ���Զ�ʶ������ͽ��������͡�������ս��Ŀ�����ڽ����Ĳ�ͬ�׶ζԽ����㼣������ȷ�ķָ�ͷ��ࡣOpen AI ̹ɣ���ǽ��������ݼ���GeoTIFF�ļ���GeoJSON�ļ�����ʽ�ṩ��GeoJSON�ļ�����������������geojson�ļ��еġ�condition������������������������е��κ������ֶζ����Ժ��ԡ�<h4 id="�仯���"><a href="#�仯���" class="headerlink" title="�仯���"></a>�仯���</h4>ң��ͼ��仯���ָ�������ò�ͬʱ�ڵ�ң��Ӱ������ȡĳ�����������ظ������͵Ķ�̬�仯��Ϣ����������Ȼ��Դ�������ż�ʱ���յ���仯��̬�ƺ��ݻ����̣�Ϊ�����ռ�滮������Ԥ���Լ�ά�������ṩ��ʵ�����Ĳο�����������Դ������ũ�ּ�⡢��Ȼ�ֺ���������������������Ҫ���á������������ѧϰ�������㷺Ӧ����ң��ͼ�����ܽ��뷽�棬ҲΪ�����ٸ���Ч�ı仯����ṩ���µ�˼·��</li>
<li><a href="https://rcdaudt.github.io/oscd/" target="_blank" rel="noopener">Onera Satellite Change Detection (OSCD)</a>-OSCD���ݼ���24�Զ����ͼ����ɣ��ֱ�Ϊ2015���2018����Sentinel-2������ã�����13�����Σ�������10m��20m��60m���ֿռ�ֱ��ʡ����е�14��ͼ����ж�Ӧ�����ؼ��仯��ǣ���������ѵ�������ñ仯����㷨�Ĳ���������10��ͼ��ı仯�����δ������ �����Խ�Ԥ��ı仯����ϴ���<a href="http://dase.grss-ieee.org/" target="_blank" rel="noopener">IEEE GRSS DASE��վ</a>��������������ÿһ���׼ȷ�Ժͻ������󣬼���仯����㷨����Ч�ԡ��ο����ף�Urban Change Detection for Multispectral Earth Observation Using Convolutional Neural Networks R. Caye Daudt, B. Le Saux, A. Boulch, Y. Gousseau IEEE International Geoscience and Remote Sensing Symposium (IGARSS��2018) Valencia, Spain, July 2018</li>
<li><a href="https://computervisiononline.com/dataset/1105138664" target="_blank" rel="noopener">Change Detection Benchmark in Aerial Imagery (AICD Dataset)</a>-�����ݼ�����1000��800��600��С��ͼ�����Ӧ�����ؼ��仯��ǣ�ͼ��ĵ���ֱ���ԼΪ0.5m�����ݼ�����100����ͬ�ĳ�����������ľ��������ȶ��󡣴��⣬Ϊ�˷����ӵ����Լ�����ܵ�Ӱ�죬ÿ�������ֱ�������ͬ���ӵ�������㡣��ͼչʾ���ӵ�����ã�������ڸ߶�ԼΪ250�ף��뾶Ϊ100m�ķ�Χ�ڣ���10��Ϊ������̶����ԼΪ-70�Ƚ�������ӵ�����㡣</li>
<li><a href="https://land.copernicus.eu/local/urban-atlas" target="_blank" rel="noopener">Urban Atlas</a>-Urban Atlas���ݼ��ṩ����Ҫŷ�˳��з�Χ�ڿɶԱȵ��������ú����ظ������ݣ�����5�����ݣ�(1) 2006���319�������ĳ��й��������ݡ�Urban Atlas 2006��; (2) 2012���785�������ĳ��й��������ݡ�Urban Atlas 2012��; (3) ��Change 2006-2012��; (4) ����������е���ͼ�㡰Street Tree Layer (STL)��; (5) ���ֳ��У�ŷ��28����ŷ������ó�����˹����׶����ĺ��ĳ��������߶����ݡ�Building Height 2012��; ���У���Urban Atlas 2006���͡�Urban Atlas 2012������ÿ�������ĳ��й�����ʸ��ͼ�㼰��Ӧ����PDF��ʽ�ĸ߷ֱ��ʵ�ͼ�����仯ͼ�㡰Change 2006-2012��ͳ���ˡ�Urban Atlas 2006���͡�Urban Atlas 2012���й�ͬ����������ĳ��й������仯�����<h4 id="LiDAR����"><a href="#LiDAR����" class="headerlink" title="LiDAR����"></a>LiDAR����</h4>��񣬼����״＼��������̽��Ͳ�ࡱ����ң�н����չ�����ǿ��Կ������Ӧ���Ѿ���Ϊ�㷺��������м���ɨ�裨ALS���������ڴ��ģ������������·��ɭ�֣����漤��ɨ�裨TLS������������������ڻ����и���ϸ���ٶȽ����ĳ��в������ƶ�����ɨ�裨MLS�����ȱ�TLS�ͣ������ڴ�������װ����ͬһ�����϶����и��ߵ�Ч�ʡ�</li>
<li><a href="http://www.cs.cmu.edu/~vmr/datasets/oakland_3d/cvpr09/doc/" target="_blank" rel="noopener">Oakland 3-D�������ݼ�</a>-Oakland 3-D������ʹ��Navlab11�Ͳ��ӵ�LMS����ɨ�����ռ��ġ����ݲɼ���λ�ڱ�Ϧ��������ƥ�ȱ��¿����е�֥�Ӹ��ѧУ԰��������ascii��ʽ�ṩ��x, y, z��ǩ���Ŷȣ�ÿ��һ�㣬�ո���Ϊ�ָ��������ṩ����Ӧ��vrml�ļ���.wrl���ͱ�ǩ�����ļ���.stats�������ݼ��������Ӽ���part2��part3����ɣ�ÿ���Ӽ����Լ��ı��زο�֡������ÿ���ļ�����100000����ά�㡣��ѵ����/��֤���Ͳ��Լ�������ɸѡ���������44����ǩ����ӳ�䵽5����ǩ�С��ο����ף�Daniel Munoz, J. Andrew (Drew) Bagnell, Nicolas Vandapel and Martial Hebert  Conference Paper, Proceedings of IEEE Computer Society Conference on Computer Vision and Pattern Recognition (CVPR), June, 2009</li>
<li><a href="http://www.cmm.mines-paristech.fr/~serna/rueMadameDataset.html" target="_blank" rel="noopener">Paris-rue-Madame</a>-Paris-rue-Madame���ݼ���������ά�ƶ�����ɨ�����ռ��õ��������ռ��ڷ��������������һ���ֵ�rue Madame��������������rue M��zi��res��rue Vaugirard��160�׳��Ľֵ������ݻ�ȡʱ��Ϊ2013��2��8��13:30��������ݼ�����TerraMobilita��Ŀ�Ŀ���¿����ġ�������λ�ڷ�������˹����˹�����ɽ�Ļ�����ʵ���ң�CAOR����LARA2-3D��ά����ɨ���ǻ�õġ����ݱ�ע���ɷ����㵤��¶��ҵ���ģ�MINES ParisTech������ѧ��̬ѧ���ģ�CMM�����˹������ķ�ʽ���еġ����ݼ���������ply�ļ���ÿ��ply�ļ�������1000����㡣ÿ���ļ�����һ�����б���x, y, z, reflective, label, class��������x, y, z��Ӧ��Lambert 93��altitude IGN1969��grid RAF09���ο�����ϵ�еĵ����ο����꣨E, N, U����reflective�Ǽ���ǿ�ȣ�label�Ƿָ���õĶ����ǩ��class�Ƕ�����𡣲ο����ף�A. Serna, B. Marcotegui, F. Goulette and J.-E. Deschaud “Paris-rue-Madame database: a 3D mobile laser scanner dataset for benchmarking urban detection, segmentation and classification methods”. ICPRAM 2014.</li>
<li><a href="http://data.ign.fr/benchmarks/UrbanAnalysis/" target="_blank" rel="noopener">IQmulus &amp; TerraMobilita</a>- IQmulus &amp; TerraMobilita���ݼ���һ���������ݼ������ݰ�����3�ڸ���ά����ɵĵ������ݣ�������2013��1���ڷ�����һ�������ܼ������ȡ��������ݼ�����iQmulus��TerraMobilita��Ŀ�Ŀ���²��������ɷ������Ҳ�棨IGN��������MLSϵͳStereopolis II��ȡ�����ݱ�ע��IGN��MATISʵ�������ֶ���ʽ���С���������ݼ��У����ݴ洢Ϊply�ļ���ʽ��������ά���Ʊ��ָ�ͷ��࣬��ÿ�������һ����ǩ��һ���ࡣ��ˣ����ָ���෽����������۳�Ϊ���ܡ��ο����ף�Bruno Vallet, Mathieu Br��dif, Andr��s Serna, Beatriz Marcotegui, Nicolas Paparoditis. TerraMobilita/IQmulus urban point cloud analysis benchmark. Computers and Graphics, Elsevier, 2015, Computers and Graphics, 49, pp.126-133. <a href="https://hal.archives-ouvertes.fr/hal-01167995v1" target="_blank" rel="noopener">https://hal.archives-ouvertes.fr/hal-01167995v1</a></li>
<li><a href="https://registry.opendata.aws/dc-lidar-2015/" target="_blank" rel="noopener">District of Columbia</a>-��ʢ�ٵ�LiDAR�������ݿɹ��κ�����Amazon S3��ʹ�á������ݼ�����ϯ�����ٰ칫�ң�OCTO��ͨ�����ױ�������������Ϣϵͳ�ƻ���������������������ƽ�̵��������Լ����Ԫ���ݡ������е�ÿ���㶼�Ѹ�������ģʽ�����˷��ࡣ</li>
<li><a href="http://www.semantic3d.net/" target="_blank" rel="noopener">semantic3d</a>-semantic3d�ṩ��һ�����д��ǩ����Ȼ������3D�������ݼ����ܼƳ���40�ڵ㡣���������˶��ֶ����ĳ��г�����churches, streets, railroad tracks, squares, villages, soccer fields, castles�ȵȡ�semantic3d�ṩ�ĵ�����ʹ�����Ƚ����豸���о�̬ɨ�裬���Ұ����ǳ���ϸ��ϸ�ڡ��ο����ף�Hackel T, Savinov N, Ladicky L, et al. Semantic3d. net: A new large-scale point cloud classification benchmark[J]. arXiv preprint arXiv:1704.03847, 2017.</li>
<li><a href="http://npm3d.fr/paris-lille-3d" target="_blank" rel="noopener">Paris-Lille-3D</a>-Paris-Lille-3D�ǵ��Ʒ���Ļ�׼���������ɷ���������ͬ���У��������������ƶ�����ϵͳ��MLS�������ġ���������ȫ���ֹ����Ϊ50�ֲ�ͬ������԰����о����������Զ����Ʒָ�ͷ����㷨���ο����ף�Roynard X, Deschaud J E, Goulette F. Paris-Lille-3D: A Point Cloud Dataset for Urban Scene Segmentation and Classification[C]//Proceedings of the IEEE Conference on Computer Vision and Pattern Recognition Workshops. 2018: 2027-2030.</li>
<li><a href="https://v-sense.scss.tcd.ie/DublinCity/" target="_blank" rel="noopener">DublinCity</a>-DublinCity���ݼ��Ƕ����ִ�ѧѧԺ��UCD���ĳ��н�ģС��ͨ��ALS�豸ɨ�趼���������ĵ���Ҫ���򣨴�Լ5.6ƽ����������ܹ���14�ڸ������а�����Լ2.6�ڸ���ǵ��ǣ�ͼ1�����������λ�ڵ��Ƶ����ܼ����������ڣ����ұ�����Ӱ����ȫ���ǡ��ο����ף�S M Iman Zolanvari, Susana Ruano, Aakanksha Rana, Alan Cummins, Rogerio Eduardo da Silva, Morteza Rahbar, Aljosa Smolic. 2019 DublinCity: Annotated LiDAR Point Cloud and its Applications. 30th BMVC, September 2019.<h4 id="�߹���ң��"><a href="#�߹���ң��" class="headerlink" title="�߹���ң��"></a>�߹���ң��</h4>�߹���ң���ǽ��������͹��׼������ϵĶ�ά��Ϣ��ȡ����������ͬʱ��ȡĿ��Ķ�ά�ռ���Ϣ�����ά�Ĺ�����Ϣ���õ��߹��׷ֱ��ʵ�������խ����ͼ�����ݡ��߹���ͼ����߷ֱ���ͼ�񡢶����ͼ����ȵ��������ڣ����Ĺ��׷ֱ��ʸߣ������ڶ࣬�ܹ���ȡ���Ｘ�������Ĺ����������ߣ������Ը�����Ҫѡ�����ȡ�ض�������ͻ��Ŀ��������������������������������Ϊ������׻���ģ������ͼ������ṩ���������������ḻ�ķ��䡢�ռ�͹�����Ϣ���Ƕ�����Ϣ���ۺ����塣�߹���ͼ���ڵ�����ͼ����Դ��̽������õ��˹㷺ʹ�á�</li>
<li><a href="https://engineering.purdue.edu/~biehl/MultiSpec/hyperspectral.html" target="_blank" rel="noopener">Washington DC����</a>-WashingtonDC��������Hydice��������ȡ��һ�����ո߹���Ӱ�����ݰ����˴� 0.4 ��2.4 ?m�ɼ���ͽ����Ⲩ�η�Χ�Ĺ�191�����Σ����ݴ�СΪ1208*307�������������ݶ����ֵ�������ʯ��·���ݵأ���ľ��ˮ����Ӱ��</li>
<li><a href="https://sites.google.com/site/feiyunzhuhomepage/datasets-ground-truths" target="_blank" rel="noopener">Urban����</a>-Urban����ͨ�������ڸ߹���ͼ������Ԫ�ֽ⡣������Hydice��������ȡ�ģ�ͼ���СΪ307*307��ԭʼ������210�����Σ���ȥ��������ˮ���ղ��κ�һ������162�����������������������������������·���ݶ����ݵغ���ľ��</li>
<li><a href="http://www.ehu.eus/ccwintco/index.php/Hyperspectral_Remote_Sensing_Scenes#Pavia_University_scene" target="_blank" rel="noopener">Pavia University�� Pavia Center����</a>-Pavia University �� Pavia Center ��������ROSIS��������ȡ�ģ��������ڸ߹���ͼ����ࡣ������һ����115�����Σ�����������Pavia University������103�����Σ�Pavia Center ������102�����Ρ�����Ӱ����9���������������Ӱ��������ȫһ�¡����У�Pavia University�Ĵ�СΪ610��340��Pavia Center�Ĵ�С��1096*715����ϸ��Ϣ����ͼ��ʾ��</li>
<li><a href="http://www.grss-ieee.org/community/technical-committees/data-fusion/2013-ieee-grss-data-fusion-contest/" target="_blank" rel="noopener">Houston����</a>-��������ʹ�ã�Houston��������ITRES CASI-1500��������ȡ�ģ���2013 IEEE GRSS�����ںϴ����ṩ�����ݴ�СΪ349*1905���������׷�Χ��364nm��1046nm��144�����Ρ����︲�Ǳ���עΪ����ͼ��ʾ��15�����</li>
<li><a href="https://figshare.com/articles/Main_zip/2007723/3" target="_blank" rel="noopener">Eagle_reize</a>-Eagle_reize��������SPECIM AsiaEAGLE II��������ȡ�ġ����ݴ�СΪ2082*1606���������׷�Χ��401nm��999nm��252�����Ρ����ṩ��ѵ����������10�ֵ��������Ϊ�����������׵�Lidar���ݣ���˼ȿ��Ա����ڵ����ĸ߹���ͼ����࣬Ҳ���Ա����ڸ߹���ͼ���Lidarͼ���ںϡ�</li>
<li><a href="http://pmd.gfz-potsdam.de/enmap/showshort.php?id=escidoc:1480925" target="_blank" rel="noopener">BerlinUrbGrad2009</a>-Berlin-Urban-Gradient dataset 2009���ݰ�����ͬ�ֱ��ʵ�HyMap�߹���Ӱ���ģ���EnMap�߹���Ӱ����ʵ��MyMap���ݰ���111�����Σ����пռ�ֱ���Ϊ3.6m�����ݴ�СΪ6895<em>1803���ռ�ֱ���Ϊ9m�����ݴ�СΪ2722</em>732�������ݼ������ṩ�˷���ο���Ҳ�ṩ�˶�Ԫ�ο�����˿����������߹���ͼ�������߸߹���ͼ������Ԫ�ֽ⡣</li>
<li><a href="http://www2.isprs.org/commissions/comm3/wg4/HyRANK.html" target="_blank" rel="noopener">HyRANK</a>-HyRANK��������Hyperion ��������ȡ�ġ���������������ѵ���ĸ߹���ͼ����������ڲ��Եĸ߹���ͼ�����ͼ�����176�����ײ��Σ�ͼ���С������ͬ�����ṩ��ѵ����������14�ֵ������</li>
<li><a href="http://www.ehu.eus/ccwintco/index.php/Hyperspectral_Remote_Sensing_Scenes" target="_blank" rel="noopener">Indian Pine</a>-Indian Pine ���� AVIRIS ��������ӡ�ڰ���������ġ�������ݵĴ�С��145*145����224�����Σ�������Ч����200�����������һ����16��ũ�������</li>
<li><a href="http://www.ehu.eus/ccwintco/index.php/Hyperspectral_Remote_Sensing_Scenes" target="_blank" rel="noopener">Salinas Valley</a>-�� AVIRIS ���������㣬����ص��Ǽ��� Salinas Valley��������ݵĿռ�ֱ�����3.7�ף���С��512*217��ԭʼ������224�����Σ�ȥ��ˮ���������صĲ��κ󣬻�ʣ��204�����Ρ�������ݰ�����16��ũ�������</li>
<li><a href="http://hyperspectral.ee.uh.edu/?page_id=1075" target="_blank" rel="noopener">DFC2018 Houston</a>-2018��IEEE GRSS Data Fusion �������õ����ݼ�������������� University of Houston Dr. Saurabh Prasad ��ʵ�������������ġ���������Ǹ��ഫ�������ݣ�������48�����εĸ߹������ݣ�1�ף���3���ε�LiDAR���ݣ�0.5�ף����Լ����߷ֱ���Ӱ��0.05�ף���������ݰ�����20����ʹ���������ǰ����ϵ Dr. Saurabh Prasad.</li>
<li><a href="https://naotoyokoya.com/Download.html" target="_blank" rel="noopener">���ո߹���Ӱ�� Chikusei</a>-������ո߹�����������Headwall Hyperspec-VNIR-C���������ձ������У�Chikusei������ģ�����ʱ����2014��7��29�ա�������ݰ�����128�����Σ���Χ��343 �C 1018 ���ף���С��2517*2335���ռ�ֱ�����2.5�ס�һ����19���������˳�����ũ�����������������ɶ�����ѧ Dr. Naoto Yokoya �� Prof. Akira Iwasaki ���������ġ��ο����ף�N. Yokoya and A. Iwasaki, “Airborne hyperspectral data over Chikusei,” Space Appl. Lab., Univ. Tokyo, Japan, Tech. Rep. SAL-2016-05-27, May 2016.</li>
<li><a href="http://www.ehu.eus/ccwintco/index.php/Hyperspectral_Remote_Sensing_Scenes" target="_blank" rel="noopener">KSC</a>-�� AVIRIS �������ڷ�������ݿ����̫��������1996��3��23�����㡣������ݰ�����224�����Σ�����ˮ������ȥ����ʣ��176�����Σ��ռ�ֱ�����18�ף�һ����13�����<h4 id="ͼ���ں�"><a href="#ͼ���ں�" class="headerlink" title="ͼ���ں�"></a>ͼ���ں�</h4>ң��ͼ��ʱ���ںϣ�ָ���ǽ�ϸ߿ռ䣬��ʱ��ֱ���ͼ����Landsat��SPOT�ȣ����¼��Ϊϸͼ�񣩺͵Ϳռ䣬��ʱ��ֱ���ͼ����MODIS�ȣ����¼��Ϊ��ͼ�񣩣�����ͬʱ��߸߿ռ䣬��ʱ��ֱ��ʵĺϳ�ң�����ݡ����������ݶ���ֲ����⣬������⣬ũ���������Ӧ���кܴ�İ�������ң��ͼ��ʱ���ںϡ����������2006�걻����������Ѿ���չ��ʮ���ꡣ</li>
<li><a href="https://pan.baidu.com/s/1ymgud6tnY6XB5CTCXPUfnw" target="_blank" rel="noopener">AHB��Tianjin��Daxing���ݼ�</a>-��ɽ��ѧ<a href="https://mp.weixin.qq.com/s/RoPeCq_hXSC1Ra3Aa4Q2OQ" target="_blank" rel="noopener">��������Ŷ�</a>�ṩ������Landsat-MODIS���ݼ����ֱ��������ɹŰ�³�ƶ����죨Ar Horqin Banner�������ͱ������������ο����ף�<a href="http://engine.scichina.com/publisher/scp/journal/SCIS/doi/10.1007/s11432-019-2785-y?slug=abstract" target="_blank" rel="noopener">J Li, Y Li, L He, J Chen and A. Plaza. Spatio-Temporal Fusion for Remote Sensing Data: An overview and New Benchmark. Sci China Inf Sci, accepted for publication, 2020.</a></li>
</ul>
<h2 id="����-����-1"><a href="#����-����-1" class="headerlink" title="����/����"></a>����/����</h2><h3 id="o��-1"><a href="#o��-1" class="headerlink" title="ȫ��"></a>ȫ��</h3><ul>
<li><a href="https://www.windy.com/" target="_blank" rel="noopener">Windy</a>-�Ƚ�רҵ����ҵ����Ӧ�ã��ṩAPI�ӿڻ�ȡ����</li>
<li><a href="https://www.ncdc.noaa.gov/" target="_blank" rel="noopener">National Climatic Data Center - NOAA</a>-�������һ�����Ϣ���ģ���⣬�������ṩ�����������ʷ�������ݺ���Ϣ</li>
<li><a href="http://www.climatedata.us/" target="_blank" rel="noopener">ClimateData.Us </a>-������ֹ�����������������</li>
<li><a href="https://code.earthengine.google.com/35a9192ba650945bd5ec3402b7f80167" target="_blank" rel="noopener">WorldClim V2</a>-</li>
<li><a href="http://www.worldclim.org/cmip5_30s" target="_blank" rel="noopener">WorldClim �����龰����</a>-</li>
<li><a href="http://gisclimatechange.ucar.edu/" target="_blank" rel="noopener">NCAR GIS Climate Change Scenarios</a>-Lots of data from the National Centre for Atmospheric Research models, including data used by the IPCC in their reports.</li>
<li><a href="http://www.cru.uea.ac.uk/cru/data/" target="_blank" rel="noopener">CRU Climate Datasets</a>-Various datasets including temperature, precipitation, pressure, drought, paleoclimate and others, from the (infamous) Climate Research Unit at the University of East Anglia. High and low resolution datasets available.</li>
<li><a href="http://www.ccafs-climate.org/data/" target="_blank" rel="noopener">Downscaled GCM Portal</a>-A wide range of downscaled (that is, higher resolution data) created from the outputs of a wide range of GCMs. Covers the majority of important climate variables.</li>
<li><a href="http://csi.cgiar.org/Aridity/" target="_blank" rel="noopener">Global Potential Evapotranspiration and Aridity Index</a>-Potential Evapotranspiration data and indices of aridity at 30 arc-second resolution in raster format.</li>
<li><a href="http://www.globaerosol.info/project_description/data.htm" target="_blank" rel="noopener">GlobAerosol</a>-Aerosol data in raster format (provided as NetCDF files), including estimations of AOD at 550nm and the Angstrom coefficient.</li>
<li><a href="http://gacp.giss.nasa.gov/data_sets/" target="_blank" rel="noopener">Global Aerosol Climatology Project</a>-Monthly averages of Aerosol Optical Thickness and the Angstrom exponent from 1981 to 2006.</li>
<li><a href="https://wui.cmsaf.eu/safira/action/viewProduktSearch;jsessionid=C3A056A5CE0F496B16619FAD7ACE2801.ku_2" target="_blank" rel="noopener">Satellite Application Facility on Climate Monitoring</a>-Provides near real-time and retroactively-generated datasets of cloud cover, type and temperature, surface radiation budget and temperatures, amongst others.</li>
<li><a href="http://cait.wri.org/" target="_blank" rel="noopener">Climate Analysis Indicators Tool</a>-Carbon Dioxide emissions data by country, and by US state, including measures of adaption.</li>
<li><a href="http://isccp.giss.nasa.gov/products/d2yeardsets.html" target="_blank" rel="noopener">International Satellite Cloud Climatology Project</a>-Monthly averages of a number of cloud variables including cloud cover (and associated breakdown by frequency), cloud top temperature, cloud water path, cloud optical thickness etc.</li>
<li><a href="http://pendientedemigracion.ucm.es/info/cliwoc/" target="_blank" rel="noopener">Climatological Database for the world’s oceans (CLIWOC)</a>-Data compiled from ships logs compiled during voyages between 1750 and 1850. Includes various meteorological observations, broken down by date, ship and year.</li>
<li><a href="http://iridl.ldeo.columbia.edu/" target="_blank" rel="noopener">IRI/LDEO Climate Data Library</a>-A wide range of over 300 datasets from various climate models and datasets.</li>
<li><a href="http://www.woudc.org/data_e.html" target="_blank" rel="noopener">World Ozone and Ultraviolet Radiation Data Center</a>-Extensive set of data collected from many stations across the world, recording ozone information (from ozonesonde ascents) and ground-level ultraviolet irradiance.</li>
<li><a href=""></a>-<h3 id="����-4"><a href="#����-4" class="headerlink" title="����"></a>����</h3></li>
<li><a href="http://eca.knmi.nl/" target="_blank" rel="noopener">European Climate Assessment and Dataset</a>-Gridded observation data across Europe, including cloudiness, temperature, precipitation, humidity, pressure, snow and sunshine.</li>
<li><a href="https://sites.ualberta.ca/~ahamann/data.html" target="_blank" rel="noopener">Gridded climatic data for North America, South America and Europe</a>-A huge range of climatic data at 1km and 4km resolution, derived from various models, including temperature, precipitation, snow and derived variables such as water deficit and continentality.<h4 id="����-5"><a href="#����-5" class="headerlink" title="����"></a>����</h4></li>
<li><a href="http://www.nrel.gov/gis/data_wind.html" target="_blank" rel="noopener">NREL Wind</a>-Wind availablity data across the US from the perspective of wind turbine generation.</li>
<li><a href="http://rredc.nrel.gov/solar/old_data/nsrdb/" target="_blank" rel="noopener">National Solar Radiation Database</a>-Over thirty years of solar radiation data from sites across the US, Guam and Puerto Rico, plus raster data at around 2km resolution.</li>
<li><a href="https://app.yinxiang.com/OutboundRedirect.action?dest=https://mesonet.agron.iastate.edu/GIS/" target="_blank" rel="noopener">Iowa Environmental Mesonet</a>-A range of up-to-date and historic weather data including storm reports, NWS warnings, climate reports and more. Not just for Iowa!<h2 id="����-6"><a href="#����-6" class="headerlink" title="����"></a>����</h2><h3 id="�й�-1"><a href="#�й�-1" class="headerlink" title="�й�"></a>�й�</h3></li>
<li><a href="http://www.mee.gov.cn/" target="_blank" rel="noopener">�й���̬������</a>-</li>
<li><a href="http://datacenter.mee.gov.cn/websjzx/queryIndex.vm" target="_blank" rel="noopener">��̬��������������</a>-<h3 id="o��-2"><a href="#o��-2" class="headerlink" title="ȫ��"></a>ȫ��</h3></li>
<li><a href="http://nelson.wisc.edu/sage/data-and-models/atlas/maps.php" target="_blank" rel="noopener">Atlas of the Biosphere</a>-��˹������ѧ���ɭʵ�����ṩ�Ļ������ݣ�Raster maps of environmental variables including soil pH, potential evapotranspiration, average snow depth and many more.</li>
<li><a href="http://free-gis-data.blogspot.com/2009/04/world-spatial-database-on-protected.html" target="_blank" rel="noopener">World Spatial Database of Protected Areas</a>-ȫ�򻷾����������ݣ��й����ֵ����ݲ�ȫ��Global vector database of marine and terrestrial protected areas. Rather complicated to download from - instructions at bottom of linked page.</li>
<li><a href="http://www.iucnredlist.org/technical-documents/spatial-data" target="_blank" rel="noopener">IUCN 2013 Red List</a>-Set of shapefiles produced by the IUCN showing the distribution of endangered species of plants and animals across the world</li>
<li><a href="http://www.protectedplanet.net/" target="_blank" rel="noopener">Protected Planet</a>-Map of protected areas across the whole world, of almost all types. Available for download by clicking the ‘Download All’ link on the homepage, and then scrolling to the bottom and choosing KMZ, SHP or CSV.<h4 id="����-7"><a href="#����-7" class="headerlink" title="����"></a>����</h4></li>
<li><a href="https://edg.epa.gov/metadata/catalog/main/home.page" target="_blank" rel="noopener">EPA Environmental Dataset Gateway</a>-Catalog giving access to all environmental data from the Environmental Protection Agency.</li>
<li><a href="http://www.fws.gov/wetlands/data/DataDownload.html" target="_blank" rel="noopener">National Wetlands Inventory</a>-Wetland extent and type across the US, including information on riparian vegetation.</li>
<li><a href="http://gapanalysis.usgs.gov/data/padus-data/" target="_blank" rel="noopener">Protected Areas Database of the US</a>-Shapefile of all protected areas in the US including attribute data description uses, reasons for protection and legal status.</li>
<li><a href="http://websoilsurvey.nrcs.usda.gov/app/" target="_blank" rel="noopener">Web Soil Survey</a>-Downloadable soil data for the US in both tabular (csv) and geospatial (shp) formats.<h4 id="y��"><a href="#y��" class="headerlink" title="ŷ��"></a>ŷ��</h4></li>
<li><a href="http://www.eea.europa.eu/data-and-maps#tab-datasets" target="_blank" rel="noopener">European Environment Agency</a>-Maps and datasets from the European Environment Agency, covering a huge range of physical geography and environmental topics. Europe only.</li>
<li><a href=""></a>-</li>
</ul>
<h2 id="����-����-2"><a href="#����-����-2" class="headerlink" title="����/����"></a>����/����</h2><h3 id="�й�-2"><a href="#�й�-2" class="headerlink" title="�й�"></a>�й�</h3><ul>
<li><a href="http://www.nhc.gov.cn/" target="_blank" rel="noopener">������������ίԱ��</a>-</li>
<li><a href="http://www.phsciencedata.cn/Share/index.jsp" target="_blank" rel="noopener">����������ѧ��������</a>-</li>
</ul>
<h4 id="�ط�"><a href="#�ط�" class="headerlink" title="�ط�"></a>�ط�</h4><ul>
<li><a href="http://wjw.beijing.gov.cn/" target="_blank" rel="noopener">��������������ίԱ��</a>-</li>
</ul>
<h3 id="o��-��������-1"><a href="#o��-��������-1" class="headerlink" title="ȫ��/��������"></a>ȫ��/��������</h3><ul>
<li><a href="https://github.com/globalcitizen/2019-wuhan-coronavirus-data" target="_blank" rel="noopener">2019-nCoV</a>-2019�¹ڷ�����������</li>
<li><a href="https://www.internationalgenome.org/data" target="_blank" rel="noopener">A Deep Catalog Of Human Genetic Variation</a>-���ʻ�����������Դ</li>
<li><a href="http://ghdx.healthdata.org/" target="_blank" rel="noopener">GHDx</a>-����ָ��������о��� - ����������صĽ������˿�ͳ�����ݼ�Ŀ¼������IHME���</li>
<li><a href="https://www.unicef.org/statistics/index_24287.html" target="_blank" rel="noopener">UNICEF Statistics And Monitoring</a>-���Ϲ���ͯ����������������������ҡ������Ķ�ͯ״������</li>
<li><a href=""></a>-</li>
</ul>
<h2 id="��C��Դ"><a href="#��C��Դ" class="headerlink" title="��Ȼ��Դ"></a>��Ȼ��Դ</h2><h3 id="������Դ"><a href="#������Դ" class="headerlink" title="������Դ"></a>������Դ</h3><h4 id="o��-3"><a href="#o��-3" class="headerlink" title="ȫ��"></a>ȫ��</h4><ul>
<li><p><a href="http://landcover.usgs.gov/landcoverdata.php" target="_blank" rel="noopener">USGS Land Cover Institute</a>-Great set of links to almost all land cover datasets. Links here include most of the datasets below, and many more esoteric data such as river observations, aquifers data and ocean colour information. Although the page starts with US data, it continues with data for other continents lower down the page</p>
</li>
<li><p><a href="http://www.eea.europa.eu/data-and-maps/data/corine-land-cover-2000-raster-1" target="_blank" rel="noopener">Corine Land Cover Map</a>-Europe only. Satellite derived land cover, available as at 1990, 2000 and 2006 in vector and raster formats. 100m and 250m resolutions.</p>
</li>
<li><p><a href="http://due.esrin.esa.int/page_globcover.php" target="_blank" rel="noopener">GLOBCOVER</a>-Global land cover dataset at 300m resolution from the MERIS sensor on the ENVISAT satellite.</p>
</li>
<li><p><a href="http://maps.elie.ucl.ac.be/CCI/viewer/index.php" target="_blank" rel="noopener">Climate Change Initiative Land Cover map</a>-Global land cover dataset at 300m resolution, for 1998-2002, 2003-2007, 2008-2012. In many ways the ‘successor’ to GLOBCOVER.</p>
</li>
<li><p><a href="http://earthobservatory.nasa.gov/Newsroom/view.php?id=22585" target="_blank" rel="noopener">MODIS Global Land Cover</a>-1km and 4km resolution global land cover maps derived from MODIS images.</p>
</li>
<li><p><a href="http://glcf.umd.edu/data/landcover/" target="_blank" rel="noopener">UMD GLC</a>-1km resolution global land cover maps from the University of Maryland created using a classification tree approach from MODIS data</p>
</li>
<li><p><a href="http://www.earthenv.org/landcover" target="_blank" rel="noopener">EarthEnv Global Consensus Land Cover</a>-1km-resolution global land cover, produced by integrating many other land cover datasets, and providing information on the consensus (or lack of consensus) between them</p>
</li>
<li><p><a href="http://www.iscgm.org/gmd/download/glcnmo.html" target="_blank" rel="noopener">Global Land Cover by National Mapping Organisations</a>-1km data of land cover for the globe, with a classification scheme based on the UN FAO LCCS, facilitating easy comparison with other land cover products.</p>
</li>
<li><p><a href="http://www.fao.org/geonetwork/srv/en/main.home?uuid=ba4526fd-cdbf-4028-a1bd-5a559c4bff38" target="_blank" rel="noopener">GLC-SHARE</a>-Global Land Cover data combined from ‘best available’ national land cover maps. 1km resolution.</p>
</li>
<li><p><a href="http://anthro.unige.ch/lgmvegetation/" target="_blank" rel="noopener">Vegetation Map at Last Glacial Maximum</a>-Broad-scale map of the world showing vegetation cover at the Last Glacial Maximum (25,000 - 15,000 BP)</p>
</li>
<li><p><a href="http://www.wri.org/publication/pilot-analysis-global-ecosystems-grassland-ecosystems#data" target="_blank" rel="noopener">Grassland GIS</a>-Grassland extent data, along with grassland usage (eg. livestock intensity per area of grassland)</p>
</li>
<li><p><a href="http://www.worldwildlife.org/science/data/item1877.html" target="_blank" rel="noopener">Global Lakes and Wetlands Database</a>-Global vector datasets showing areas of lakes, reservoirs, wetlands, swamps, bogs etc.</p>
</li>
<li><p><a href="http://www.wri.org/publication/pilot-analysis-global-ecosystems-forest-ecosystems#data" target="_blank" rel="noopener">Forest GIS</a>-Percentage tree-cover, population density and tree cover, share of wood in fuel consumption etc.</p>
</li>
<li><p><a href="http://www.eorc.jaxa.jp/ALOS/en/palsar_fnf/fnf_index.htm" target="_blank" rel="noopener">PALSAR Forest/Non-Forest map</a>-A very detailed (50m resolution) forest map for the whole globe, created from SAR data.</p>
</li>
<li><p><a href="http://earthenginepartners.appspot.com/science-2013-global-forest/download_v1.2.html" target="_blank" rel="noopener">Global Forest Change 2000-2014</a>-Loss and gain in tree cover between 2000 and 2014, globally, at 30m resolution.</p>
</li>
<li><p><a href="">Global Land Use Dataset</a>-Gridded data at 0.5 degree resolution showing population density, potential natural vegetation, cropland extent, (This contents are copy from ealen), grazing land extent, built-up land extent, crop extent (for 18 major crops) and land suitability for cultivation</p>
</li>
<li><p><a href="http://sedac.ciesin.columbia.edu/data/collection/wildareas-v2" target="_blank" rel="noopener">Human Influence and Footprint</a>-�����㼣��Human Influence Index and Human Footprint calculated from various factors which exert human influence on ecosystems, for example population distribution, urban areas, navigable rivers etc. Available at 30 arc-second resolution.</p>
</li>
<li><p><a href="http://sedac.ciesin.columbia.edu/es/aglands.html" target="_blank" rel="noopener">Global Agricultural Lands</a>-Extent and intensity of use of agricultural lands (both cropland and pasture) in 2000 from MODIS and SPOT images and agricultural inventory data.</p>
</li>
<li><p><a href="http://waterdata.iwmi.org/Applications/GIAM2000/" target="_blank" rel="noopener">Global Irrigated Area and Rainfed Crops Areas</a>-Vector mapping of global irrigated cropland and rainfed cropland.</p>
</li>
<li><p><a href="http://nelson.wisc.edu/sage/data-and-models/crop-calendar-dataset/index.php" target="_blank" rel="noopener">Crop Calendar GIS</a>-Gridded data on planting dates and harvesting dates across the world for 19 crops. Available at 5 minute and 0.5 degree resolutions.</p>
</li>
<li><p><a href="http://www.earthstat.org/" target="_blank" rel="noopener">EarthStat: Agricultural Land Use and potential use</a>-A number of GIS datasets on agricultural land use, including global cropland and pasture from 1700 to 2007, harvested areas and yields for 175 crops, and global fertiliser application rates.</p>
</li>
<li><p><a href="http://database.espon.eu/db2/resource?idCat=43" target="_blank" rel="noopener">ESPON Urban Morphological Data</a>-Data on urban areas for Europe including many attributes.</p>
</li>
<li><p><a href="http://www.eea.europa.eu/data-and-maps/data/urban-morphological-zones-2000-umz2000-f1v0-1" target="_blank" rel="noopener">European Urban Morphological Zones</a>-Data derived from the CORINE landcover dataset showing all sets of urban areas lying less than 200m apart.</p>
</li>
<li><p><a href="https://ghsl.jrc.ec.europa.eu/datasets.php" target="_blank" rel="noopener">Global Human Settlement Layer</a>-Multi-temporal data on built-up areas, including population, settlements and degree of urbanisation.</p>
</li>
<li><p><a href="https://app.yinxiang.com/OutboundRedirect.action?dest=https://www.dlr.de/eoc/en/desktopdefault.aspx/tabid-9628/16557_read-40454/" target="_blank" rel="noopener">Global Urban Footprint</a>-Global map of built-up areas at 12m resolution.</p>
</li>
<li><p><a href="http://data.ess.tsinghua.edu.cn/" target="_blank" rel="noopener">�廪��ѧ�����Ŷ�����</a>-</p>
</li>
<li><p><a href="https://ealen.github.io/1bb97ba2/">Seto����</a>-Seto����</p>
</li>
<li><p><a href="https://ealen.github.io/1bb97ba2/">��ɽ��ѧ����</a>-��ɽ��ѧ����</p>
</li>
</ul>
<h4 id="����-8"><a href="#����-8" class="headerlink" title="����"></a>����</h4><ul>
<li><a href="http://www.eea.europa.eu/data-and-maps/data/corine-land-cover-2000-raster-1" target="_blank" rel="noopener">Corine Land Cover Map</a>-Europe only. Satellite derived land cover, available as at 1990, 2000 and 2006 in vector and raster formats. 100m and 250m resolutions.<h5 id="����-9"><a href="#����-9" class="headerlink" title="����"></a>����</h5></li>
<li><a href="http://www.mrlc.gov/finddata.php" target="_blank" rel="noopener">National Land Cover Database 2001 and 2006</a>-NLCD data for download at 30m resolution. Data includes raw land cover information (in 16 classes) and data on changes between 2001 and 2006.</li>
<li><a href="http://phenology.cr.usgs.gov/index.php" target="_blank" rel="noopener">Phenology</a>-Seasonal changes in vegetation across the US from remote sensing images. Various datasets including Start of Season Time, Time of Maximum, Amplitude and Time-Integrated NDVI.</li>
<li><a href="http://earlywarning.usgs.gov/USirrigation/" target="_blank" rel="noopener">MODIS Irrigated Agriculture dataset</a>-Raster irrigated area maps for the US, derived from MODIS data and available at 250m and 1km resolutions.</li>
<li><a href="http://landcovertrends.usgs.gov/index.html" target="_blank" rel="noopener">USGS Land Cover Trends</a>-Land Cover Trends from approximately 1970 until 2000 at approximately 30m resolution.</li>
<li><a href="http://www.csc.noaa.gov/crs/lca/pacificcoast.html" target="_blank" rel="noopener">Pacific Coast Land Cover</a>-Land Cover from 1996, 2001 and 2006 derived from Landsat images for the Pacific Coast of the USA (California, Oregon and Washington). 30m resolution.</li>
<li><a href="http://egsc.usgs.gov/data.html" target="_blank" rel="noopener">Chesapeake Bay Land Cover</a>-Land cover for the Chesapeake Bay Watershed for 1984, 1992, 2001 and 2006.</li>
<li><a href="https://coast.noaa.gov/digitalcoast/data/ccapregional.html" target="_blank" rel="noopener">Coastal Change Analysis Program</a>-Nationally standardised database of land cover and land cover change information for the coastal areas of the US. Available in various raster formats.</li>
<li><a href="https://nassgeodata.gmu.edu/CropScape/" target="_blank" rel="noopener">CropScape</a>-Crop-specific land-cover data for the continental US. Includes historic data back to 1997.</li>
<li><a href=""></a>-</li>
</ul>
<h3 id="ˮ��Դ"><a href="#ˮ��Դ" class="headerlink" title="ˮ��Դ"></a>ˮ��Դ</h3><h4 id="ˮ��"><a href="#ˮ��" class="headerlink" title="ˮ��"></a>ˮ��</h4><h5 id="o��-4"><a href="#o��-4" class="headerlink" title="ȫ��"></a>ȫ��</h5><ul>
<li><a href="http://hydrosheds.cr.usgs.gov/" target="_blank" rel="noopener">HydroSHEDS</a>-Hydrological data and maps based on the STRM elevation data. Includes river networks, watershed boundaries, drainage directions and flow accumulations for the globe.</li>
<li><a href="http://ccm.jrc.ec.europa.eu/php/index.php?action=view&id=24" target="_blank" rel="noopener">Catchment Characterisation and Modelling</a>-Data on river basins, catchments and rivers for the European Union area.</li>
<li><a href="http://www.fao.org/geonetwork/srv/en/metadata.show?id=30914" target="_blank" rel="noopener">Major Watersheds of the World Deliniation</a>-ȫ�����򻮷�ʸ�����ݣ�Vector data showing the outlines of major watersheds (river basins) across the world.</li>
<li><a href="http://wateriso.utah.edu/waterisotopes/pages/data_access/da_main.html" target="_blank" rel="noopener">Water Isotopes</a>-Global grids of hydrogen and oxygen isotope composition of precipitation and environmental waters in ArcGRID format. Data can be downloaded for whole globe or individual continents.</li>
<li><a href="http://water.jrc.ec.europa.eu/" target="_blank" rel="noopener">JRC Water Portal</a>-European water data from the EC Joint Research Centre, including data on quantity, quality, price, use, exploitation and irrigation.</li>
<li><a href="http://www.gebco.net/" target="_blank" rel="noopener">General Bathymetric Chart of the Oceans</a>-A range of gridded bathymetric datasets compiled by a group of experts.</li>
<li><a href="http://www.earthenv.org/streams" target="_blank" rel="noopener">EarthEnv Freshwater Ecosystems Environmental Information</a>-1km-resolution environmental information for freshwater ecosystems, covering almost the whole globe. Information includes climate, land-cover, soil and geology.</li>
<li><a href="https://zenodo.org/record/1297434?utm_campaign=Spatial%20Awareness&utm_medium=email&utm_source=Revue%20newsletter#.XTQuu5NKgWp" target="_blank" rel="noopener">Global River Widths from Landsat (GRWL)</a>-Dataset containing information on widths of rivers (max, min, mean, median for each segment of river) across the world, derived from Landsat data.</li>
<li><a href="http://sedac.ciesin.columbia.edu/es/seawifs.html" target="_blank" rel="noopener">Coastal Water Quality</a>-Quality of coastal waters across the globe measured by chlorophyll concentrations from SeaWIFS satellite. Data for 1998 and 2007.</li>
<li><a href="http://atlas.gwsp.org/index.php" target="_blank" rel="noopener">Global Reservoir and Dam Database</a>-Geographically-referenced data on all reservoirs with a storage capacity of more than 0.1 cubic kilometres. The data consists of polygons outlining reservoirs at high spatial resolution with extensive metadata about the dam and reservoir.<h5 id="����-10"><a href="#����-10" class="headerlink" title="����"></a>����</h5></li>
<li><a href="http://nhd.usgs.gov/data.html" target="_blank" rel="noopener">National Hydrography Dataset</a>-Geodatabases of hydrological information for the US, including lakes, ponds, streams, rivers, dams and streamgauges. Topologically-correct network is available allowing for flow modelling.</li>
<li><a href="http://infotrek.er.usgs.gov/apex/f?p=NAWQA:HOME:0" target="_blank" rel="noopener">National Water Quality Assessment Data Warehouse</a>-Huge amounts of georeferenced data (although not always provided as GIS-ready files) about water quality, including groundwater and surfacewater sampling, discharges and health information.</li>
<li><a href="http://gaia.geosci.unc.edu/NARWidth/index.html" target="_blank" rel="noopener">North American River Width Data Set (NARWidth)</a>-Width measurements of rivers in North America, at approximately mean discharge, from satellite data. Provided as vector points, with a range of useful attributes.</li>
<li><a href="http://www.mvn.usace.army.mil/Missions/Engineering/ChannelImprovementandStabilizationProgram/2013MBMR.aspx" target="_blank" rel="noopener">Multibeam Bathymetry for the Lower Mississippi River</a>-Data from the US Corps of Engineers, collected in 2013. Data from 2010 is also <a href="http://www.mvn.usace.army.mil/Missions/Engineering/ChannelImprovementandStabilizationProgram/2010MBAR.aspx" target="_blank" rel="noopener">available</a>.<h4 id="��������-��ѩ"><a href="#��������-��ѩ" class="headerlink" title="��������/��ѩ"></a>��������/��ѩ</h4></li>
<li><a href="http://www.glims.org/RGI/" target="_blank" rel="noopener">Randolph Glacier Inventory</a>-A global inventory of glacier outlines, including some multi-temporal data. Major focus on quality control.</li>
<li><a href="http://nsidc.org/fgdc/maps/" target="_blank" rel="noopener">NSIDC Frozen Ground maps</a>-Maps of various types of frozen ground (permafrost) in the Arctic and various other areas. Data can be downloaded by clicking on the map name then selecting ‘Access Data’</li>
<li><a href="http://nsidc.org/data/masie/" target="_blank" rel="noopener">Multisensor Analyzed Sea Ice Extent (MAISE)</a>-Sea ice extent for the Northern Hemisphere from the NSIDC</li>
<li><a href="http://nsidc.org/data/docs/noaa/g02158_snodas_snow_cover_model/index.html" target="_blank" rel="noopener">Snow Data Assimilation System</a>-����������ѩ���ݣ�Gridded data at 30 arc-seconds, from September 2003 till present, including snow depth, snow water equivalent, solid precipitation, liquid precipitation and more. Contiguous US only.</li>
</ul>
<h3 id="��Դ-���"><a href="#��Դ-���" class="headerlink" title="��Դ/���"></a>��Դ/���</h3><ul>
<li><a href="http://portal.onegeology.org/" target="_blank" rel="noopener">OneGeology Portal</a>-Combined geological maps from many geological organisations across the world. Levels of detail vary across the world, but basic data is available for many areas, with more detail for certain countries.</li>
<li><a href="http://tin.er.usgs.gov/mrds/" target="_blank" rel="noopener">Mineral Resources Data System</a>-Vector data of mineral resources across the world including names, locations, descriptions, geological characteristics etc.</li>
<li><a href="http://tin.er.usgs.gov/vms/" target="_blank" rel="noopener">Volcanogenic Massive Sulphide deposits</a>-Information on VMS deposits from across the world with attribute data.</li>
<li><a href="http://og.decc.gov.uk/en/olgs/cms/data_maps/offshore_maps/offshore_maps.aspx" target="_blank" rel="noopener">North Sea Oil Offshore Maps and GIS - English sector</a>-Maps from the UK government showing licensing information, locations of wells and country-ownership boundaries.</li>
<li><a href="http://www.ens.dk/EN-US/OILANDGAS/DATA/GISMAP/Sider/Forside.aspx" target="_blank" rel="noopener">North Sea Oil Offshore Maps and GIS - Dutch sector</a>-Same as above but for the Dutch-controlled area of the North Sea. To download data click the links under ‘Download’ on the right-hand side</li>
<li><a href="http://www.nlog.nl/en/pubs/maps/other_maps/other_maps.html" target="_blank" rel="noopener">North Sea Oil Offshore Maps and GIS - Netherland sector</a>-Same as above but for Netherland-controlled area of the North Sea.</li>
<li><a href="https://www.google.com/fusiontables/DataSource?dsrcid=579353" target="_blank" rel="noopener">Nuclear Power Station locations</a>-ȫ��˵�վλ�ã�����ʧЧ����Locations of all nuclear power stations worldwide (according to the IAEA), provided as a Google Fusion Table. Export to CSV for easy import to a GIS system<h4 id="����-11"><a href="#����-11" class="headerlink" title="����"></a>����</h4></li>
<li><a href="http://www.mapcruzin.com/renewable-energy-us-electric-transmission-shapefiles.htm" target="_blank" rel="noopener">US National Power Grid</a>-Data from FEMA (the Federal Emergency Management Agency) showing rough locations of transmission lines and their connectivities. Data from 1993 and has not been updated since.</li>
<li><a href="http://www.epa.gov/cleanenergy/energy-resources/egrid/index.html" target="_blank" rel="noopener">Emissions &amp; Generation Resource Integrated Database</a>-A comprehensive data source on the environmental characteristics (air emissions, resource mix, net generation and more) of all electrical power sources in USA. Each record contains location information, allowing use in GIS.</li>
<li><a href="http://www.eia.gov/maps/layer_info-m.cfm" target="_blank" rel="noopener">US Energy Information Administration</a>-Individual layers from their interactive mapping system, including coal mines, crude oil pipelines, petrochemical crackers, refineries and more.</li>
</ul>
<h2 id="����-��̬"><a href="#����-��̬" class="headerlink" title="����/��̬"></a>����/��̬</h2><ul>
<li><a href="https://www.gbif.org/" target="_blank" rel="noopener">�������������</a>-�������������</li>
<li><a href="https://www.movebank.org/" target="_blank" rel="noopener">MoveBank</a>-����켣</li>
<li><a href="http://www.plantphoto.cn/special" target="_blank" rel="noopener">�й�ֲ��ͼ��</a>-</li>
<li><a href="http://www.cnbird.org.cn/index.htm" target="_blank" rel="noopener">�й�Ұ��ͼ��</a>-</li>
<li><a href="http://hyg.ycit.cn/fishbook/pic.asp?currentpage=1&search=&px=s_did" target="_blank" rel="noopener">�й���������ԭɫͼ��</a>-</li>
<li><a href="http://www.niao365.com/forum-40-1.html" target="_blank" rel="noopener">������</a>-���ࡢ������</li>
<li><a href="http://www.shwbs.org/swb/" target="_blank" rel="noopener">�Ϻ�Ұ�����̳</a>-</li>
<li><a href="https://bdj.pensoft.net/" target="_blank" rel="noopener">����Biodiversity Data Journal</a>-</li>
<li><a href="http://lifemapper.org/?page_id=593" target="_blank" rel="noopener">Lifemapper</a>-���ֲַ����ݣ�Species distribution maps - both recorded and predicted (based on climate, terrain and land cover This contents are copy from ealen). Covers a huge number of species. *Data is available by clicking on Species Archive, searching for a species and then clicking on the number of points and choosing the SHP link at the top. Alternatively, web services are available.</li>
<li><a href="http://www.worldwildlife.org/science/ecoregions/item1267.html" target="_blank" rel="noopener">WWF World Ecoregions</a>-Shapefile of ecoregions as defined by the WWF Conservation Science Program.</li>
<li><a href="https://ecoregions2017.appspot.com/" target="_blank" rel="noopener">Ecoregions 2017</a>-����½����̬�����ֵĿ��ӻ�Ӧ�ã�a new map and a major update of the 2001 WWF Terrestrial Ecoregions of the World, depicting 846 ecoregions that represent our living planet. The shapefile can be downloaded under the ‘About’ link.</li>
<li><a href="https://www.worldwildlife.org/publications/terrestrial-ecoregions-of-the-world" target="_blank" rel="noopener">2001 WWF Terrestrial Ecoregions</a>-2001����½����̬������</li>
<li><a href="http://sedac.ciesin.columbia.edu/es/anthropogenicbiomes.html" target="_blank" rel="noopener">Anthropogenic Biomes</a>-Ecosystem unit maps derived from human interactions with ecosystems creating ‘anthropogenic biomes’. Gridded data at 5 arc-seconds available.</li>
<li><a href="http://sedac.ciesin.columbia.edu/species/" target="_blank" rel="noopener">Amphibian Species Distribution Grids</a>-Approximately 1km resolution gridded data showing species distribution. One file per species.</li>
<li><a href="http://sedac.ciesin.columbia.edu/es/hanpp.html" target="_blank" rel="noopener">Net Primary Productivity</a>-Gridded Net Primary Productivity data across the globe, including a novel measure of ‘Human Appropriation of NPP’ measuring how much of the NPP of an area humans are using.</li>
<li><a href="http://soilgrids.org/" target="_blank" rel="noopener">World Soil Information</a>-Gridded datasets covering the world’s soils at a maximum resolution of 5 arc-minutes with 22 attributes for each cell including organic carbon content, gypsum content, water capacity etc. Data is given for topsoil and subsoil. More detailed datasets for individual countries and continents are available.</li>
<li><a href="http://www.iiasa.ac.at/Research/LUC/External-World-soil-database/HTML/index.html?sb=1" target="_blank" rel="noopener">Harmonized World Soil Database</a>-Combining regional and national soil databases and maps from many countries under the Land Use Change programme of the UN FAO. Includes soil units and parameters (such as pH, depth, and texture) and is at a resolution of 30 arc-seconds.</li>
<li><a href="http://www.ipf.tuwien.ac.at/radar/index.php?go=ascat" target="_blank" rel="noopener">ERS/MetOp Soil Moisture</a>-25-50km resolution soil moisture data from satellite scatterometer measurements.</li>
<li><a href="http://www.cgiar-csi.org/data/global-high-resolution-soil-water-balance" target="_blank" rel="noopener">Global High Resolution Soil Water Balance</a>-Raster data containing actual evapotranspiration and soil water deficit with a resolution of 30 arcseconds (approx 1km).</li>
<li><a href="http://docs.wri.org/page_forest_gh_sc_final.zip" target="_blank" rel="noopener">Global Carbon Storage in Soils</a>-Gridded carbon storage in soils for the world, from the World Resources Institute.</li>
<li><a href="http://www.reefbase.org/" target="_blank" rel="noopener">ReefBase</a>-ȫ��ɺ�������ݣ�GIS data about coral reefs worldwide, including extensive attribute data.</li>
<li><a href="http://www.nceas.ucsb.edu/globalmarine/impacts" target="_blank" rel="noopener">Human Impacts to Marine Ecosystems</a>-Data from the National Center for Ecological Analysis and Synthesis on human impacts to marine ecosystems. Includes fishing impacts, ocean acidification, sea surface temperature, pollutants and more.</li>
<li><a href="http://cdiac.ornl.gov/ftp/" target="_blank" rel="noopener">Carbon Dioxide Information Analysis Center</a>-All data products from this center are available for download, including atmospheric CO2 concentrations (including the famous Mauna Loa dataset), precipitation data, long-term modelling data and more.</li>
<li><a href="http://datadownload.unep-wcmc.org/datasets" target="_blank" rel="noopener">UNEP WCMC</a>-Variety of datasets from the United Nations Environment Programme including global wetlands, global distribution of coral reefs, mangrove distributions and more.</li>
<li><a href="http://www.aquamaps.org/" target="_blank" rel="noopener">Aquamaps</a>-Standardised distribution maps for over 11,000 species of fish, marine mammals and invertebrates. *Data available for download under High Resolution Maps and Environmental Data links.</li>
<li><a href="http://maps.tnc.org/gis_data.html" target="_blank" rel="noopener">Terrestrial Ecoregions of the World</a>-Vector data showing a biogeographic classification of terrestrial ecological regions across the world.</li>
<li><a href="http://www.feow.org/downloads.php" target="_blank" rel="noopener">Freshwater Ecoregions of the World</a>-Vector data showing a biogeographic classification of freshwater ecological regions across the world.</li>
<li><a href="http://maps.tnc.org/gis_data.html" target="_blank" rel="noopener">Marine Ecoregions of the World</a>-Vector data showing a biogeographic classification of marine ecological regions across the world.</li>
<li><a href="http://www.iucn.org/about/work/programmes/species/our_work/about_freshwater/what_we_do_freshwater/bio_fresh/" target="_blank" rel="noopener">BioFRESH</a>-Contemporary distributions of freshwater species, mapped in vector format across the world</li>
<li><a href="http://www.earthenv.org/texture" target="_blank" rel="noopener">Global Habitat Heterogeneity</a>-A set of 14 metrics on the spatial heterogeneity of global habitat, at 1km, 5km and 25km resolutions, derived from MODIS EVI data.</li>
<li><a href="https://app.yinxiang.com/OutboundRedirect.action?dest=https://geospatial.tnc.org/" target="_blank" rel="noopener">The Nature Conservancy - Geospatial Conservation Atlas</a>-Various interactive maps and downloads of conservation data, including Freshwater Ecoregions of the World, Coral Reefs, Mangroves and more.<h3 id="����-12"><a href="#����-12" class="headerlink" title="����"></a>����</h3></li>
<li><a href="http://www.natureserve.org/getData/USecologyData.jsp" target="_blank" rel="noopener">Terrestrial Ecosystems of the United States</a>-A mid-scale ecological classification consisting of over 800 ecosystem types found across North America.</li>
<li><a href="http://www.natureserve.org/getData/animalData.jsp" target="_blank" rel="noopener">Digital Species Distribution Maps</a>-Data showing distribution of a range of types of species (pollinators, birds, mammals etc.) across the USA. Downloadable as one, or split into species.</li>
<li><a href="http://sedac.ciesin.columbia.edu/species/" target="_blank" rel="noopener">Bird and Mammal Species Distribution Grids</a>-Raster grids showing species distribution across the US of birds and mammals. One grid per species, approximately 1km resolution.</li>
<li><a href="http://gapanalysis.usgs.gov/data/land-cover-data/" target="_blank" rel="noopener">Ecological Land Cover Map</a>-The most complete map ever produced of vegetative associations for the US. Land cover is classified in to 551 Ecological Systems and 32 Modified Ecological Systems (areas where human impacts have affected the ecology). Available for download as ARC GRID or ERDAS IMAGE</li>
<li><a href="http://www.fws.gov/gis/data/national/index.html" target="_blank" rel="noopener">US Fish and Wildlife Service National GIS datasets</a>-Information and boundaries for Coastal Barrier Resource Systems, Critical Habitats, Ecosystem Regions, National Wetlands, National Wildlife Refuge Systems etc.</li>
<li><a href="http://gcpolcc.databasin.org/" target="_blank" rel="noopener">Gulf Coastal Plains and Ozarks LCC</a>-Range of datasets provided through the conservation planning atlas for this area. Includes boundaries, ecological information, marine resources and more.</li>
</ul>
<h2 id="��C�ֺ�"><a href="#��C�ֺ�" class="headerlink" title="��Ȼ�ֺ�"></a>��Ȼ�ֺ�</h2><ul>
<li><a href="http://www.ldeo.columbia.edu/chrr/research/hotspots/coredata.html" target="_blank" rel="noopener">Natural Disaster Hazards</a>-Hazard Frequency, Mortality and Economic Loss Risk as gridded data for the globe. Covers cyclones, drought, earthquakes, flood, landslide, volcano and a combination of them all (‘multihazard’).</li>
<li><a href="http://earthquake.usgs.gov/earthquakes/eqarchives/epic/kml/" target="_blank" rel="noopener">USGS Earthquakes Database</a>-�������ʵ�����ṩ�ĵ������ݣ�KML files of all earthquakes recorded by the USGS (across the whole world) from 1973 to present. Available as one dataset or grouped by magnitude or year.</li>
<li><a href="http://gmo.gfz-potsdam.de/" target="_blank" rel="noopener">Global Seismic Hazard Map</a>-Gridded data showing hazard risk of seismic activity across the globe.</li>
<li><a href="http://www.ncdc.noaa.gov/oa/ibtracs/" target="_blank" rel="noopener">IBTrACS</a>-쫷�/̨�磬Hurricane and tropical cyclone tracks, including attributes such as minimum pressure, maximum winds.</li>
<li><a href="http://www.ngdc.noaa.gov/hazard/tsu_db.shtml" target="_blank" rel="noopener">NOAA/WDC Historical Tsunami Database</a>-��Х��Location information of tsunami sources and run-up events, including many attributes (eg. maximum water height, travel time). Available in TSV format which can be imported into GIS systems.</li>
<li><a href="http://activefiremaps.fs.fed.us/gisdata.php" target="_blank" rel="noopener">MODIS Fire Detection Data</a>-����MODISң�����ݵĻ���⣬Frequently updated data (including last 7 days of fires) in 1km grid format, derived from thermal anomalies from MODIS data.</li>
<li><a href="http://thunder.msfc.nasa.gov/data/" target="_blank" rel="noopener">Lightning and Atmospheric Electricity Dataset</a>-����/�׵磬Wide range of data on lightning activity, including average flashes per grid cell per year.</li>
<li><a href="http://www.csc.noaa.gov/hurricanes/#" target="_blank" rel="noopener">NOAA Historical Hurricane Tracks</a>-쫷�/̨�磬�������������ݣ�Hurricane tracks for all North/Central American hurricanes. Data can be exported by clicking the Download button on the top right.</li>
<li><a href="http://sedac.ciesin.columbia.edu/data/collection/ndh" target="_blank" rel="noopener">Natural Disaster Hotspots</a>-A wide range of geographic data on natural disasters (including volcanoes, earthquakes, landslide, flood and ‘multihazards’) with hazard frequency, economic loss etc.</li>
</ul>
<h2 id="���j���"><a href="#���j���" class="headerlink" title="���ĵ���"></a>���ĵ���</h2><h3 id="�ۺ���"><a href="#�ۺ���" class="headerlink" title="�ۺ���"></a>�ۺ���</h3><ul>
<li><a href="https://datacore.unepgrid.ch/geonetwork/srv/eng/catalog.search;jsessionid=3FD1A35F6A0389D6E61AD45A13DC4483#/home" target="_blank" rel="noopener">UNEP GEOdata</a>-A wide range of data from the United Nations Environment Programme including Nighttime Lights, Pollutant Emissions, Commercial Shipping Activity, Protected Areas and Administrative Boundaries. To get data, choose Advanced Search and select Geospatial Data Sets from the top drop-down link</li>
<li><a href="http://velluminformation.com/2012/01/28/google-earth-world-bank-data-and-kml-files/" target="_blank" rel="noopener">World Bank Geodata</a>-���е������ݣ�A wide range of World Bank datasets converted to KML format, includes GNP, schooling and financial data.</li>
<li><a href="http://cod.humanitarianresponse.info/country-region" target="_blank" rel="noopener">Humanitarian Response Common and Fundamental Operational Datasets Registry</a>-List of freely available datasets for many countries run by the UN Humanitarian Response programme. Contains administrative boundaries, transport, population and more. Fairly empty at the moment but due to be updated soon</li>
<li><a href="http://www.sage.wisc.edu/atlas/maps.php" target="_blank" rel="noopener">Atlas of the Biosphere</a>-Gridded human data including per capita oil usage, literacy rate, population growth rate, built-up land and many more.</li>
<li><a href="http://koordinates.com/" target="_blank" rel="noopener">Koordinates</a>-GIS data aggregation site including data in a number of categories such as administrative boundaries, transportation etc. Some global datasets, some based on continents, some for specific countries. Mostly vector, but some raster.</li>
<li><a href="https://gistdata.itos.uga.edu/" target="_blank" rel="noopener">GISTPortal</a>-Wide range of GIS data from a project funded by UNAID to provide spatial data for humanitarian purposes.</li>
<li><a href="http://database.espon.eu/db2/resource?idCat=45" target="_blank" rel="noopener">ESPON Grid Data</a>-Various human geography indicators in gridded raster form across Europe, including GDP, population and unemployment in 2003 and 2006.</li>
<li><a href="http://themasites.pbl.nl/tridion/en/themasites/hyde/index.html" target="_blank" rel="noopener">History Database of the Global Environment</a>-Gridded time-series of population, land-use for the last 12,000 years. Also includes GDP, agriculatural areas, yields and greenhous gas emissions for the last century.</li>
<li><a href="https://www.nhgis.org/" target="_blank" rel="noopener">National Historical GIS</a>-������ʷ��GIS���ݣ�Historical GIS data for the USA, including demographics, ancestry, education and more.</li>
<li><a href="http://gecon.yale.edu/" target="_blank" rel="noopener">G-Econ</a>-Geographically-based economic data, basically providing measurements like GDP but on a raster cell basis (known as Gross Cell Product).</li>
<li><a href="https://data.humdata.org/search?q=gar15&ext_search_source=main-nav" target="_blank" rel="noopener">GAR15</a>-UN dataset for Global Assessment of Risk, showing the amount of capital invested in infrastructure at a 5km resolution. Useful for assessment of infrastructure risk and cost of natural disasters.</li>
<li><a href="http://www.netdimes.org/new/?q=node/65" target="_blank" rel="noopener">Internet Map</a>-ȫ�����������ͼ��Data which can be used to produce maps like those shown <a href="http://www.chrisharrison.net/index.php/Visualizations/InternetMap" target="_blank" rel="noopener">here</a> showing major linkages in the internet, as well as density of people online<h3 id="ս��-��ͻ-����"><a href="#ս��-��ͻ-����" class="headerlink" title="ս��/��ͻ/����"></a>ս��/��ͻ/����</h3></li>
<li><a href="http://www.acleddata.com/data" target="_blank" rel="noopener">ACLED</a>-Armed Conflict Location and Event Data - containing all reported conflict events in 50 countries in the developing world. Data from 1997 to present, and in Afghanistan and Pakistan from 2006 until present.</li>
<li><a href="http://www.ucdp.uu.se/ged/#__utma=1.2052634126.1447978959.1447978959.1447978959.1&__utmb=1.2.10.1447978959&__utmc=1&__utmx=-&__utmz=1.1447978959.1.1.utmcsr=ucdp.uu.se|utmccn=(referral)|utmcmd=referral|utmcct=/gpdatabase/search.php&__utmv=-&__utmk=75491346" target="_blank" rel="noopener">Uppsala Conflict Data Programme - Georeferenced Event Database</a>-Locations of instances of political violence in Africa and Asia.</li>
<li><a href="http://www.start.umd.edu/gtd/" target="_blank" rel="noopener">Global Terrorism Database</a>-A database of terrorist events (both domestic and international) across the world from 1970-2008, including location and attribute information.</li>
<li><a href="https://www.prio.org/Data/" target="_blank" rel="noopener">Peace Research Institute Oslo</a>-A range of data including armed conflict locations, replication data, arms trade flows and resource datasets.</li>
<li><a href="http://www.icpsr.umich.edu/icpsrweb/NACJD/gis/data.jsp" target="_blank" rel="noopener">National Archive of Criminal Justice Data</a>-Crime data from the US, including various statistics - all geo-referneced but not necessarily provided in GIS-ready formats.<h3 id="�˿�"><a href="#�˿�" class="headerlink" title="�˿�"></a>�˿�</h3></li>
<li><a href="http://sedac.ciesin.columbia.edu/gpw/" target="_blank" rel="noopener">Gridded Population of the World</a>-Includes raw population, population density, both historic, current and predicted.</li>
<li><a href="https://www.worldpop.org/" target="_blank" rel="noopener">WorldPop</a>-High-resolution, contemporary data on population across Africa, Asia and Central/Southern America. Combines the AfriPop, AmeriPop and AsiaPop projects.</li>
<li><a href="https://www.ciesin.columbia.edu/data/hrsl/#data" target="_blank" rel="noopener">High Resolution Settlement Layer</a>-Estimates of human population at approximately 30m resolution, for 2015.</li>
<li><a href="http://www.geohive.com/" target="_blank" rel="noopener">GeoHive</a>-Population and country statistics. Not provided in GIS data formats, but can easily be converted from CSV</li>
</ul>
<h3 id="����-13"><a href="#����-13" class="headerlink" title="����"></a>����</h3><h4 id="�й�-3"><a href="#�й�-3" class="headerlink" title="�й�"></a>�й�</h4><ul>
<li><a href="">�ߵµ�ͼ</a>-�ߵµ�ͼAPI</li>
<li><a href="">�ٶȵ�ͼ</a>-�ٶȵ�ͼAPI</li>
<li><a href="">���ڵ���</a>-���ڵ���API</li>
<li><a href="">΢��</a>-΢��API</li>
<li><a href=""></a>-</li>
</ul>
<h4 id="o��-��������-2"><a href="#o��-��������-2" class="headerlink" title="ȫ��/��������"></a>ȫ��/��������</h4><ul>
<li><a href="http://nordpil.com/go/resources/world-database-of-large-cities/" target="_blank" rel="noopener">Large Urban Areas 1950-2050</a>-Historic, current and future estimates of populations in large urban areas of the world.</li>
<li><a href="http://sedac.ciesin.columbia.edu/data/collection/grump-v1" target="_blank" rel="noopener">Global Rural-Urban Mapping Project</a>-Based on the above, but includes information on rural and urban population balances.</li>
<li><a href="http://nelson.wisc.edu/sage/data-and-models/schneider.php" target="_blank" rel="noopener">Global Urban Extent</a>-Maps showing urban extent across the world, at 500m resolution, derived from MODIS images.</li>
<li><a href="http://www.poi-factory.com/" target="_blank" rel="noopener">POI Factory</a>-Point of Interest files originally designed for use in GPS units, but they can be loaded into a GIS fairly easily. Widely varying quality, and coverage, but includes such things as shop and business locations (eg. all Tesco stores, all McDonald’s restaurants) as well as places of worship, speed cameras etc. Registration is required. To download data in a GIS-ready form choose Garmin CSV format on the download page. The CSV file will contain Latitude and Longitude in WGS-84 co-ordinates, as well as descriptions.</li>
<li><a href="http://s3.amazonaws.com/simplegeo-public/places_dump_20110628.zip" target="_blank" rel="noopener">SimpleGeo’s Places</a>-Point of Interest data from SimpleGeo, provided as a 2Gb Zip file and licensed under the Creative Commons license. Contains over 21 million POIs for over 63 countries.</li>
<li><a href="https://www.zillow.com/research/data/" target="_blank" rel="noopener">Zillow data</a>-�������������߽�ͷ��ز����ݣ�Creative-commons licensed data from Zillow showing the extent of neighbourhoods in urban areas.</li>
<li><a href=""></a>-<h3 id="��ͨ"><a href="#��ͨ" class="headerlink" title="��ͨ"></a>��ͨ</h3><h4 id="o��-5"><a href="#o��-5" class="headerlink" title="ȫ��"></a>ȫ��</h4></li>
<li><a href="openstreet.org">OpenStreetMap</a>-OpenStreetMap is a free worldwide map, created by people users. The geo and map data is available for download.</li>
<li><a href="https://mapzen.com/metro-extracts/" target="_blank" rel="noopener">OSM Metro Extracts</a>-City-sized extracts of the OpenStreetMap dataset, updated weekly for cities across the world</li>
<li><a href="http://openflights.org/data.html" target="_blank" rel="noopener">Open Flights</a>-Airport, airline and route data across the globe. Data is provided as CSV files which can be easily processed to produce GIS outputs. Data includes all known airports, and a large number of routes betwen airports.</li>
<li><a href="http://msi.nga.mil/NGAPortal/MSI.portal?_nfpb=true&_pageLabel=msi_portal_page_62&pubCode=0015" target="_blank" rel="noopener">World Port Index</a>-Dataset from the National Geospatial Intelligence Agency listing approximately 3700 ports across the world, with location and facilities offered.</li>
<li><a href="http://www.ciesin.columbia.edu/confluence/display/roads/Global+Roads+Data" target="_blank" rel="noopener">Global Roads Open Access Data Set</a>-A vector dataset of roads across the world, using a globally consistent data model, and suitable for mapping at the 1:250,000 level. Only roads between settlements are included, not residential streets, and the dataset is accurate to approximately 50m. This dataset is in beta-testing at the moment and will be fully available shortly</li>
<li><a href="https://forobs.jrc.ec.europa.eu/products/gam/" target="_blank" rel="noopener">JRC Travel Time to Major Cities</a>-Travel time to the nearest major city (&gt; 50,000 people) across the whole world, at approximately 1km resolution</li>
<li><a href="https://map.ox.ac.uk/research-project/accessibility_to_cities/" target="_blank" rel="noopener">MAP Accessibility to Cities</a>-Similar dataset to the previous one, but updated with far more roads and far better treatment of unpaved roads. Data available for download or on Google Earth Engine.</li>
<li><a href="http://www.cablemap.info/" target="_blank" rel="noopener">Undersea Telecommunications Cables</a>-Open source undersea telecommunication cables map, updated frequently. Data can be visualised in the embedded viewer or shapefiles can be downloaded by clicking the Raw Data link on the top right.<h4 id="y��-1"><a href="#y��-1" class="headerlink" title="ŷ��"></a>ŷ��</h4></li>
<li><a href="https://github.com/capitainetrain/stations" target="_blank" rel="noopener">Capitaine European Train Stations</a>-Metadata for all train stations in Europe including latitude and longitude.<h4 id="����-14"><a href="#����-14" class="headerlink" title="����"></a>����</h4></li>
<li><a href="https://geoffboeing.com/2019/03/us-street-network-models-measures" target="_blank" rel="noopener">US Street Network Models and Measures</a>-Graph data extracted from OpenStreetMap for road networks in cities and neighbourhoods across the US.</li>
<li><a href="http://chriswhong.github.io/nyctaxi/" target="_blank" rel="noopener">NYC Taxi Data</a>-ŦԼ���⳵���ݿ���ƽ̨<h3 id="����-15"><a href="#����-15" class="headerlink" title="����"></a>����</h3></li>
<li><a href="http://geonames.nga.mil/gns/html/namefiles.html" target="_blank" rel="noopener">NGIS Country Files</a>-A list of names of regions, areas and populated places for each country in the world, provided by the US Government, with geo-references for each place.</li>
<li><a href="http://download.geonames.org/export/dump/countryInfo.txt" target="_blank" rel="noopener">Geonames Country Information</a>-List of all countries in the world with ISO and ISO3 country code (eg. GB for the United Kingdom and FR for France) with capital city, area, population, internet top-level domain, currency, official languages and neighbours.</li>
<li><a href="http://sedac.ciesin.columbia.edu/data/set/grump-v1-settlement-points" target="_blank" rel="noopener">GRUMP Settlement Points</a>-Locations of individual settlements (as a time series, showing new settlements appearing over time), derived from the Global Rural-Urban Mapping Project</li>
</ul>
<h2 id="ͳ������-������-��۾���"><a href="#ͳ������-������-��۾���" class="headerlink" title="ͳ������/������/��۾���"></a>ͳ������/������/��۾���</h2><h3 id="�й�-4"><a href="#�й�-4" class="headerlink" title="�й�"></a>�й�</h3><ul>
<li><a href="http://data.stats.gov.cn/" target="_blank" rel="noopener">��������ƽ̨</a>-����Դ���Թ���ͳ�ƾ֣����Ű��������࣬����������������������¶����ݡ��������ݡ�������ݡ����������ݡ����������Լ��������ݡ�</li>
<li><a href="http://www.stats.gov.cn/tjsj/" target="_blank" rel="noopener">����ͳ�ƾ�</a>-��Ҫ�������Ҿ��ú�����ݣ���ᷢչ�����������Ҫ���ݼ���Ϣ���ǳ�ȫ�棬�Ҷ��ڷ���ͳ�Ƴ��濯�ʵ����ǿ��</li>
<li><a href="http://www.gov.cn/shuju/" target="_blank" rel="noopener">����-�й�������</a>-��Ҫ����CPI��GDP��PPI����ҵ��������ָ�����̶��ʲ�Ͷ�ʡ��������Ʒ�����ܶ��ʳ�����ȵ�ָ��ͳ�ƣ�ֻ�г�����Ҫ���ݣ�������Դ�ڹ���ͳ�ƾ֣��������ת��ͳ�ƾֵĹ���������վ�����������Ƚϼ���������ʺ���Ҫ���ٻ�ȡ��Щ�������ݵ���Ⱥ�� </li>
<li><a href="http://www.pbc.gov.cn/diaochatongjisi/116219/index.html" target="_blank" rel="noopener">�й���������</a>-��Ҫ����������ʹ�ģ������ͳ�����ݡ�����ͳ�ơ����ڻ����Ŵ���֧ͳ�ơ������г�ͳ�ơ���ҵ��Ʒ�۸�ָ���ȵȣ�����Ȩ�������ײ��ң�ʵ����ǿ��</li>
<li><a href="http://www.cbrc.gov.cn/chinese/home/docViewPage/110009.html" target="_blank" rel="noopener">�й�����ҵ�ල����ίԱ��</a>-��Ҫ��������ҵ������ͳ�ƣ������ʲ���ծ��ģ����Ҫ������ݵȡ�</li>
<li><a href="http://www.csrc.gov.cn/pub/newsite/sjtj/" target="_blank" rel="noopener">�й�֤ȯ�ල����ίԱ��</a>-��Ҫ����֤ȯ�г����ڻ��г�������ݣ�ÿ����¿챨�������ܱ����±��ȶ��ڸ��¡�</li>
<li><a href="http://www.cbirc.gov.cn/cn/index.html" target="_blank" rel="noopener">�й������ռල����ίԱ��</a>-������ҵ�ͱ���ҵ�����Ĺ�˾���������չ������ڲ����ơ��ʱ�����״����������������Ӫ��Ϊ����Ϣ��¶��</li>
<li><a href="https://www.ceicdata.com/zh-hans/products/china-economic-database" target="_blank" rel="noopener">�й��������ݿ�</a>-</li>
<li><a href="http://www.cnnic.cn/" target="_blank" rel="noopener">�й���������Ϣ����</a>-</li>
<li><a href="http://www.cnsda.org/" target="_blank" rel="noopener">�й����ҵ������ݿ�</a>-�й����ҵ������ݿ⣨Chinese National Survey Data Archive, ��дΪCNSDA�����й�������Ȼ��ѧ�����ص���Ŀ���������й������ѧ�й��������������ģ�National Survey Research Center, NSRC)����ִ�У���һ��������������ݹ�����ƽ̨���������ݣ����ԡ��й������鿪�����ݿ⣨Chinese Social Survey Open Database,CSSOD)�����й������ѧ��ѧ�о��������ݸߵ���Ŀ�������µĸ������׷����Ŀ�ͺ�����������Ϊ�������ռ����й���½�����еĸ�����������ԭʼ���ݼ�������ϡ����ݺ����˾��á��ۺϡ���������ᡢ��������ҵ���ڽ̡����Ρ���ѧ����ʷ������ </li>
<li><a href="https://dcms.pku.edu.cn/" target="_blank" rel="noopener">������Ȼ��ѧ����-������ѧ������ѧ��������</a>-������2014��12�£����ɹ�����Ȼ��ѧ�����ش���Ŀ֧�֡�����ȫ��������ѧ�������ռ������ݷ������ġ�</li>
<li><a href="http://srda.sinica.edu.tw/" target="_blank" rel="noopener">̨������о������ݵ�����</a>-���W�g�{���о��Y�ώ졹�L�������ܼ�����������{���Y�ϣ��K����T�ƌ����_���Y��ʹ�á��Y�ρ�Դ��������УԺ���о��C���M�еČW�g�о��{��Ӌ�����Լ������������I��Ҏ����ʩ���Q����Ҫ���k�����{��yӋ���Wվ�Ͽɹ���ԃʹ�õ��Y�ϳ��^2ǧ�P�����w��������Ρ�����������������ƌW��Ҫ�I�����а�������L���M�е����}�ͻ�׷ۙ�{�顣���P�Y���ṩ�Y�ϙn���������о���桢�Y��ʹ���f�����Լ�����ԓ�Y�ϰl����������Ŀ���@Щ�Y�Ͽ������{�鷽ʽ�򆖾��OӋ֮���������Բ�ͬ���о����O�������M�з������a���µ��о��ɹ�������ԑ���춽̌W����У�����������W���ĽyӋ�����c�о����������ھWվ�ṩ��λ�n�̼���YouTubeƽ̨�O��SRDA�l��֮�⣬ÿ��Ҳ���e�k�Y��ʹ�ù������������ࡢ�W·��ӑ�����Լ��ṩ��У�ƏV�n�̷��յȣ������|���������ڵ��Y��ʹ���ߣ��K׌�Y���ܱ��V���\�ã��l�]���rֵ�� </li>
<li><a href="http://www.usc.cuhk.edu.hk/Eng/AboutDCS.aspx" target="_blank" rel="noopener">Databank for China Studies �й��о���������</a>-1963���������ۣ��������о��й��Ĵ�½ѧ�ߴ�����ּ�ڽ���һ���ĵ�����Ϣϵͳ���ݵ����ݿ⣬�Ա�۲��й��ط���չ�Ķ�̬�����ݿ����333���ؼ��к� 2,862���صĶ���ȵ���ᡢ���á����μ���������ڵĸ���ָ�ꡣ��Щָ��������ѧ���˿�ͳ��ѧ����̬ѧ������ѧ������ѧ������ѧ����ʷ��������������������ѧ����Ṥ�������ѧ�ȵ�ѧ�Ƶ�ѧ���ǹ�ͬ��ѡ�� <h4 id="�ط�-1"><a href="#�ط�-1" class="headerlink" title="�ط�"></a>�ط�</h4><h5 id="ֱϽ��-�ر�������"><a href="#ֱϽ��-�ر�������" class="headerlink" title="ֱϽ��/�ر�������"></a>ֱϽ��/�ر�������</h5></li>
<li><a href="https://data.sh.gov.cn/" target="_blank" rel="noopener">�Ϻ����������ݷ�����</a></li>
<li><a href="https://data.tj.gov.cn/" target="_blank" rel="noopener">�������Ϣ��Դͳһ����ƽ̨</a>-</li>
<li><a href="https://data.gov.hk/sc/" target="_blank" rel="noopener">���</a>-</li>
<li><a href="https://www.dsec.gov.mo/home_zhmo.aspx" target="_blank" rel="noopener">����</a>-<h5 id="�㶫"><a href="#�㶫" class="headerlink" title="�㶫"></a>�㶫</h5></li>
<li><a href="https://opendata.sz.gov.cn/" target="_blank" rel="noopener">�������������ݿ���ƽ̨</a>-</li>
<li><a href="http://gddata.gd.gov.cn/" target="_blank" rel="noopener">���Ź㶫</a>-</li>
<li><a href="http://210.76.74.192/" target="_blank" rel="noopener">�㶫ʡ�������ݿ���ƽ̨</a>-</li>
<li><a href="http://www.foshan-data.cn/" target="_blank" rel="noopener">��ɽ���������ݿ���ƽ̨</a>-</li>
<li><a href="http://data.gz.gov.cn/" target="_blank" rel="noopener">��������������ͳһ����ƽ̨</a>-</li>
<li><a href="http://dataopen.dg.gov.cn/dataopen/" target="_blank" rel="noopener">���ݶ�ݸ</a>-</li>
<li><a href="http://data.huizhou.gov.cn/" target="_blank" rel="noopener">�������������ݿ���ƽ̨</a>-</li>
<li><a href="http://data.zhuhai.gov.cn/" target="_blank" rel="noopener">�麣���������ݿ���ƽ̨</a>-</li>
<li><a href="http://gddata.gd.gov.cn/index.php/data/ls/Type/0/v/344.html" target="_blank" rel="noopener">�㶫ʡ��������ͳһ����ƽ̨-������</a>-</li>
<li><a href="http://gddata.gd.gov.cn/index.php/data/ls/Type/0/v/339.html" target="_blank" rel="noopener">�㶫ʡ��������ͳһ����ƽ̨-��Դ��</a>-</li>
<li><a href="http://data.jiangmen.gov.cn/" target="_blank" rel="noopener">���������ݿ���ƽ̨</a>-</li>
<li><a href="http://zsdata.zs.gov.cn/web/index" target="_blank" rel="noopener">��ɽ����������ͳһ����ƽ̨</a>-</li>
<li><a href="http://www.zhaoqing.gov.cn/sjkf/" target="_blank" rel="noopener">�����������������ݿ���ƽ̨</a>-<h5 id="�㽭"><a href="#�㽭" class="headerlink" title="�㽭"></a>�㽭</h5></li>
<li><a href="http://data.zjzwfw.gov.cn/" target="_blank" rel="noopener">�㽭��������������ݿ��š�ר����վ</a>-</li>
<li><a href="http://www.datanb.gov.cn/nbdatafore/web/indexpage.action" target="_blank" rel="noopener">�������������ݷ�����</a>-<h5 id="����-16"><a href="#����-16" class="headerlink" title="����"></a>����</h5></li>
<li><a href="http://www.gyopendata.gov.cn/" target="_blank" rel="noopener">�������������ݿ���ƽ̨</a>-</li>
<li><a href="http://www.zyopendata.gov.cn/" target="_blank" rel="noopener">�������������ݿ���ƽ̨</a>-</li>
<li><a href="http://gztrdata.gov.cn/" target="_blank" rel="noopener">ͭ�����������ݿ���ƽ̨</a>-<h5 id="����-17"><a href="#����-17" class="headerlink" title="����"></a>����</h5></li>
<li><a href="http://data.hainan.gov.cn/" target="_blank" rel="noopener">����ʡ��������ͳһ����ƽ̨</a>-<h5 id="����-18"><a href="#����-18" class="headerlink" title="����"></a>����</h5></li>
<li><a href="http://data.hnzwfw.gov.cn/odweb/" target="_blank" rel="noopener">����ʡ�������ݿ���ƽ̨</a>-<h5 id="����-19"><a href="#����-19" class="headerlink" title="����"></a>����</h5></li>
<li><a href="http://data.jiangxi.gov.cn/" target="_blank" rel="noopener">����ʡ�������ݿ�����վ</a>-<h5 id="����-20"><a href="#����-20" class="headerlink" title="����"></a>����</h5></li>
<li><a href="http://ningxiadata.gov.cn/odweb/index.htm" target="_blank" rel="noopener">���Ļ������������ݿ���ƽ̨</a>-</li>
<li><a href="http://szssjkf.nxszs.gov.cn/" target="_blank" rel="noopener">ʯ��ɽ�������ݿ���ƽ̨</a>-</li>
<li><a href="http://data.yinchuan.gov.cn/" target="_blank" rel="noopener">�����г������ݿ���ƽ̨</a>-<h5 id="r��"><a href="#r��" class="headerlink" title="ɽ��"></a>ɽ��</h5></li>
<li><a href="http://data.sd.gov.cn/" target="_blank" rel="noopener">ɽ���������ݿ�����</a>-</li>
<li><a href="http://www.jndata.gov.cn/" target="_blank" rel="noopener">�����й������ݿ�����</a>-</li>
<li><a href="http://data.qingdao.gov.cn/" target="_blank" rel="noopener">�ൺ�������ݿ�����</a>-<h5 id="����-21"><a href="#����-21" class="headerlink" title="����"></a>����</h5></li>
<li><a href="http://www.sndata.gov.cn/" target="_blank" rel="noopener">����ʡ�������ݿ���ƽ̨</a>-<h5 id="������"><a href="#������" class="headerlink" title="������"></a>������</h5></li>
<li><a href="http://data.harbin.gov.cn/" target="_blank" rel="noopener">���������������ݿ���ƽ̨</a>-<h5 id="����-22"><a href="#����-22" class="headerlink" title="����"></a>����</h5></li>
<li><a href="http://61.133.142.137" target="_blank" rel="noopener">�Ϸ����������ݿ���ƽ̨</a>-</li>
<li><a href="http://data.bengbu.gov.cn/" target="_blank" rel="noopener">��������Ϣ��Դ����ƽ̨</a>-</li>
<li><a href="http://www.huangshan.gov.cn/DataDevelopment/showTopicContentList/8/page_1.html" target="_blank" rel="noopener">��ɽ�������������ݿ�����Ŀ</a>-<h5 id="����-23"><a href="#����-23" class="headerlink" title="����"></a>����</h5></li>
<li><a href="http://www.wuhandata.gov.cn/whData/" target="_blank" rel="noopener">�人�����񹫿����ݷ�����</a>-<h5 id="����-24"><a href="#����-24" class="headerlink" title="����"></a>����</h5></li>
<li><a href="http://www.changsha.gov.cn/data/" target="_blank" rel="noopener">��ɳ�������Ż���վ���ݿ���ƽ̨</a>-<h5 id="����-25"><a href="#����-25" class="headerlink" title="����"></a>����</h5></li>
<li><a href="http://www.suzhou.gov.cn/dataOpenWeb/data" target="_blank" rel="noopener">�������������ݿ���ƽ̨</a>-</li>
<li><a href="http://opendata.changzhou.gov.cn/" target="_blank" rel="noopener">�������������ݿ���ƽ̨</a>-<h5 id="�½�"><a href="#�½�" class="headerlink" title="�½�"></a>�½�</h5></li>
<li><a href="http://data.xinjiang.gov.cn/index.html" target="_blank" rel="noopener">�½�ά����������������ݿ�����</a>-<h5 id="̨��"><a href="#̨��" class="headerlink" title="̨��"></a>̨��</h5></li>
<li><a href="http://data.gov.tw/" target="_blank" rel="noopener">̨��</a>-</li>
</ul>
<h3 id="o��-��������-3"><a href="#o��-��������-3" class="headerlink" title="ȫ��/��������"></a>ȫ��/��������</h3><ul>
<li><a href="http://academictorrents.com/" target="_blank" rel="noopener">Academic Torrents</a>-�����������ݼ��ķֲ�ʽϵͳ���ṩ445.96TB���о����ݡ�</li>
<li><a href="https://data.worldbank.org/" target="_blank" rel="noopener">World Bank Data</a>-�������п�������</li>
<li><a href="https://fred.stlouisfed.org/" target="_blank" rel="noopener">St. Louis Federal Reserve Economic Data - FRED</a>-ʥ·��˹������������ݿ�����վ������վ�ṩ�ḻ�ľ������ݺ���Ϣ���Դٽ����ý����ͼ�ǿ�����о���</li>
<li><a href="http://data.un.org/Default.aspx" target="_blank" rel="noopener">Undata</a>-���Ϲ�����ͳ�����ݿ⣬����6,000��������ݵ㣬���ǹ㷺��ͳ�����⣬����ũҵ�����ͨ�ţ���չԮ������������Դ�����������ڣ��Ա𣬽������Ͷ����г�������ҵ��������㣬�˿������񣬿�ѧ���������Σ������ó�ס�</li>
<li><a href="https://www.cia.gov/library/publications/the-world-factbook/" target="_blank" rel="noopener">�����鱨������ſ�</a>-������ÿ�����ҵ���ʵ���ص��о�267������/��������ʷ���������˿ڣ����ã���Դ��������ͨѶ�����䣬���ºͿ�����⡣</li>
<li><a href="http://www.icpsr.umich.edu" target="_blank" rel="noopener">ICPSR</a>-��1962�������������������ѧ���ȱ���У���Դ����ռ�ϵͳ��������ѧ�������ƣ�����������������ѧ�������ġ� ICPSR�о��漰21����������������仯������˾�����ֲ�����ȣ������˳��� 50��������ѧ�о����ϣ�����һ��ӵ��25��ݹ����о�������Ϊ��ѧ�ļ��ĵ����⡣ �û�Ⱥ�壺����40������ҵ�700�����Ա������������ѧ���о����ĵȡ�ÿ����վ�ÿͳ���60��ÿ����5.2��������ļ����ء� ������Դ����ͯ�ͼ�ͥ���ء��������ź͹�����ҵ��Alfred P. Sloan����Henry Luce������������Э�ᡢ������������񲿼���Ԥ���������ġ����Ϲ���ʳ��ũҵ��֯���������ͼ��ݷ����о�����ȫ����ѧ������Э�ᡢ������������ᡢ���Ҷ�ͯ���������෢չ�о�Ժ�������ϻ��о���������ҩ�������о��������ҿ�ѧ����ᡢ˾����˾������칫�ҡ�Robert Wood Johnson����ᡢSpencer����ᡢ�������ʿ�������������������񲿵ȡ� </li>
<li><a href="http://www.ndacan.cornell.edu" target="_blank" rel="noopener">National Data Archive on Child Abuse and Neglect</a>-������1988�꣬���������ζ���ѧ������̬ѧѧԺ��������һ�����ڴٽ���ͯŰ�������о���֮�����ѧ����������Դ�⡣ ������Դ�����������о���Ա�͹��������ռ����ϡ� �о����򣺶�ͯŰ������ӡ� </li>
<li><a href="http://www.disc.wisc.edu" target="_blank" rel="noopener">Data &amp; Information Service Center</a>-����˹������ѧ���ѷ��У���졣Ϊ������ѧ������ж����������о�Ա��ѧ���ṩ�˶������ݺ��������ݣ����ڲ���Ϥͳ���������û�����ӵ��һϵ�л��ڲ˵������������Ʒ�� �����ռ���Χ��������顢��۾���ָ�ꡢѡ���о����˿��о�����ữģʽ��ƶ����ʩ���Ͷ������롢������顢�����ͽ����Լ������ղ����ݡ� �û�Ⱥ�壺����UW-Madison��ѧ��ѧ������ʦ�͹�����Ա���š�</li>
<li><a href="http://www.hmdc.harvard.edu/" target="_blank" rel="noopener">Harvard-MIT Data Center</a>-1960���ڹ����ѧ��Ϊ�����κ�����ѧ��ԭʼ�������Ķ����������Ƕ�������ѧ������һ����Ա��ʹ�����з����ṩ���綥�����о�������Դ�����ݷ����֧����Ϣ������Ϊ�˽�����ѧ�о��ͽ�����չ�ø�Զ����Щ����HMDCͨ��������ѧ���ź͹����ѧ������ѧУ���Ѿ����ݱ����Ϊ����ѧ�о��ͽ��������ṩ��Ϣ����������ṩ�ߡ������ṩ�Ƚ��ļ�����豸�ͻ�����ʩ����������ǿ���ҷ���ʹ�õ��о����㹤�ߡ���Ⱥ���㡢Ӧ�ó���ͷ������йܺ��ֳ������ʵ���ҡ�HMDC���ṩͳ�����ֻ�Ͱ༶���û������Ѻõ�����֧�֣���Ҳ������Ϊ�����ѧ����ʡ������ѧ��������ѧ���ݾ����̡�</li>
<li><a href="http://www.ropercenter.uconn.edu/" target="_blank" rel="noopener">Roper Center for Public Opinion Research</a>-���������ζ���ѧʼ����1947�꣬�������Ϲ�������ѧ���ݵĶ�����������֮һ���������ڹ������۵��鷽�档���ĵ��������ռ�������ʹ��������������ݡ��û�Ⱥ��:��Ա����Ա���������ѧУ�����л����������ȣ�Ŀǰ��Ա��������280���� ��վ������������Ҫ�ǹ���ѡ�ٵ����ݡ�������Դ:ͨ����ҵ���鹫˾������Ĺ��ҡ��ݺ�����һЩ���ڹ������۵ĵ������ݣ�Ҳ�������������������о����ĺ�����˹�ٴ�ѧ���������о��ҵ�һЩѧ�����ݡ�Ŀǰ���г���12000���������ڵ����ݼ���8000�����������ݼ��� </li>
<li><a href="http://gss.norc.org/For-The-Media" target="_blank" rel="noopener">General Social Survey</a>-������֥�Ӹ��ѧ������1972�ꡣĿǰ��ƽֻ̨��GSSһ����Ŀ�����ݡ���Ҫ�о�����������������ĸ����ԣ���1972�꿪ʼ��Ŀǰ�ѵ�����44�꣬��Ψһһ�����Լ���������������̬�ȱ仯��ȫ���ʵ�������̸���顣�о����򣺹������ɡ�����ͱ�����������ݡ����¡�����֧���ص㡢�������������������ѹ���ʹ�����ʱ��ȡ��û�Ⱥ�壺�о��ߡ�ѧ���������ƶ��ߡ����ߵȣ�ÿ���ѧ���û�����40���ˡ�</li>
<li><a href=""></a>-<h4 id="����-26"><a href="#����-26" class="headerlink" title="����"></a>����</h4></li>
<li><a href="https://data.gov.sg/" target="_blank" rel="noopener">�¼���������������</a>-</li>
<li><a href="https://data1850.nz/" target="_blank" rel="noopener">New Zealand Institute Of Economic Research �C Data1850</a>-�����������о��������ڸ���վ������1850����������ؾ������ݡ�</li>
<li><a href="https://www.scb.se/en/" target="_blank" rel="noopener">���ͳ�ƾ�</a>-�ṩ������ͳ�����ݣ�����26�����ݼ���</li>
<li><a href="https://data.gov.in/" target="_blank" rel="noopener">Open Government Data Platform India</a>-ӡ�ȿ����������ݣ�OGD��ƽ̨</li>
<li><a href="http://data.gov.uk/" target="_blank" rel="noopener">Data.Gov.Uk</a>-������Ӣ���������벿���Լ����������������ź͵ط����ֵ����ݼ������䵱�й�һ����Ϣ���Ż���������ҵ�뾭�ã����������壬���������������������������������ͽ�ͨ���䡣</li>
<li><a href="http://open-data.europa.eu/en/data/" target="_blank" rel="noopener">ŷ�˿�������</a>-���ݰ���ŷ���ڲ��ľ��÷�չ�Լ�ŷ�˻����ڲ���͸���ȣ�������������Ե���κͽ������ݣ�ͳ�����ݣ�ѡ�ٽ�������ɷ����Լ������������������ͨ����Ϳ�ѧ�о������ݡ�</li>
<li><a href="http://www.data.gc.ca/" target="_blank" rel="noopener">���ô󿪷�����</a>-�������������͵����ռ����ݼ����Ե���Ŀ�������԰�����̽�����ô��������ͨ���������ݣ�������Ϣ�Ϳ��ŶԻ������͸���ȣ���ǿ�����ƣ���߹������Ȳ��ƶ����º;��û��ᡣ</li>
<li><a href="https://opengovernmentdata.org/" target="_blank" rel="noopener">Datacatalogs.Org</a>-���ṩ����������ŷ�ˣ����ô�CKAN�ȵĿ����������ݡ�</li>
<li><a href="https://www.ukdataservice.ac.uk/" target="_blank" rel="noopener">Ӣ�����ݷ���</a>-Ӣ�����ݷ��񼯺ϰ���Ӣ��������������Ҫ���飬������飬�����о���Ӣ���˿��ղ����ݣ�������������ҵ���ݺͶ������ݡ�</li>
<li><a href="http://www.data-archive.ac.uk/" target="_blank" rel="noopener">UK Data Archive</a>-UK Data Archive1967�������Ӣ��������˹��ѧ����һ�����ʹ��ϵ�Ϊ����ѧ������ѧ�ƻ�ȡ���������ṩ���ݵ�רҵ�������ġ�Ŀ����Ϊ�˷������ٴ����ö��ռ����������о����ݡ� ������Դ�����ģ���������飬�����Ͷ������飻Ӣ����Ҫ�ĵ��飬����Ӣ����ͥС����顢��������Լ������о���Ŀ�Ķ�ý�嶨��������Դ���о��������仯��������á���������������Դ�����塢ʳƷ��ʳƷ��ȫ�������뽡����Ϊ�����ݺ͵��ػ�������Ϣ�뽻�����Ͷ����г������Ρ�ƶ����������ӵȡ�</li>
<li><a href="https://data.gov.uk/data/search" target="_blank" rel="noopener">Data.gov.uk</a>-Data.gov.uk����Ӣ����������Ŀ��Կ��ٲ��������������Ϣ��Ӣ���������ţ�Ӣ��������ߵ�������������ϢϢ��ص���վ�����������������ź���������������������������վ������¼������� ������Դ�������������š�һЩ�������������͵ط����� �о�������ҵ�;������ݡ�������������˾������������ᡢ����������֧��������ͳ��С�����������������ȷ��档�û�Ⱥ�壺��ҪΪӢ��������վ����30074328�ε����������81%����Ӣ����3%����������0.65%�����й��� </li>
<li><a href="http://www.assda.edu.au/" target="_blank" rel="noopener">Australian Social Science Data Archive�Ĵ���������ѧ���ݿ�</a>-�ɰĴ����ǹ�����ѧ������1981�꣬Ŀ���ǽ��ռ��ͱ�����о������ṩ��ѧ���о���Ա�������û����ж��η��������ݺ��ǵ������У�����ѧ����ʷ��������˾���ȵȡ���ƽ̨��������������ж������ݡ��������ݡ�ʱ�����С�������ݺ��������ݡ�Ŀǰ����ʹ�õ����ݼ�����2000����������Դ���Ĵ����������顢������顢�˿��ղ鼰������̫�������ڵ�����һЩ���ҵ����ݡ��û�Ⱥ�壺��ѧ��������������������ѧ�о���Ա�� </li>
<li><a href="http://data.library.ubc.ca/rdc/" target="_blank" rel="noopener">The British Columbia Inter-university Research Data Centre���е߸��ױ���У���о�����</a>-�ɼ��ô��»���ʹ�ѧ�����������ǲ��е߸��ױ���ʡ��������ѧ�����ɸ������ѧ�����е߸��ױ��Ǵ�ѧ��ά�����Ǵ�ѧ�ͱ����е߸��ױ��Ǵ�ѧ�����о��������������ּ�ڼ�ǿ��ԱѧУѧ������ְ�����о��������������ݰ����������˿ڽ������顢ȫ����ͯ��������������顢�Ͷ������붯̬���顢����������Ա�������Լ�������顣�û�Ⱥ�壺Ŀǰֻ������������ѧ��SFU��UBC��UNBC��Uvic��������Ŀ��ѧ������ʦ���š�</li>
<li><a href="http://archiv.soc.cas.cz/en/" target="_blank" rel="noopener">SDA Sociological Data Archive�ݿ����ѧ���ݵ���</a>-������1998�꣬�ɽݿ˹��͹���ѧԺ���ѧ�о�����������Ŀ���Ǵ�������¼�ʹ洢����ѧ�о���Ŀ�������ļ������ٽ��䴫����ʹ��㷺����ѧ���о��Ķ������úͽ����������ݿ�����ݺ�����ʷ���ݡ�����Ԥ�ں�̬�ȡ�ѡ�ٵ��顢ISSP�����ת�͡�ס�����顢������顢־Ը�����������ӵ�е����ݼ�����ʮ�������Ҫ�û�Ⱥ��Ϊ�������о��ߣ��������7000�û���ѧ����Ϣ������20���о���ʹ�á� </li>
<li><a href="http://www.dda.dk/" target="_blank" rel="noopener">The Danish Data Archive</a>-�����Ļ��������������������ڹ���ͼ��ݣ�����Ҫ���ռ��ʹ洢��ʷ���ݣ��������ṩ�����ڡ�������Դ�������������ɹ��ҵ����ݰ��ź�ת�Ʋ��ϡ��û�Ⱥ�壺��Ѱ���Լ����ȵ���Ⱥ������ʷ�Ƚϸ���Ȥ����Ⱥ�Լ���������ʷѧ���о���Ա��ѧ���� </li>
<li><a href="http://www.cessda.org/" target="_blank" rel="noopener">Council of European Social Science Data Archives</a>-��1976�괴����ּ��Ϊ������Ա�ṩ���͵ġ��ۺϵĺͿɳ���������ѧ���񣬼�ǿ��������ŷ����������ѧ�����������������ݵ��������ٽ����������ѧ�����Ŀ�ѧ�Ŀ��ӻ���Ŀǰ����15��ŷ�޹��������Ա���� </li>
<li><a href="http://www.europeansocialsurvey.org/data/" target="_blank" rel="noopener">ŷ�������飨ESS��</a>-������2001�꣬��һ��ŷ�޷�Χ�ڵĿ�����飬��ҪĿ�����˽����ṹ���ȶ���仯������ŷ����ᡢ���Ρ����½ṹ����α仯�ġ��о�����ŷ��30������ҵĶ���������Ⱥ��̬�ȡ��������Ϊģʽ���о�����ý���������Ρ����Ρ������Ҹ��С��Ա����ͥ������˿�ͳ�ơ������ֵ�ۡ����񡢹�����롢�����뱣������ͥ���Ҹ������������������Ҹ����������������ӡ����塢�����������������᲻ƽ�ȡ����ڶ�����仯��̬�ȡ�</li>
<li><a href="http://www.psych.ut.ee/esta/essda.html" target="_blank" rel="noopener">ESSDA�� Estonian Social Science Data Archive</a>-��ɳ��������ѧ���ݵ������ɰ�ɳ��������ͼ��ѧ������1996�꣬�亭�ǵ�������Ҫ�У�����ѧ��ũ�����ѧ���������ѧ����ͥ�о����Ա��о����������ѧ��Խ�����ѧ���������ߡ����ݿ��ṩ�������ݼ�����ʽ:����ĸ�����͹ؼ��ּ�����</li>
<li><a href="http://www.reseau-quetelet.cnrs.fr/spip/?lang=en" target="_blank" rel="noopener">The R��seau Quetelet</a>-��������ίԱ�����߿���µķ�������ѧ���ݵ����⡣������Χ������������չ�������ݹ鵵����ѷַ�����չ���ݡ�������Դ��Maurice Halbwachs���ģ�ADISP������������������ģ�CDSP����INED���ݷ���Ŀǰ���ɻ�ȡ�����ݼ�����1100�����û�Ⱥ�壺����������о���Ա����ʿ������ʿ��ѧ����˶ʿ�о������û���������ͨ�����ݿ����ط��������о����ݣ�������Ѱ�ҹ����о��������ԱȽ��о���һЩ�ض��������Ż����Ի�ȡ�������ݡ� </li>
<li><a href="http://www.fsd.uta.fi/english/index.html" target="_blank" rel="noopener">Finnish Social Science Data Archive</a>-�ɷ����������Ļ��������Ĺ�����Դ���ģ���Ҫ�����ǲɼ��������ͱ������ݣ����û��ṩ���ݼ���������ص���Ϣ�������磺���ݶ������á������о������ȡ��о��������仯�����ˡ�����/ͯ�����ͥ������ѡ�١�����������ý�塢��������������˺��������塢ƶ���������Ա������뽡���������������ϵ����������������꣬Ŀǰ����ƽ̨��ӵ��1259�����ݼ����û�Ⱥ�壺�����Ĵ�ѧ������ѧԺ�Լ��о�������ѧ���Լ�������Ա�� </li>
<li><a href="http://www.gesis.org/en/services/data/" target="_blank" rel="noopener">GESIS</a>-������1986�꣬�ǵ¹����������������Ŀǰ��300��Ա��Ϊ�о����ṩ�����ġ�ȫ��ġ�������صĵ��飻��רҵ��֪ʶ�ͷ�����ʱ׼���ش�����о���Ա�����¿�ѧ�����������������ص����⡣�о����򣺵��鷽����Ӧ�ü��������Ϣ��ѧ������ѧ���顣������Ŀ�У�Ů�Ժ��Ա���顢��ʷ���顢���ָ����顢���ṹ������ѡ���������о�����ֵ����̬���о��� </li>
<li><a href="http://www.tarki.hu/index-e.html" target="_blank" rel="noopener">SRIC/TARKI Social Research Informatics Center (Budapest)</a>-T?RKI������1985�꣬���������г���25�������ѧ�о����顣ּ��Ϊ�о����ṩ������ʩ�����о��������ֲ㡢�Ͷ����г���������䡢���ѡ����ʽ��̬�Ⱥ��г��о���TARKI�Ŀͻ�Ⱥ���������������������֯��������֯��˽����ҵ�� </li>
<li><a href="http://www.ucd.ie/~issda/" target="_blank" rel="noopener">ISSDA��Irish Social Science Data Archive</a>-�ɰ��������ʴ�ѧ���졣�ǰ��������ȵĶ������ݻ�ȡ������ʹ������ġ���������ȷ���㷺��ȡ����ѧ�Ķ������ݼ����ٽ��ڰ��������ú���᷽��Ĺ��ʱȽ��о�������������Ҫ����������������ݡ�ȫ����ͥ���飨QNHS����ѧУ��ҵ�����顢���ڶԲм�̬�ȵĵ��顢���������ڶ�����ҵ��̬�ȵ��顢���ʽ��Ӫ��̬�ȵ��飨SL?N����Teagasc����ũ�����飨NFS�������������������о���TILDA���ȡ��û�Ⱥ�壺��������ҵ���ŵ�ѧ���Լ�ѧ������о���Ա</li>
<li><a href="http://csrda.iss.u-tokyo.ac.jp/en/" target="_blank" rel="noopener">Center for Social Research on Japan: Social Science Japan Data Archive�ձ�����ѧ���ݵ���</a>-�ձ���������Ϣ����2009���ɶ�����ѧ����������һ���ձ����������ݵ��ۺϵ����⣬�����ռ������ơ����ֻ��ձ�����΢�����ݣ�Ŀ���Ǵٽ����������ݵ��ٴ����á�������Ҫ���ݣ�������JGSSһ����Ŀ�����ݣ��������й���CGSS����1998��-2015��ף�SSJDA���п������ݼ�1935���������������ۼ�22907�ˣ������ṩ���ۼ�35759�ˣ��ۼƷ�������1692ƪ��ʹ����������ϵͳ���ۼ�569017�˴Σ����ʵ������б��ۼ�148332�Ρ��û�Ⱥ�壺�о���Ա��ѧ�� </li>
<li><a href="http://www.kossda.or.kr/" target="_blank" rel="noopener">Korean Social Science Data Archive</a>-��1983����Lee Inpyo����ᴴ��������ҪĿ���ǻ����ṩ���������Ͷ��������Լ����׵��ۺ����ֵ������о��������Ρ����������ͷ��ɡ����ú���ҵ����������Ļ���������⡢��ḣ��������ѧ�ͽ����������о����û�Ⱥ�壺���˺���֯��������Ҫ����ѧ����ѧ�ߺ��о���Ա����֯��Ҫ����ѧУͼ��ݡ��о��������л�˽����֯��</li>
<li><a href="http://www.ksdc.re.kr" target="_blank" rel="noopener">Korean Social Science Data Center</a>-��1997�������ּ�ڽ���һ����������ѧ�����ۺ���Դ����ϵͳ�������ռ��͹���������ѧ�о���صĵ������ݺ�ͳ�����ݣ�����ͳ�ƻ����ϲ��ѧ����ѧ�ߡ����ݺ��ǵ������У����Ρ�ѡ�١���������ᡢ�Ļ������������������������ɡ�Ů�ԡ���ѧ��ͨѶ�����������У����һ��������Ľ���������ʱ���������ݡ��û�Ⱥ�壺ѧ�ߺ�ѧ�������Ի�Ա���š� </li>
<li><a href="http://www.dans.knaw.nl/en/" target="_blank" rel="noopener">Data Archiving and Networked Services</a>-������һ���������ģ��������ƶ������о������ļ��Ŀɳ�����ȡ�������о���Ա�鵵�����������ݡ���Ҫ�ṩ���ֺ��ķ������ݹ鵵�����������ú���ѵ����ѯ��������Ҫ�����ߺ�������ѧ��24�����л�����Ŀǰ�㼯�˳���6���о���16�������ݼ��Թ��û������ݽ��ж����о��� </li>
<li><a href="http://www.nsd.uib.no/" target="_blank" rel="noopener">Norwegian Social Science Data Service</a>-Ų��������������֮һ�����ɽ������о������������޹�˾��ΪŲ����������о��ߺ�ѧ���ṩ���ݡ����⣬NSD����Դ���ģ�Э���о���Ա�ռ����ݡ��������ݡ��ṩ�����ȡ�Ŀǰ��ƽ̨�ṩ�����ݰ��������˲������ݣ����˵�������ݣ��������������ݣ�������Χ�㷺�����ݣ����˿�ͳ�����ݡ���ҵ�����÷�չ�������ƶȵȣ�������ϵͳ���ݡ������������ݣ�������֯��������ҵ����ѧ�ȣ��� </li>
<li><a href="http://www.adp.fdv.uni-lj.si/en/prva.htm" target="_blank" rel="noopener">The Slovenian Social Science Data Archives</a>-��1997�괴����˹�������ǵ�¬�������Ǵ�ѧ��ּ�ڻ������ѧ�Ҹ���Ȥ�Ĺ�������ѧ�����ݣ���鲢���ӻ���Щ�����Ա�����ʹ�ã�Ŀǰ���������ѧ�Ʒ����600�����顣��ƽ̨�����ݺ������˿�ѧ���˿ڡ��˿�ͳ�ƺ��ղ顢���á����������������ز�����Ϣ��ͨ�ŵ������û�Ⱥ�壺���Һ͹����о��ߡ���ʦ�Լ��������ݺ�ͳ��������ѧ��������һ�����ڿ�ѧ��������ֻᡣ����Ҳ��������ѧ����ѧ��ʵ����ϰ�ı������ϣ��������ṩ������������о���������ݣ�����ԭʼ�ʾ��Ͳ����������ȡ�</li>
<li><a href="http://www.cis.es/" target="_blank" rel="noopener">CIS����������������</a>-��������Ҫͨ����չ�����������о��Դ����������ƽ�����������ѧ֪ʶ�ķ�չ���о���Ҫͨ�����ַ�ʽ��չ������������չ��ͨ���빫���������Ӫ����֯������ʵ�֡��о�����ѡ�ٵ��顢�й����ꡢ�������������ȫ�������Ļ���ר����顢����������ָ���͹��ʵ��顣 </li>
<li><a href="http://www.ssd.gu.se/enghome.html" target="_blank" rel="noopener">Swedish National Data Service</a>-������о����»ᴴ�죬�ܲ�λ�ڸ�±���ѧ������������������ݵĻ������������͹����ϵ��о��߻�������������������е����ݣ�Ϊ�о����ṩ�����������̵�ָ�������о�������ʷѧ������ѧ��ҽ�ƺͽ�����ѧ������ѧ��ý��ͽ�����������ѧ�����ڽ���/ȫ�򽡿�/���ҽ�ơ�����ѧ���ٴ�ҽѧ��������Դ������������ѧ�����������ݷ�������±���ѧ����Ĭ�´�ѧ��¡�´�ѧ����乫�����������ȡ� <h3 id="����-27"><a href="#����-27" class="headerlink" title="����"></a>����</h3></li>
<li><a href="https://www.data.gov/" target="_blank" rel="noopener">����������������</a>-</li>
<li><a href="https://www.census.gov/" target="_blank" rel="noopener">United States Census Bureau</a>-�����˿��ղ��</li>
<li><a href="https://sedac.ciesin.columbia.edu/" target="_blank" rel="noopener">NASA SocioEconomic Data And Applications Center - SEDAC</a>-��ᾭ�����ݺ�Ӧ�����ģ����������Һ��պ���ֵ���۲�ϵͳ���ݺ���Ϣϵͳ��EOSDIS���еķֲ�ʽ�����������ģ�DAAC��֮һ��</li>
<li><a href="https://nces.ed.gov/" target="_blank" rel="noopener">�������ҽ���ͳ������</a>-���ҽ���ͳ�����ģ�NCES�����ռ��ͷ�������������������/�����Ľ���������ݵ���Ҫ����ʵ�塣</li>
<li><a href="http://www.census.gov/geo/www/tiger/" target="_blank" rel="noopener">TIGER</a>-US-wide census data.</li>
<li><a href="http://www.census.gov/geo/www/tiger/tgrshp2010/tgrshp2010.html" target="_blank" rel="noopener">TIGER/Line 2010</a>-2010 extracts from the census database. These files contain the boundaries of census areas, which can then be linked to census data tables.</li>
<li><a href="http://sedac.ciesin.columbia.edu/usgrid/" target="_blank" rel="noopener">US Census Grids</a>-Raster griddded datasets for census variables across the US for data from 2000. Approximately 1km resolution.</li>
<li><a href="http://sedac.ciesin.columbia.edu/data/collection/acrp" target="_blank" rel="noopener">Archive of Census-related Products</a>-A range of census-related products produced by a research project at CIESIN including boundary, migration and microdata samples.</li>
<li><a href="http://toddata.cnt.org/" target="_blank" rel="noopener">TOD Database</a>-Economic and demographic information for areas around fixed transit station in the US. Available at three levels - 1/2 mile buffer around station, aggregated transit zones, transit regions.</li>
<li><a href="http://www.ihis.us/ihis/" target="_blank" rel="noopener">Integrated Health Interview Series</a>-���������Ҷ�ͯ���������෢չ�о�������ġ�ּ���ռ�������1963������ɻ�õĹ����������񽡿���ҽ�Ʊ������Ǻͽ�����Ϊ�����ݡ��Է����о��߷���ÿ������ʱ��ı仯��Ŀǰ����վ�����ϵ������У�1850������������˿��ղ����ݺ������������ݣ�1962������ĵ�ǰ�˿ڵ������ÿ�µĲ�����飻1960������ĸ���82�����ҵ��˿��ղ�΢���ݣ�1980������Ŀ�ʱ����������˿��뽡���ۺϵ��飻1960��������˿��뻷���������ݣ�1960s������Ĺ��ҽ�����̸�������ݣ�1993������Ŀ�ѧ�͹����Ͷ�������ĵ������ݵȡ�<h4 id="�ط�-2"><a href="#�ط�-2" class="headerlink" title="�ط�"></a>�ط�</h4></li>
<li><a href="https://opendata.cityofnewyork.us/" target="_blank" rel="noopener">ŦԼ������������ƽ̨</a>-</li>
<li><a href="http://data.houstontx.gov/" target="_blank" rel="noopener">��˹���п���������վ</a>-</li>
<li><a href="https://www.opendataphilly.org/" target="_blank" rel="noopener">�ѳǿ�������ƽ̨</a>-</li>
<li><a href="https://datasf.org/opendata/" target="_blank" rel="noopener">�ɽ�ɽ��������������վ</a>-</li>
<li><a href="https://nces.ed.gov/" target="_blank" rel="noopener">�������ҽ���ͳ������</a>-���ҽ���ͳ�����ģ�NCES�����ռ��ͷ�������������������/�����Ľ���������ݵ���Ҫ����ʵ�塣</li>
<li><a href=""></a>-</li>
</ul>
<h2 id="����-����-3"><a href="#����-����-3" class="headerlink" title="����/����"></a>����/����</h2><ul>
<li><font color=#DC143C><a href="http://sci-hub.tw/" target="_blank" rel="noopener">SCI hub</a>-�㶮�ģ����</font></li>
<li><font color=#DC143C><a href="https://scholar.google.com/" target="_blank" rel="noopener">�ȸ�ѧ��</a>-goooooood��</font></li>
<li><a href="http://xueshu.baidu.com/" target="_blank" rel="noopener">�ٶ�ѧ��</a>-û�л������������</li>
<li><a href="https://www.researchgate.net/" target="_blank" rel="noopener">ResearchGate</a>-ѧ�������������������߻��ϴ��Լ������Ľ��й�����</li>
<li><a href="https://figshare.com/" target="_blank" rel="noopener">Figshare.Com</a>-�о������ϴ���վ</li>
<li><a href="https://www.gdeltproject.org/#intro" target="_blank" rel="noopener">The GDELT Project</a>-GDELT����������������������Ὺ���о�ƽ̨���������ţ����棬��Ϣ��Ӧ�ó���Ĺٷ�һվʽ�洢�⡣</li>
<li><a href="http://dvn.fudan.edu.cn/dvn/" target="_blank" rel="noopener">������ѧ����ѧ����ƽ̨</a>-ּ���ռ��������Ϳ����й���ᾭ�÷�չ���ݣ�Ϊѧ���ṩ����߾��������о����������ݷ���Ϊѧ���ṩ���Ӽ�ʵ������ѧ���鷽����Ӧ�õ�ѵ����������ѧ�Ƶ��о���Ϊ������ѧ���д�ѧ���С���¼������ְ��ͳ�Ϊ �������ǿ⡱�ṩ��Ҫ�ͻ����Ե�֧�š��������ͣ��о����ġ�ѧλ���ġ��о����桢���߷��桢ר����鼰ͳ������� </li>
<li><a href="https://arxiv.org/" target="_blank" rel="noopener">arXiv</a>-arXiv is a free distribution service and an open-access archive for 1,663,247 scholarly articles in the fields of physics, mathematics, computer science, quantitative biology, quantitative finance, statistics, electrical engineering and systems science, and economics. �����ĵĹ�����������</li>
<li><a href=""></a>-</li>
</ul>
<h2 id="�ٿ�-wiki-�������"><a href="#�ٿ�-wiki-�������" class="headerlink" title="�ٿ�/wiki/�������"></a>�ٿ�/wiki/�������</h2><ul>
<li><a href="https://en.wikipedia.org/wiki/Wikipedia:Database_download" target="_blank" rel="noopener">ά���ٿ�����</a>-ά���ٿ�����</li>
<li><a href="https://grouplens.org/datasets/" target="_blank" rel="noopener">Grouplens.Org</a>-�ṩ9�����ݼ��������鼮����Դ��wiki���ݼ�</li>
<li><a href="https://maplight.org/data/" target="_blank" rel="noopener">MapLight</a>-���ڻ��ҵ����ݼ�</li>
</ul>
<h2 id="��׼���ݼ�����֤�㷨�a�"><a href="#��׼���ݼ�����֤�㷨�a�" class="headerlink" title="��׼���ݼ�����֤�㷨�ã�"></a>��׼���ݼ�����֤�㷨�ã�</h2><ul>
<li><a href="http://archive.ics.uci.edu/ml/index.php" target="_blank" rel="noopener">UC Irvine Machine Learning Repository</a>-���ݴ�ѧŷ�Ļ���ѧϰ�⣬�ṩ481�����ݼ�</li>
<li><a href="https://competitions.codalab.org/competitions/17094" target="_blank" rel="noopener">Liver Tumor Segmentation Challenge Dataset</a>-</li>
<li><a href="https://www.kaggle.com/c/inaturalist-challenge-at-fgvc-2017" target="_blank" rel="noopener">iNaturalist Challenge at FGVC 2017</a>-</li>
</ul>
<h2 id="�����ۺ���վ-��������"><a href="#�����ۺ���վ-��������" class="headerlink" title="�����ۺ���վ/��������"></a>�����ۺ���վ/��������</h2><p>�����Ŀ�»�����һЩ��վ������ͬ��Ҳ�Ѽ������˱Ƚ�ȫ����ѹ����������嵥���ṩ���ط��������г��Ĳ������ݿ��ܸ����������������ظ���</p>
<ul>
<li><a href="https://www.udparty.com/index.php/lists/link?page=0&bk_id=218" target="_blank" rel="noopener">����������</a></li>
<li><a href="http://hadoopilluminated.com/hadoop_illuminated/Public_Bigdata_Sets.html" target="_blank" rel="noopener">Hadoopilluminated.Com</a>-�ṩ���⿪��������վ�����Ϣ��Ŀǰ�Ѽ���35����ѯ;��</li>
<li><a href="https://datahub.io/" target="_blank" rel="noopener">Datahub.Io</a>-���ֺͷ������������ݼ�����������ϵ�ͷ���֪ʶ��</li>
<li><a href="https://www.enigma.com/" target="_blank" rel="noopener">Enigma.Com </a>-���������ͷ�����������˾����֯��������ʮ�ڷݹ�����¼��</li>
<li><a href="https://registry.opendata.aws/" target="_blank" rel="noopener">Aws.Amazon.Com/Datasets</a>-�������Ƿ��ֺ͹���ͨ��AWS��Դ�ṩ�����ݼ���</li>
<li><a href="https://www.quandl.com/" target="_blank" rel="noopener">Quandl.Com</a>-���ڣ����ú�������ݼ�����Ҫ��Դ��ΪͶ��רҵ��ʿ�ṩ����Quandl��ƽ̨������40����ʹ�ã����а����������綥���Գ�����ʲ�������˾��Ͷ�����еķ���ʦ��</li>
<li><a href="https://www.quora.com/Where-can-I-find-large-datasets-open-to-the-public" target="_blank" rel="noopener">Quora’s Big Datasets Answer</a>-Quora�Ϲ��ڿ������ݵĻش����</li>
<li><a href="https://www.kaggle.com/datasets" target="_blank" rel="noopener">Kaggle Datasets</a>-����Kaggle�����ھ�����վ</li>
<li><a href="https://datasetsearch.research.google.com/" target="_blank" rel="noopener">Google Dataset Search</a>-�ȸ蹫������������վ</li>
<li><a href="http://web.archive.org/web/20150320022752/https://bitly.com/bundles/hmason/1" target="_blank" rel="noopener">Research-Quality Data Sets By Hilary Mason</a>-�������ݼ�����</li>
<li><a href="https://www.reddit.com/r/datasets/" target="_blank" rel="noopener">R/Datasets</a>-�������ݼ�������վ</li>
<li><a href="http://www.nyu.edu/projects/politicsdatalab/datasupp_datasources.html" target="_blank" rel="noopener">Dept. Of Politics @ New York University</a>-ŦԼ��ѧ������������</li>
<li><a href="https://www.datasciencecentral.com/profiles/blogs/great-github-list-of-public-data-sets" target="_blank" rel="noopener">Github Free Data Source List</a>-Github�û��Կ�������Դ���ܽ�</li>
<li><a href="https://data.stackexchange.com/" target="_blank" rel="noopener">StackExchange Data Explorer</a>-һ����Դ���ߣ����ڶ�����StackExchange����Ĺ������ݽ��������ѯ��</li>
<li><a href="https://www.datasciencecentral.com/profiles/blogs/the-free-big-data-sources-everyone-should-know" target="_blank" rel="noopener">IBM Blog Abour Open Data</a>-��������Դ����</li>
<li><a href="https://msropendata.com/" target="_blank" rel="noopener">Microsoft Research Open Data</a>-����Microsoft Research��������ݼ������ƽ���Ȼ���Դ�����������Ӿ����ض������ѧ������������о���</li>
<li><a href="https://ghtorrent.org/" target="_blank" rel="noopener">GHTorrent</a>-</li>
<li><a href=""></a>-<h2 id="���ݽ���ƽ̨"><a href="#���ݽ���ƽ̨" class="headerlink" title="���ݽ���ƽ̨"></a>���ݽ���ƽ̨</h2>�����Ŀ�»��ܵ���վ�ϵ����ݣ��󲿷���Ҫ���ѣ�<h3 id="���߷��漰�������"><a href="#���߷��漰�������" class="headerlink" title="���߷��漰�������"></a>���߷��漰�������</h3></li>
<li><a href="http://www.gov.cn/zhengce/content/2015-09/05/content_10137.htm" target="_blank" rel="noopener">���ٽ������ݷ�չ�ж���Ҫ��</a></li>
<li><a href="http://www.gbdex.com/website/view/bigData.jsp" target="_blank" rel="noopener">���й������ݽ��װ�Ƥ�飨2015��2016����</a></li>
<li><a href="http://cdmd.cnki.com.cn/Article/CDMD-87903-1018117359.htm" target="_blank" rel="noopener">�ҹ������ݽ���ģʽ�о�</a></li>
</ul>
<h3 id="����ƽ̨"><a href="#����ƽ̨" class="headerlink" title="����ƽ̨"></a>����ƽ̨</h3><h4 id="����ƽ̨-1"><a href="#����ƽ̨-1" class="headerlink" title="����ƽ̨"></a>����ƽ̨</h4><ul>
<li><a href="http://www.gbdex.com/website/" target="_blank" rel="noopener">���������ݽ�����</a>-�ҹ�����ȫ���һ�Ҵ����ݽ������� ���������ݽ�������չ��Ա��Ŀͻ��2000�ң��ѽ���225����������Դ�������������ܣ��ɽ��׵�����������150PB���ɽ������ݲ�Ʒ4000�����������ʮ������򣬳�Ϊ�ۺ��ࡢȫƷ�����ݽ���ƽ̨��</li>
<li><a href="http://www.chinabdbank.com/index.htm" target="_blank" rel="noopener">�������������ݽ�����</a>-�����������������ݲ�ҵ��չƽ̨��ͨ��������Ч���г����ƣ��ۺ���������ҵ�����ȶ���������Դ�����ϴ����ݷ���������ȫ����Ӫ���ش������������Ϸ���ƽ̨������ʡ������ݷ���������·���ƽ̨��</li>
<li><a href="http://www.chinadatatrading.com/" target="_blank" rel="noopener">���������ݽ�������</a>-�人���������ݽ������Ĺɷ����޹�˾��ҵ�񺭸����ݽ�������ͨ�����ݷ���������Ӧ�ú����ݲ�Ʒ�����ȣ��۽���������+����ҵ�����ṩ�м�ֵ�Ĳ�Ʒ�ͽ�������������û��������ľ�������</li>
<li><a href="http://www.bigdatahd.com/" target="_blank" rel="noopener">�������մ����ݽ���ƽ̨</a>-�������մ����ݽ������ģ����BDEX������ʵʩ�����Ҵ�����ս�ԡ��󱳾��£���������׼�Ļ��������׸����ȵĿ����򡢱�׼����Ȩ����ʡ�����д������ʲ���������ͨƽ̨��2015��11�³����ڹ��Ҽ������ݲ�ҵ���ء��������γǴ����ݲ�ҵ԰���е����ƽ���ʡ����������ֵ������ͨ�������ݲ�ҵ��չ֮���Ρ�</li>
<li><a href="http://www.hrbdataex.com/" target="_blank" rel="noopener">���������ݽ�������</a>-���������ݽ��������ɺ�����ʡ�����칫����֯����Э��ʡ���ڰ졢ʡ����ί��ʡ����ί�Ȳ�����׼�������������������Դ����ҵ������Դ�������Ϊ���㶫��ʡ������ȫ���Ĵ����ݽ����г�������Χ�����ݵ���̬ϵͳ֧��ƽ̨��</li>
<li><a href="https://www.chinadep.com/index.html" target="_blank" rel="noopener">�Ϻ����ݽ�������</a>-�Ϻ����ݽ����������޹�˾����ơ��Ϻ����ݽ������ġ������Ǿ��Ϻ�������������׼���Ϻ��о��ú���Ϣ��ί���Ϻ�������ί�������������Ĺ��пعɻ����������ҵ���Ϻ����ݽ������ĳе��Ŵٽ���ҵ������ͨ��������Ļ������������ݻ�����������������ҵ�����ں�Ӧ�õȹ���ְ�ܡ�</li>
<li><a href="http://www.miit.gov.cn/n1146312/index.html" target="_blank" rel="noopener">�й���������</a></li>
<li><a href="http://www.ccbde.cn/" target="_blank" rel="noopener">���д����ݽ�����</a>-���д����ݽ������Ǿ�����ʡ������׼���ɱ������������ɷݹ�˾��3��IT��ҵע��1��Ԫ������ȫ���׸������򡢱�׼�����ۺ��ԵĴ����ݽ���ƽ̨��</li>
<li><a href="http://www.crazyapi.org" target="_blank" rel="noopener">��������ݽ����г�</a>-��������ݽ����г����ɱ����������ź���������ݽ����г���ͬ���ʳ����ġ������ڽ�����������ݽ����г���</li>
<li><a href="http://www.zjdex.com/" target="_blank" rel="noopener">�㽭�����ݽ�������</a>-�㽭�����ݽ������Ľ���ѭ���пعɡ�����ָ�����г�����Ӫ��ָ�����룬�����ڴ�����й����������š��͹ۡ�������ȫ�����������ݽ������ġ�<h4 id="��ҵƽ̨"><a href="#��ҵƽ̨" class="headerlink" title="��ҵƽ̨"></a>��ҵƽ̨</h4></li>
<li><a href="https://wx.jdcloud.com/" target="_blank" rel="noopener">��������</a>-�����ݿ��š����ݹ��������ݷ���Ϊ���ĵ��ۺ������ݿ���ƽ̨��ӵ�е�����������Ҫ�������ڡ����š����̡��ʼ졢���ء���Ӫ�����ݡ�</li>
<li><a href="https://www.juhe.cn/" target="_blank" rel="noopener">�ۺ�����</a>-������רҵ���ݿƼ������̡���Ҫ�ṩ���ֺ��ķ�����API���ݽӿڵ���ʽ���ṩ���ݷ����Դ����ݼ������ṩ����Ӧ�÷���</li>
<li><a href="https://www.chinadatapay.com/" target="_blank" rel="noopener">���ݱ�</a>-�й����ȵĹ��������ʲ���ֵ��Ӫ�����̣��ṩ ��������Ӫ�̡���������ͨ����������ҵ��˰����������ݡ�</li>
<li><a href="https://cloud.baidu.com/market/list/125" target="_blank" rel="noopener">�ٶ����������г�</a>-�ɰٶ������ƽ������Ƽ�����������Ʒ�Ľ����뽻��ƽ̨����������ƷƷ�࣬�������񻷾�����վ�ƹ㡢��ҵӦ�á��˹����ܡ��������ܡ����������������ˡ��������ߡ���ȫ�������Ʒ���API����ȣ���Ʒ������ǧ�֡�</li>
<li><a href="http://datasl.com/" target="_blank" rel="noopener">����</a>-�������������ͨƽ̨����������Դ�ʹ����ݼ���Ӧ�ò�Ʒ���н��ף�֧��API�ӿڡ����ݰ����ء����ƵȽ���ģʽ��</li>
<li><a href="https://www.avatardata.cn/Docs" target="_blank" rel="noopener">����������</a>-API���ݽӿ��Ʒ���רע�����ݵĲɼ����������������ӵ��106���������ࡣ</li>
<li><a href="http://www.haoservice.com/" target="_blank" rel="noopener">HaoService</a>-���ݻ�������ƽ̨���ṩ30�������ϻ�������API��������Դ�뽻�׷���</li>
<li><a href="http://www.finndy.com/" target="_blank" rel="noopener">��Դ��</a>-������Ӧ��ƽ̨�ʹ����ݽ�������ṩ�̡��ṩ���ݽ��׷���Ŀǰ�ܹ�ӵ��20246������Դ��</li>
<li><a href="https://www.idataapi.com/" target="_blank" rel="noopener">IDataAPI</a>-���ݷ����ṩ�̣����Ƴ�1300�������ݲ�Ʒ��50�������ݷ�����Ʒ������30000����վƽ̨��ȫ���ƶ�APPƽ̨��</li>
<li><a href="https://www.tdata.cn/" target="_blank" rel="noopener">��Ԫ����</a>-�й����ȵ��Ƽ��㡢�����ݷ����̡�������Ʒ�������������ۡ����������ҵ���ݡ�ũҵ����Դ�ܻ���10���ࡣ�ṩ17��API�ӿڡ�165�����ݼ���56�����ݱ��桢278�������������ݡ�</li>
<li><a href="http://www.zybigdatae.cn/" target="_blank" rel="noopener">��ԭ�����ݽ���</a>-������Դ�ṩ�̡������ʲ���Ӫ�̺����ݽ��׷����̣���ͻ��ṩ������ȫ��ҵ��ƽ̨�뼼�������ṩ223��API�ӿڡ�177�����ݼ���89�����ݱ��桢2������Ӧ�á�</li>
<li><a href="http://www.envicloud.cn/home?title=0" target="_blank" rel="noopener">������</a>-���������ݿ���ƽ̨��ӵ��3702��ע���û�����¼1,041��098��354���������ݣ��Ի��ֶһ�������������ַ�ʽ�ṩ���ݷ���</li>
<li><a href="https://www.tianyancha.com/vipintro/?jsid=SEM-BAIDU-PZ1907-SY-000100" target="_blank" rel="noopener">���۲�</a>-���۲���¼��1.8��+�����ʵ����Ϣ������ҵ����ҵ��λ������ᡢѧУ�������ȣ���90����ά����Ϣȫ��ʵʱ���¡�</li>
<li><a href="https://www.qichacha.com/" target="_blank" rel="noopener">����</a>-�ṩ��ҵ������Ϣ����Ժ�о���Ϣ��������ҵ��Ϣ���������ϡ�ʧ����Ϣ����ִ������Ϣ��֪ʶ��Ȩ��Ϣ����˾���š���ҵ�걨����ҵ���ݽ��׷��񣬸���ȫ��1.8�ڼ���ҵ��Ϣ��</li>
<li><a href="http://www.qtbigdata.com/index.html" target="_blank" rel="noopener">����Ǯ�������ݽ�������</a>-����Ǯ�������ݽ����������޹�˾����ơ�Ǯ�����ݡ���������2015��ף��ǹ���һ�ҹ�ҵ������Ӧ�úͽ���ƽ̨��</li>
<li><a href="http://www.shuhaidata.com/" target="_blank" rel="noopener">�йش����������ݽ���ƽ̨</a>-ȫ����һ�����ݽ���ƽ̨���ƶ����ݵ���ͨ���������ݵ���Ʒ���ԣ��ٳ����ݽ��������ϣ����������������ݲ�ҵ���١�</li>
<li><a href="http://mx.tipdm.org/" target="_blank" rel="noopener">�������ھ�ģ�ͽ���ƽ̨</a>-ģ���㷨����ƽ̨������������ģ���ݣ�ģ��ʵ�ֹ���˵����Դ���롣</li>
<li><a href="https://www.apix.cn/services/category" target="_blank" rel="noopener">APIX</a>-APIX�Ǻڸ�Ƽ����µ�һ��SaaS�Ʒ����Ʒ��רעΪ�����ṩʵʱ�����û����ݷ������������������������ݽ������</li>
<li><a href="https://zhuashou.net/" target="_blank" rel="noopener">ץ������</a>-�����������ײ㼼�������������ݲ�Ʒ���������ݽ�����̬ȦΪ��ҪĿ�꣬�ٽ����ݵĿ��Ź��������ݼ�ֵ���ͷš�</li>
<li><a href="http://d.askci.com/" target="_blank" rel="noopener">ǧ����</a>-ȫ�����������ƽ̨</li>
<li><a href="http://www.chinadatastore.cn/index.html" target="_blank" rel="noopener">�й������̳�</a>-�й����ȵĴ����ݽ���ƽ̨</li>
<li><a href="http://www.chn-source.com/" target="_blank" rel="noopener">�й�����������</a>-����������RBD=ƽ̨��Ӫ��+���ݹ�Ӧ��</li>
<li><a href="http://www.bdgstore.cn/" target="_blank" rel="noopener">�����Ǻ�</a>-��ȫ���׿�����ݲ�ҵ����̬ƽ̨�����ڹ��������Ĵ�������̬�����з�������Ƚ��Ĵ������ʲ���Ӫ������ȫ���ǧ�Ҵ����ݹ�˾ ��</li>
<li><a href="https://www.datatang.com/index" target="_blank" rel="noopener">������</a>-�����ã��������Ƽ��ɷ����޹�˾��ʽ������2011��6�£���һ��רע�������ۺ����ݷ���Ĺ�˾�� �����ÿͻ������ٶȣ���Ѷ������Ͱ͡��滢360�����롢�ƴ�Ѷ�ɵȹ��ڶ����������͸߿Ƽ���ҵ��Microsoft��NEC��Canon��Intel��Samsung��Nuance��Fujitsu�ȹ�����ҵ���ڻ��з�������</li>
<li><a href="http://apistore.baidu.com" target="_blank" rel="noopener">�ٶ�APIStore</a>-�ٶ����²�Ʒ��APIStore��Ϊ�������ṩ��ȫ���API���񣬻㼯�˹�����Ӧ�ÿ��������Android/IOS API ��SDK,�漰����ƿ�������ά�������Ʒ���app�ƹ㣬���ݷ����5������ķ�������־���򿪷����ṩ��ȫ�棬���ݵ�API��������</li>
</ul>
]]></content>
      <categories>
        <category>GIS</category>
      </categories>
      <tags>
        <tag>GIS</tag>
        <tag>RS</tag>
        <tag>Data</tag>
      </tags>
  </entry>
  <entry>
    <title>空间分析课程</title>
    <url>/d1020e4c/</url>
    <content><![CDATA[<blockquote class="blockquote-center"><p> Everything is related to everything else, but near things are more related than distant things.<br>—— <a href="https://pdfs.semanticscholar.org/eaa5/eefedd4fa34b7de7448c0c8e0822e9fdf956.pdf" target="_blank" rel="noopener">Waldo Tobler, 1970</a></p>
</blockquote>

<h2 id="空间分析的知识树体系"><a href="#空间分析的知识树体系" class="headerlink" title="空间分析的知识树体系"></a>空间分析的知识树体系</h2><p><img src="/images/%E7%A9%BA%E9%97%B4%E5%88%86%E6%9E%90.png" alt="alt"></p>
<h2 id="教学视频："><a href="#教学视频：" class="headerlink" title="教学视频："></a>教学视频：</h2><ul>
<li><a href=""></a> - <h2 id="教学案例："><a href="#教学案例：" class="headerlink" title="教学案例："></a>教学案例：</h2></li>
<li><a href=""></a> - <h2 id="参考教材："><a href="#参考教材：" class="headerlink" title="参考教材："></a>参考教材：</h2></li>
<li><a href="http://www.spatialanalysisonline.com/" target="_blank" rel="noopener">Geospatial Analysis</a> - A comprehensive guide - 6th edition, 2018 – An extremely comprehensive text by Michael De Smith, Paul Longley and Mike Goodchild;</li>
<li><a href="https://www.e-education.psu.edu/natureofgeoinfo/node/1672" target="_blank" rel="noopener">The Nature of Geographic Information</a> – An open geospatial textbook edited by David DiBiase, hosted by Penn State University;</li>
<li><a href="http://giscommons.org/" target="_blank" rel="noopener">GIS Commons: An Introductory Textbook on Geographic Information Systems</a> - by Michael Schmandt, Sacramento State University; </li>
<li><a href="https://www.esri.com/en-us/news-publications/ebooks" target="_blank" rel="noopener">ERSI E-books</a> - excellent source of free E-books on a wide variety of GIS topics. Covers the application of GIS in a wide range of industry sectors;</li>
<li><a href="https://mgimond.github.io/Spatial/index.html" target="_blank" rel="noopener">Intro to GIS and Spatial Analysis</a> - by Manuel Gimond</li>
<li><a href="https://www.osgeo.cn/catalog/kgis_sa" target="_blank" rel="noopener">GIS原理-空间分析</a> - OSGeo中国</li>
</ul>
<h2 id="课外阅读文献："><a href="#课外阅读文献：" class="headerlink" title="课外阅读文献："></a>课外阅读文献：</h2><ul>
<li><a href="https://www.aeaweb.org/articles?id=10.1257/aer.20190759" target="_blank" rel="noopener">Ambrus A, Field E, Gonzalez R. Loss in the Time of Cholera: Long-run Impact of a Disease Epidemic on the Urban Landscape[J]. American Economic Review, 2020, 110(2): 475-525.</a> - 对伦敦霍乱疫情的新解读</li>
<li><a href="http://www.geores.com.cn/rddl/CN/abstract/abstract46298.shtml" target="_blank" rel="noopener">基于互联网数据的城市社区租金评估及 空间格局制图——以深圳市为例[J]. 热带地理, 2019, 39(2): 188-195.</a> - 基于开放数据进行城市房地产市场研究的例子</li>
<li><a href=""></a> - </li>
</ul>
<h2 id="学生作品："><a href="#学生作品：" class="headerlink" title="学生作品："></a>学生作品：</h2>]]></content>
      <categories>
        <category>GIS</category>
      </categories>
      <tags>
        <tag>GIS</tag>
        <tag>课程</tag>
        <tag>空间分析</tag>
        <tag>ArcGIS</tag>
        <tag>ESRI</tag>
        <tag>Spatial Analysis</tag>
      </tags>
  </entry>
  <entry>
    <title>设计素材汇总</title>
    <url>/d6b5d784/</url>
    <content><![CDATA[<h2 id="图标"><a href="#图标" class="headerlink" title="图标"></a>图标</h2><p>·<a href="https://www.iconfont.cn/" target="_blank" rel="noopener">阿里创意中心</a> - by 马云爸爸</p>
<h2 id="字体"><a href="#字体" class="headerlink" title="字体"></a>字体</h2><h2 id="图片"><a href="#图片" class="headerlink" title="图片"></a>图片</h2><h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3>]]></content>
  </entry>
  <entry>
    <title>空间数据库课程</title>
    <url>/8f2fa946/</url>
    <content><![CDATA[<blockquote class="blockquote-center"><p> Everything is related to everything else, but near things are more related than distant things.<br>—— <a href="https://pdfs.semanticscholar.org/eaa5/eefedd4fa34b7de7448c0c8e0822e9fdf956.pdf" target="_blank" rel="noopener">Waldo Tobler, 1970</a></p>
</blockquote>

<h2 id="空间数据库的知识树体系"><a href="#空间数据库的知识树体系" class="headerlink" title="空间数据库的知识树体系"></a>空间数据库的知识树体系</h2><p><img src="/images/%E7%A9%BA%E9%97%B4%E6%95%B0%E6%8D%AE%E5%BA%93.png" alt="alt"></p>
<h2 id="教学视频："><a href="#教学视频：" class="headerlink" title="教学视频："></a>教学视频：</h2><ul>
<li><a href="https://www.bilibili.com/video/BV1U7411c7wc/" target="_blank" rel="noopener">空间数据库原理与PostGIS的应用</a><h2 id="教学案例："><a href="#教学案例：" class="headerlink" title="教学案例："></a>教学案例：</h2></li>
</ul>
<h2 id="参考教材："><a href="#参考教材：" class="headerlink" title="参考教材："></a>参考教材：</h2><ul>
<li>崔铁军 编著，《地理空间数据库原理（第二版）》，科学出版社</li>
<li><a href="https://postgis.net/workshops/postgis-intro/" target="_blank" rel="noopener">PostGIS官方在线教程</a></li>
<li><a href="https://learn.crunchydata.com/postgis" target="_blank" rel="noopener">PostGIS互动式教学</a> - </li>
<li><a href="https://www.osgeo.cn/gis_tutorial/index.html" target="_blank" rel="noopener">开源GIS教材</a> - </li>
<li><a href="https://malagis.com/the-spatial-database-course-summary.html" target="_blank" rel="noopener">麻辣GIS</a> - </li>
</ul>
<h2 id="课外阅读文献："><a href="#课外阅读文献：" class="headerlink" title="课外阅读文献："></a>课外阅读文献：</h2><h2 id="学生作品："><a href="#学生作品：" class="headerlink" title="学生作品："></a>学生作品：</h2>]]></content>
      <categories>
        <category>GIS</category>
      </categories>
      <tags>
        <tag>GIS</tag>
        <tag>课程</tag>
        <tag>OSGeo</tag>
        <tag>QGIS</tag>
        <tag>PostGIS</tag>
        <tag>GeoDatabase</tag>
        <tag>空间数据库</tag>
        <tag>SQL</tag>
        <tag>PostgreSQL</tag>
      </tags>
  </entry>
  <entry>
    <title>空间数据科学课程</title>
    <url>/12f2bc1/</url>
    <content><![CDATA[<blockquote class="blockquote-center"><p> Everything is related to everything else, but near things are more related than distant things.<br>—— <a href="https://pdfs.semanticscholar.org/eaa5/eefedd4fa34b7de7448c0c8e0822e9fdf956.pdf" target="_blank" rel="noopener">Waldo Tobler, 1970</a></p>
</blockquote>

<h2 id="空间数据科学的知识树体系"><a href="#空间数据科学的知识树体系" class="headerlink" title="空间数据科学的知识树体系"></a>空间数据科学的知识树体系</h2><p><img src="/images/%E7%A9%BA%E9%97%B4%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6.png" alt="alt"></p>
<h2 id="教学视频："><a href="#教学视频：" class="headerlink" title="教学视频："></a>教学视频：</h2><ul>
<li><a href=""></a> - <h2 id="教学案例："><a href="#教学案例：" class="headerlink" title="教学案例："></a>教学案例：</h2></li>
<li><a href="https://www.kaggle.com/c/nyc-taxi-trip-duration/overview" target="_blank" rel="noopener">New York City Taxi Trip Duration</a> - 纽约市的士数据分析比赛</li>
<li><a href=""></a> - <h2 id="参考教材："><a href="#参考教材：" class="headerlink" title="参考教材："></a>参考教材：</h2></li>
<li><a href="https://livebook.manning.com/book/geoprocessing-with-python/" target="_blank" rel="noopener">Garrard C. Geoprocessing with Python. Manning Publications Co., 2016.</a> - Geoprocessing with Python</li>
<li><a href="https://www.osgeo.cn/pygis/index.html" target="_blank" rel="noopener">Python与开源GIS</a> - 中文开源Python GIS开发教材</li>
<li><a href="https://www.osgeo.cn/gis_tutorial/index.html" target="_blank" rel="noopener">开源GIS教材</a> - 中文开源GIS教材</li>
</ul>
<h2 id="课外阅读文献："><a href="#课外阅读文献：" class="headerlink" title="课外阅读文献："></a>课外阅读文献：</h2><h2 id="学科竞赛："><a href="#学科竞赛：" class="headerlink" title="学科竞赛："></a>学科竞赛：</h2><ul>
<li><a href="https://www.kaggle.com/" target="_blank" rel="noopener">Kaggle</a> - 最知名的数据科学竞赛平台，不定时发布竞赛任务，奖金丰厚！还有</li>
</ul>
<p>Python入门教程</p>
<h2 id="学生作品："><a href="#学生作品：" class="headerlink" title="学生作品："></a>学生作品：</h2>]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>GIS</tag>
        <tag>课程</tag>
        <tag>Python</tag>
        <tag>空间数据科学</tag>
        <tag>Data Science</tag>
        <tag>GDAL</tag>
        <tag>OSGeo</tag>
        <tag>空间分析</tag>
      </tags>
  </entry>
  <entry>
    <title>��ͼѧ�γ�</title>
    <url>/1ab3e90d/</url>
    <content><![CDATA[<blockquote class="blockquote-center"><p> Everything is related to everything else, but near things are more related than distant things.<br>���� <a href="https://pdfs.semanticscholar.org/eaa5/eefedd4fa34b7de7448c0c8e0822e9fdf956.pdf" target="_blank" rel="noopener">Waldo Tobler, 1970</a></p>
</blockquote>

<h2 id="��ͼѧ��֪ʶ����ϵ"><a href="#��ͼѧ��֪ʶ����ϵ" class="headerlink" title="��ͼѧ��֪ʶ����ϵ"></a>��ͼѧ��֪ʶ����ϵ</h2><p><img src="/images/%EF%BF%BD%EF%BF%BD%CD%BC%D1%A7.png" alt="alt"></p>
<h2 id="��ѧ��Z��"><a href="#��ѧ��Z��" class="headerlink" title="��ѧ��Ƶ��"></a>��ѧ��Ƶ��</h2><h2 id="��ѧ������"><a href="#��ѧ������" class="headerlink" title="��ѧ������"></a>��ѧ������</h2><h2 id="�ο��̲g�"><a href="#�ο��̲g�" class="headerlink" title="�ο��̲ģ�"></a>�ο��̲ģ�</h2><ul>
<li>����ͼѧ����ף�����人��ѧ�����磬2004��</li>
<li>���±��ͼѧ�̡̳������棬ë����ȣ��ߵȽ��������磬2017��</li>
<li><a href="https://www.osgeo.cn/gis_tutorial/index.html" target="_blank" rel="noopener">��ԴGIS�̲�</a> - </li>
</ul>
<h2 id="�����K�����-�ο����ϣ�"><a href="#�����K�����-�ο����ϣ�" class="headerlink" title="�����Ķ�����/�ο����ϣ�"></a>�����Ķ�����/�ο����ϣ�</h2><ul>
<li><p><a href="https://www.ageeye.cn/" target="_blank" rel="noopener">�����й�</a>-�й���ʷ��ͼ</p>
</li>
<li><p><a href="https://www.davidrumsey.com/" target="_blank" rel="noopener">David Rumsey Map Collection</a>-������ʷ��ͼ</p>
</li>
<li><p><a href="https://www.osgeo.cn/list/ggeneral" target="_blank" rel="noopener">OSGeo�й�</a>-�ִ���ͼ</p>
</li>
<li><p><a href="https://www.webdesignerdepot.com/2009/10/30-superb-examples-of-infographic-maps/" target="_blank" rel="noopener">��ͼ��Ϣͼ</a>-��ͼ��Ϣͼ����</p>
</li>
<li><p><a href="https://www.esri.com/zh-cn/arcgis/products/arcgis-storymaps/stories" target="_blank" rel="noopener">���µ�ͼ</a>-���µ�ͼ����</p>
</li>
<li><p><a href="https://map-projections.net/compare.php?p1=mercator-84&p2=robinson&w=1&sps=1" target="_blank" rel="noopener">Compare Map Projections</a>-��ͬͶӰ�ıȽ�</p>
</li>
<li><p><a href="https://mercator.tass.com/flat-world" target="_blank" rel="noopener">Mercator-It��s a flat, flat world!</a>-ī����ͶӰ���εĽ���ʽʾ��</p>
</li>
</ul>
<h2 id="��ͼ������"><a href="#��ͼ������" class="headerlink" title="��ͼ������"></a>��ͼ������</h2><ul>
<li><a href="http://www.giscontest.com/cn/view-1000-97.aspx" target="_blank" rel="noopener">SuperMap��ͼ��</a>-2019��������</li>
<li><a href="http://contest.esrichina.com.cn/html/jingsaifenzu/dilishejizu/" target="_blank" rel="noopener">ESRI�й�GIS����-���������</a>-</li>
<li><a href="https://www.esri.com/en-us/landing-page/lp/school-competition-2019" target="_blank" rel="noopener">ESRI ������ͼ����</a>-</li>
<li><a href="https://sites.google.com/site/mappingcompetition/home" target="_blank" rel="noopener">Google Map Maker��ͼ����</a>-</li>
</ul>
<h2 id="ѧ����Ʒ��"><a href="#ѧ����Ʒ��" class="headerlink" title="ѧ����Ʒ��"></a>ѧ����Ʒ��</h2>]]></content>
      <categories>
        <category>GIS</category>
      </categories>
      <tags>
        <tag>GIS</tag>
        <tag>QGIS</tag>
        <tag>Cartography</tag>
        <tag>ArcGIS</tag>
        <tag>ESRI</tag>
        <tag>GeoInfographic</tag>
        <tag>�γ�</tag>
        <tag>��ͼѧ</tag>
        <tag>��ͼͶӰ</tag>
        <tag>���</tag>
        <tag>ɫ��</tag>
        <tag>����</tag>
      </tags>
  </entry>
  <entry>
    <title>空间可视化案例</title>
    <url>/1ab3e90d/</url>
    <content><![CDATA[<p>COVID-19 可视化案例 by <a href="https://coronavirus.jhu.edu/map.html" target="_blank" rel="noopener">约翰霍普金斯大学</a></p>
<ul>
<li><a href="https://github.com/CSSEGISandData/COVID-19" target="_blank" rel="noopener">GitHub链接</a></li>
<li><a href="https://www.thelancet.com/journals/laninf/article/PIIS1473-3099(20)30120-1/fulltext" target="_blank" rel="noopener">LANCET论文</a></li>
</ul>
]]></content>
      <categories>
        <category>GIS</category>
      </categories>
      <tags>
        <tag>GIS</tag>
        <tag>课程</tag>
        <tag>地图学</tag>
        <tag>QGIS</tag>
        <tag>Cartography</tag>
        <tag>ArcGIS</tag>
        <tag>ESRI</tag>
        <tag>GeoInfographic</tag>
        <tag>地图投影</tag>
        <tag>设计</tag>
        <tag>色彩</tag>
        <tag>符号</tag>
      </tags>
  </entry>
  <entry>
    <title>nyc taxi</title>
    <url>/e8d21636/</url>
    <content><![CDATA[<figure class="highlight plain"><figcaption><span>setup, include</span></figcaption><table><tr><td class="code"><pre><span class="line">knitr::opts_chunk$set(echo&#x3D;TRUE, error&#x3D;FALSE)</span><br></pre></td></tr></table></figure>

<h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>This is a comprehensive Exploratory Data Analysis for the <a href="https://www.kaggle.com/c/nyc-taxi-trip-duration" target="_blank" rel="noopener">New York City Taxi Trip Duration</a> competition with <a href="http://tidyverse.org/" target="_blank" rel="noopener">tidy R</a> and <a href="http://ggplot2.tidyverse.org/" target="_blank" rel="noopener">ggplot2</a>.</p>
<p><strong>The goal of this playground challenge</strong> is to predict the <em>duration of taxi rides in NYC</em> based on features like trip coordinates or pickup date and time. The <a href="https://www.kaggle.com/c/nyc-taxi-trip-duration/data" target="_blank" rel="noopener">data</a> comes in the shape of 1.5 million training observations (<code>../input/train.csv</code>) and 630k test observation (<code>../input/test.csv</code>). Each row contains one taxi trip.</p>
<p><strong>In this notebook</strong>, we will first study and visualise the original data, engineer new features, and examine potential outliers. Then we add two <strong>external data sets</strong> on the <a href="https://www.kaggle.com/mathijs/weather-data-in-new-york-city-2016" target="_blank" rel="noopener">NYC weather</a> and on the theoretically <a href="https://www.kaggle.com/oscarleo/new-york-city-taxi-with-osrm" target="_blank" rel="noopener">fastest routes</a>. We visualise and analyse the new features within these data sets and their impact on the target <em>trip_duration</em> values. Finally, we will make a brief excursion into viewing this challenge as a <strong>classification problem</strong> and finish this notebook with a <strong>simple XGBoost model</strong> that provides a basic prediction.</p>
<p>I hope that this notebook will help you in getting started with this challenge. There is lots of room for you to develop your own ideas for new features and visualisations. In particular the classification approach and the final model are only a basic starting point for you to improve and optimise them for better performance. As always, any feedback, questions, or constructive criticism are much appreciated.</p>
<p>Originally, this analysis contained a few <strong>hidden figures</strong>, due to the memory/run-time limitations of the Kernels environment at the time. This means that I had to disable a few auxilliary visualisations as the notebook grew towards its final stage. I tried to only remove those plots that didn’t affect the flow of the analysis too much. <em>All</em> of the corresponding code was still contained in this notebook and you can easily recover these hidden plots. Now, with the new and improved Kernel specs those plots are back in the “official” version. (On related matters, the movie <a href="http://www.imdb.com/title/tt4846340/" target="_blank" rel="noopener">hidden figures</a> is a pretty awesome piece of history for maths (and space) geeks like us ;-) )</p>
<p>Finally, I would like to <strong>thank everyone of you</strong> for viewing, upvoting, or commenting on this kernel! I’m still a beginner here on Kaggle and your support means a lot to me :-) . Also, thanks to <a href="https://www.kaggle.com/nockeddown" target="_blank" rel="noopener">NockedDown</a> for suggesting the new updated title pun in the comments! ;-)</p>
<p>Enough talk. Let’s get started:</p>
<h2 id="Load-libraries-and-helper-functions"><a href="#Load-libraries-and-helper-functions" class="headerlink" title="Load libraries and helper functions"></a>Load libraries and helper functions</h2><figure class="highlight plain"><figcaption><span>message </span></figcaption><table><tr><td class="code"><pre><span class="line">library(&#39;ggplot2&#39;) # visualisation</span><br><span class="line">library(&#39;scales&#39;) # visualisation</span><br><span class="line">library(&#39;grid&#39;) # visualisation</span><br><span class="line">library(&#39;RColorBrewer&#39;) # visualisation</span><br><span class="line">library(&#39;corrplot&#39;) # visualisation</span><br><span class="line">library(&#39;alluvial&#39;) # visualisation</span><br><span class="line">library(&#39;dplyr&#39;) # data manipulation</span><br><span class="line">library(&#39;readr&#39;) # input&#x2F;output</span><br><span class="line">library(&#39;data.table&#39;) # data manipulation</span><br><span class="line">library(&#39;tibble&#39;) # data wrangling</span><br><span class="line">library(&#39;tidyr&#39;) # data wrangling</span><br><span class="line">library(&#39;stringr&#39;) # string manipulation</span><br><span class="line">library(&#39;forcats&#39;) # factor manipulation</span><br><span class="line">library(&#39;lubridate&#39;) # date and time</span><br><span class="line">library(&#39;geosphere&#39;) # geospatial locations</span><br><span class="line">library(&#39;leaflet&#39;) # maps</span><br><span class="line">library(&#39;leaflet.extras&#39;) # maps</span><br><span class="line">library(&#39;maps&#39;) # maps</span><br><span class="line">library(&#39;xgboost&#39;) # modelling</span><br><span class="line">library(&#39;caret&#39;) # modelling</span><br></pre></td></tr></table></figure>

<p>We use the <em>multiplot</em> function, courtesy of <a href="http://www.cookbook-r.com/Graphs/Multiple_graphs_on_one_page_(ggplot2)/" target="_blank" rel="noopener">R Cookbooks</a> to create multi-panel plots.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Define multiple plot function</span><br><span class="line">#</span><br><span class="line"># ggplot objects can be passed in ..., or to plotlist (as a list of ggplot objects)</span><br><span class="line"># - cols:   Number of columns in layout</span><br><span class="line"># - layout: A matrix specifying the layout. If present, &#39;cols&#39; is ignored.</span><br><span class="line">#</span><br><span class="line"># If the layout is something like matrix(c(1,2,3,3), nrow&#x3D;2, byrow&#x3D;TRUE),</span><br><span class="line"># then plot 1 will go in the upper left, 2 will go in the upper right, and</span><br><span class="line"># 3 will go all the way across the bottom.</span><br><span class="line">#</span><br><span class="line"></span><br><span class="line">multiplot &lt;- function(..., plotlist&#x3D;NULL, file, cols&#x3D;1, layout&#x3D;NULL) &#123;</span><br><span class="line"></span><br><span class="line">  # Make a list from the ... arguments and plotlist</span><br><span class="line">  plots &lt;- c(list(...), plotlist)</span><br><span class="line"></span><br><span class="line">  numPlots &#x3D; length(plots)</span><br><span class="line"></span><br><span class="line">  # If layout is NULL, then use &#39;cols&#39; to determine layout</span><br><span class="line">  if (is.null(layout)) &#123;</span><br><span class="line">    # Make the panel</span><br><span class="line">    # ncol: Number of columns of plots</span><br><span class="line">    # nrow: Number of rows needed, calculated from # of cols</span><br><span class="line">    layout &lt;- matrix(seq(1, cols * ceiling(numPlots&#x2F;cols)),</span><br><span class="line">                    ncol &#x3D; cols, nrow &#x3D; ceiling(numPlots&#x2F;cols))</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> if (numPlots&#x3D;&#x3D;1) &#123;</span><br><span class="line">    print(plots[[1]])</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    # Set up the page</span><br><span class="line">    grid.newpage()</span><br><span class="line">    pushViewport(viewport(layout &#x3D; grid.layout(nrow(layout), ncol(layout))))</span><br><span class="line"></span><br><span class="line">    # Make each plot, in the correct location</span><br><span class="line">    for (i in 1:numPlots) &#123;</span><br><span class="line">      # Get the i,j matrix positions of the regions that contain this subplot</span><br><span class="line">      matchidx &lt;- as.data.frame(which(layout &#x3D;&#x3D; i, arr.ind &#x3D; TRUE))</span><br><span class="line"></span><br><span class="line">      print(plots[[i]], vp &#x3D; viewport(layout.pos.row &#x3D; matchidx$row,</span><br><span class="line">                                      layout.pos.col &#x3D; matchidx$col))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Load-data"><a href="#Load-data" class="headerlink" title="Load data"></a>Load data</h2><p>We use <em>data.table’s</em> fread function to speed up reading in the data:</p>
<figure class="highlight plain"><figcaption><span>warning</span></figcaption><table><tr><td class="code"><pre><span class="line">train &lt;- as.tibble(fread(&#39;..&#x2F;input&#x2F;nyc-taxi-trip-duration&#x2F;train.csv&#39;))</span><br><span class="line">test &lt;- as.tibble(fread(&#39;..&#x2F;input&#x2F;nyc-taxi-trip-duration&#x2F;test.csv&#39;))</span><br><span class="line">sample_submit &lt;- as.tibble(fread(&#39;..&#x2F;input&#x2F;nyc-taxi-trip-duration&#x2F;sample_submission.csv&#39;))</span><br></pre></td></tr></table></figure>


<h2 id="File-structure-and-content"><a href="#File-structure-and-content" class="headerlink" title="File structure and content"></a>File structure and content</h2><p>Let’s have an overview of the data sets using the <em>summary</em> and <em>glimpse</em> tools. First the training data:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">summary(train)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">glimpse(train)</span><br></pre></td></tr></table></figure>

<p>And then the testing data:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">summary(test)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">glimpse(test)</span><br></pre></td></tr></table></figure>

<p>We find:</p>
<ul>
<li><p><em>vendor_id</em> only takes the values 1 or 2, presumably to differentiate two taxi companies</p>
</li>
<li><p><em>pickup_datetime</em> and (in the training set) <em>dropoff_datetime</em> are combinations of date and time that we will have to re-format into a more useful shape</p>
</li>
<li><p><em>passenger_count</em> takes a median of 1 and a maximum of 9 in both data sets</p>
</li>
<li><p>The <em>pickup/dropoff_longitute/latitute</em> describes the geographical coordinates where the meter was activate/deactivated.</p>
</li>
<li><p><em>store_and_fwd_flag</em> is a flag that indicates whether the trip data was sent immediately to the vendor (“N”) or held in the memory of the taxi because there was no connection to the server (“Y”). Maybe there could be a correlation with certain geographical areas with bad reception?</p>
</li>
<li><p><em>trip_duration:</em> our target feature in the training data is measured in seconds.</p>
</li>
</ul>
<h2 id="Missing-values"><a href="#Missing-values" class="headerlink" title="Missing values"></a>Missing values</h2><p>Knowing about missing values is important because they indicate how much we don’t know about our data. Making inferences based on just a few cases is often unwise. In addition, many modelling procedures break down when missing values are involved and the corresponding rows will either have to be removed completely or the values need to be estimated somehow.</p>
<p>Here, we are in the fortunate position that our data is complete and there are no missing values:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sum(is.na(train))</span><br><span class="line">sum(is.na(test))</span><br></pre></td></tr></table></figure>

<h2 id="Combining-train-and-test"><a href="#Combining-train-and-test" class="headerlink" title="Combining train and test"></a>Combining train and test</h2><p>In preparation for our eventual modelling analysis we combine the <em>train</em> and <em>test</em> data sets into a single one. I find it generally best not to examine the <em>test</em> data too closely, since this bears the risk of overfitting your analysis to this data. However, a few simple consistency checks between the two data sets can be of advantage.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">combine &lt;- bind_rows(train %&gt;% mutate(dset &#x3D; &quot;train&quot;), </span><br><span class="line">                     test %&gt;% mutate(dset &#x3D; &quot;test&quot;,</span><br><span class="line">                                     dropoff_datetime &#x3D; NA,</span><br><span class="line">                                     trip_duration &#x3D; NA))</span><br><span class="line">combine &lt;- combine %&gt;% mutate(dset &#x3D; factor(dset))</span><br></pre></td></tr></table></figure>


<h2 id="Reformating-features"><a href="#Reformating-features" class="headerlink" title="Reformating features"></a>Reformating features</h2><p>For our following analysis, we will turn the data and time from characters into <em>date</em> objects. We also recode <em>vendor_id</em> as a factor. This makes it easier to visualise relationships that involve these features.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">train &lt;- train %&gt;%</span><br><span class="line">  mutate(pickup_datetime &#x3D; ymd_hms(pickup_datetime),</span><br><span class="line">         dropoff_datetime &#x3D; ymd_hms(dropoff_datetime),</span><br><span class="line">         vendor_id &#x3D; factor(vendor_id),</span><br><span class="line">         passenger_count &#x3D; factor(passenger_count))</span><br></pre></td></tr></table></figure>


<h2 id="Consistency-check"><a href="#Consistency-check" class="headerlink" title="Consistency check"></a>Consistency check</h2><p>It is worth checking whether the <em>trip_durations</em> are consistent with the intervals between the <em>pickup_datetime</em> and <em>dropoff_datetime</em>. Presumably the former were directly computed from the latter, but you never know. Below, the <em>check</em> variable shows “TRUE” if the two intervals are not consistent:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">train %&gt;%</span><br><span class="line">  mutate(check &#x3D; abs(int_length(interval(dropoff_datetime,pickup_datetime)) + trip_duration) &gt; 0) %&gt;%</span><br><span class="line">  select(check, pickup_datetime, dropoff_datetime, trip_duration) %&gt;%</span><br><span class="line">  group_by(check) %&gt;%</span><br><span class="line">  count()</span><br></pre></td></tr></table></figure>

<p>And we find that everything fits perfectly.</p>
<h1 id="Individual-feature-visualisations"><a href="#Individual-feature-visualisations" class="headerlink" title="Individual feature visualisations"></a>Individual feature visualisations</h1><p>Visualisations of feature distributions and their relations are key to understanding a data set, and they often open up new lines of inquiry. I always recommend to examine the data from as many different perspectives as possible to notice even subtle trends and correlations.</p>
<p>In this section we will begin by having a look at the distributions of the individual data features.</p>
<p>We start with a map of NYC and overlay a managable number of pickup coordinates to get a general overview of the locations and distances in question. For this visualisation we use the <a href="https://rstudio.github.io/leaflet/" target="_blank" rel="noopener">leaflet</a> package, which includes a variety of cool tools for interactive maps. In this map you can zoom and pan through the pickup locations:</p>
<figure class="highlight plain"><figcaption><span>fig.align </span></figcaption><table><tr><td class="code"><pre><span class="line">set.seed(1234)</span><br><span class="line">foo &lt;- sample_n(train, 8e3)</span><br><span class="line"></span><br><span class="line">leaflet(data &#x3D; foo) %&gt;% addProviderTiles(&quot;Esri.NatGeoWorldMap&quot;) %&gt;%</span><br><span class="line">  addCircleMarkers(~ pickup_longitude, ~pickup_latitude, radius &#x3D; 1,</span><br><span class="line">                   color &#x3D; &quot;blue&quot;, fillOpacity &#x3D; 0.3)</span><br></pre></td></tr></table></figure>

<p>In turns out that almost all of our trips were in fact taking place in Manhattan only. Another notable hot-spot is JFK airport towards the south-east of the city.</p>
<p>The map gives us an idea what some of the our distributions could look like. Let’s start with plotting the target feature <em>trip_duration</em>:</p>
<figure class="highlight plain"><figcaption><span>fig.align </span></figcaption><table><tr><td class="code"><pre><span class="line">train %&gt;%</span><br><span class="line">  ggplot(aes(trip_duration)) +</span><br><span class="line">  geom_histogram(fill &#x3D; &quot;red&quot;, bins &#x3D; 150) +</span><br><span class="line">  scale_x_log10() +</span><br><span class="line">  scale_y_sqrt()</span><br></pre></td></tr></table></figure>

<p>Note the logarithmic x-axis and square-root y-axis.</p>
<p>We find:</p>
<ul>
<li><p>the majority of rides follow a rather smooth distribution that looks almost log-normal with a peak just short of 1000 seconds, i.e. about 17 minutes.</p>
</li>
<li><p>There are several suspiciously short rides with less than 10 seconds duration.</p>
</li>
<li><p>Additionally, there is a strange delta-shaped peak of <em>trip_duration</em> just before the 1e5 seconds mark and even a few way above it:</p>
</li>
</ul>
<figure class="highlight plain"><figcaption><span>warning </span></figcaption><table><tr><td class="code"><pre><span class="line">train %&gt;%</span><br><span class="line">  arrange(desc(trip_duration)) %&gt;%</span><br><span class="line">  select(trip_duration, pickup_datetime, dropoff_datetime, everything()) %&gt;%</span><br><span class="line">  head(10)</span><br></pre></td></tr></table></figure>

<p>Those records would correspond to 24-hour trips and beyond, with a maximum of almost 12 days. I know that rush hour can be bad, but those values are a little unbelievable.</p>
<p>Over the year, the distributions of <em>pickup_datetime</em> and <em>dropoff_datetime</em> look like this:</p>
<figure class="highlight plain"><figcaption><span>fig.align </span></figcaption><table><tr><td class="code"><pre><span class="line">p1 &lt;- train %&gt;%</span><br><span class="line">  ggplot(aes(pickup_datetime)) +</span><br><span class="line">  geom_histogram(fill &#x3D; &quot;red&quot;, bins &#x3D; 120) +</span><br><span class="line">  labs(x &#x3D; &quot;Pickup dates&quot;)</span><br><span class="line"></span><br><span class="line">p2 &lt;- train %&gt;%</span><br><span class="line">  ggplot(aes(dropoff_datetime)) +</span><br><span class="line">  geom_histogram(fill &#x3D; &quot;blue&quot;, bins &#x3D; 120) +</span><br><span class="line">  labs(x &#x3D; &quot;Dropoff dates&quot;)</span><br><span class="line"></span><br><span class="line">layout &lt;- matrix(c(1,2),2,1,byrow&#x3D;FALSE)</span><br><span class="line">multiplot(p1, p2, layout&#x3D;layout)</span><br><span class="line">p1 &lt;- 1; p2 &lt;- 1</span><br></pre></td></tr></table></figure>

<p>Fairly homogeneous, covering half a year between January and July 2016. There is an interesting drop around late January early February:</p>
<figure class="highlight plain"><figcaption><span>eval</span></figcaption><table><tr><td class="code"><pre><span class="line">train %&gt;%</span><br><span class="line">  filter(pickup_datetime &gt; ymd(&quot;2016-01-20&quot;) &amp; pickup_datetime &lt; ymd(&quot;2016-02-10&quot;)) %&gt;%</span><br><span class="line">  ggplot(aes(pickup_datetime)) +</span><br><span class="line">  geom_histogram(fill &#x3D; &quot;red&quot;, bins &#x3D; 120)</span><br></pre></td></tr></table></figure>

<p>That’s winter in NYC, so maybe snow storms or other heavy weather? Events like this should be taken into account, maybe through some handy external data set?</p>
<p>In the plot above we can already see some daily and weekly modulations in the number of trips. Let’s investigate these variations together with the distributions of <em>passenger_count</em> and <em>vendor_id</em> by creating a multi-plot panel with different components:</p>
<figure class="highlight plain"><figcaption><span>fig.align </span></figcaption><table><tr><td class="code"><pre><span class="line">p1 &lt;- train %&gt;%</span><br><span class="line">  group_by(passenger_count) %&gt;%</span><br><span class="line">  count() %&gt;%</span><br><span class="line">  ggplot(aes(passenger_count, n, fill &#x3D; passenger_count)) +</span><br><span class="line">  geom_col() +</span><br><span class="line">  scale_y_sqrt() +</span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;)</span><br><span class="line"></span><br><span class="line">p2 &lt;- train %&gt;%</span><br><span class="line">  ggplot(aes(vendor_id, fill &#x3D; vendor_id)) +</span><br><span class="line">  geom_bar() +</span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;)</span><br><span class="line"></span><br><span class="line">p3 &lt;- train %&gt;%</span><br><span class="line">  ggplot(aes(store_and_fwd_flag)) +</span><br><span class="line">  geom_bar() +</span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;) +</span><br><span class="line">  scale_y_log10()</span><br><span class="line"></span><br><span class="line">p4 &lt;- train %&gt;%</span><br><span class="line">  mutate(wday &#x3D; wday(pickup_datetime, label &#x3D; TRUE)) %&gt;%</span><br><span class="line">  group_by(wday, vendor_id) %&gt;%</span><br><span class="line">  count() %&gt;%</span><br><span class="line">  ggplot(aes(wday, n, colour &#x3D; vendor_id)) +</span><br><span class="line">  geom_point(size &#x3D; 4) +</span><br><span class="line">  labs(x &#x3D; &quot;Day of the week&quot;, y &#x3D; &quot;Total number of pickups&quot;) +</span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;)</span><br><span class="line"></span><br><span class="line">p5 &lt;- train %&gt;%</span><br><span class="line">  mutate(hpick &#x3D; hour(pickup_datetime)) %&gt;%</span><br><span class="line">  group_by(hpick, vendor_id) %&gt;%</span><br><span class="line">  count() %&gt;%</span><br><span class="line">  ggplot(aes(hpick, n, color &#x3D; vendor_id)) +</span><br><span class="line">  geom_point(size &#x3D; 4) +</span><br><span class="line">  labs(x &#x3D; &quot;Hour of the day&quot;, y &#x3D; &quot;Total number of pickups&quot;) +</span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;)</span><br><span class="line"></span><br><span class="line">layout &lt;- matrix(c(1,2,3,4,5,5),3,2,byrow&#x3D;TRUE)</span><br><span class="line">multiplot(p1, p2, p3, p4, p5, layout&#x3D;layout)</span><br><span class="line">p1 &lt;- 1; p2 &lt;- 1; p3 &lt;- 1; p4 &lt;- 1; p5 &lt;- 1</span><br></pre></td></tr></table></figure>

<p>We find:</p>
<ul>
<li>There are a few trips with zero, or seven to nine passengers but they are a rare exception:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">train %&gt;%</span><br><span class="line">  group_by(passenger_count) %&gt;%</span><br><span class="line">  count()</span><br></pre></td></tr></table></figure>

<ul>
<li><p>The vast majority of rides had only a single passenger, with two passengers being the (distant) second most popular option.</p>
</li>
<li><p>Towards larger passenger numbers we are seeing a smooth decline through 3 to 4, until the larger crowds (and larger cars) give us another peak at 5 to 6 passengers.</p>
</li>
<li><p>Vendor 2 has significantly more trips in this data set than vendor 1 (note the logarithmic y-axis). This is true for every day of the week.</p>
</li>
<li><p>We find an interesting pattern with Monday being the quietest day and Friday very busy. This is the same for the two different vendors, with <em>vendor_id == 2</em> showing significantly higher trip numbers.</p>
</li>
<li><p>As one would intuitively expect, there is a strong dip during the early morning hours. There we also see not much difference between the two vendors. We find another dip around 4pm and then the numbers increase towards the evening.</p>
</li>
<li><p>The <em>store_and_fwd_flag</em> values, indicating whether the trip data was sent immediately to the vendor (“N”) or held in the memory of the taxi because there was no connection to the server (“Y”), show that there was almost no storing taking place (note again the logarithmic y-axis):</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">train %&gt;%</span><br><span class="line">  group_by(store_and_fwd_flag) %&gt;%</span><br><span class="line">  count()</span><br></pre></td></tr></table></figure>

<p>These numbers are equivalent to about half a percent of trips not being transmitted immediately.</p>
<p>The trip volume per hour of the day depends somewhat on the month and strongly on the day of the week:</p>
<figure class="highlight plain"><figcaption><span>fig.align </span></figcaption><table><tr><td class="code"><pre><span class="line">p1 &lt;- train %&gt;%</span><br><span class="line">  mutate(hpick &#x3D; hour(pickup_datetime),</span><br><span class="line">         Month &#x3D; factor(month(pickup_datetime, label &#x3D; TRUE))) %&gt;%</span><br><span class="line">  group_by(hpick, Month) %&gt;%</span><br><span class="line">  count() %&gt;%</span><br><span class="line">  ggplot(aes(hpick, n, color &#x3D; Month)) +</span><br><span class="line">  geom_line(size &#x3D; 1.5) +</span><br><span class="line">  labs(x &#x3D; &quot;Hour of the day&quot;, y &#x3D; &quot;count&quot;)</span><br><span class="line"></span><br><span class="line">p2 &lt;- train %&gt;%</span><br><span class="line">  mutate(hpick &#x3D; hour(pickup_datetime),</span><br><span class="line">         wday &#x3D; factor(wday(pickup_datetime, label &#x3D; TRUE))) %&gt;%</span><br><span class="line">  group_by(hpick, wday) %&gt;%</span><br><span class="line">  count() %&gt;%</span><br><span class="line">  ggplot(aes(hpick, n, color &#x3D; wday)) +</span><br><span class="line">  geom_line(size &#x3D; 1.5) +</span><br><span class="line">  labs(x &#x3D; &quot;Hour of the day&quot;, y &#x3D; &quot;count&quot;)</span><br><span class="line"></span><br><span class="line">layout &lt;- matrix(c(1,2),2,1,byrow&#x3D;FALSE)</span><br><span class="line">multiplot(p1, p2, layout&#x3D;layout)</span><br><span class="line">p1 &lt;- 1; p2 &lt;- 1</span><br></pre></td></tr></table></figure>

<p>We find:</p>
<ul>
<li><p>January and June have fewer trips, whereas March and April are busier months. This tendency is observed for both <em>vendor_ids</em>.</p>
</li>
<li><p>The weekend (Sat and Sun, plus Fri to an extend) have higher trip numbers during the early morning ours but lower ones in the morning between 5 and 10, which can most likely be attributed to the contrast between NYC business days and weekend night life. In addition, trip numbers drop on a Sunday evening/night.</p>
</li>
</ul>
<p>Finally, we will look at a simple overview visualisation of the <em>pickup/dropoff</em> latitudes and longitudes:</p>
<figure class="highlight plain"><figcaption><span>fig.align </span></figcaption><table><tr><td class="code"><pre><span class="line">p1 &lt;- train %&gt;%</span><br><span class="line">  filter(pickup_longitude &gt; -74.05 &amp; pickup_longitude &lt; -73.7) %&gt;%</span><br><span class="line">  ggplot(aes(pickup_longitude)) +</span><br><span class="line">  geom_histogram(fill &#x3D; &quot;red&quot;, bins &#x3D; 40)</span><br><span class="line"></span><br><span class="line">p2 &lt;- train %&gt;%</span><br><span class="line">  filter(dropoff_longitude &gt; -74.05 &amp; dropoff_longitude &lt; -73.7) %&gt;%</span><br><span class="line">  ggplot(aes(dropoff_longitude)) +</span><br><span class="line">  geom_histogram(fill &#x3D; &quot;blue&quot;, bins &#x3D; 40)</span><br><span class="line"></span><br><span class="line">p3 &lt;- train %&gt;%</span><br><span class="line">  filter(pickup_latitude &gt; 40.6 &amp; pickup_latitude &lt; 40.9) %&gt;%</span><br><span class="line">  ggplot(aes(pickup_latitude)) +</span><br><span class="line">  geom_histogram(fill &#x3D; &quot;red&quot;, bins &#x3D; 40)</span><br><span class="line"></span><br><span class="line">p4 &lt;- train %&gt;%</span><br><span class="line">  filter(dropoff_latitude &gt; 40.6 &amp; dropoff_latitude &lt; 40.9) %&gt;%</span><br><span class="line">  ggplot(aes(dropoff_latitude)) +</span><br><span class="line">  geom_histogram(fill &#x3D; &quot;blue&quot;, bins &#x3D; 40)</span><br><span class="line"></span><br><span class="line">layout &lt;- matrix(c(1,2,3,4),2,2,byrow&#x3D;FALSE)</span><br><span class="line">multiplot(p1, p2, p3, p4, layout&#x3D;layout)</span><br><span class="line">p1 &lt;- 1; p2 &lt;- 1; p3 &lt;- 1; p4 &lt;- 1</span><br></pre></td></tr></table></figure>

<p>Here we had to constrain the range of latitude and longitude values, because there are a few cases which are way outside the NYC boundaries. The resulting distributions are consistent with the focus on Manhattan that we had already seen on the map. These are the most extreme values from the <em>pickup_latitude</em> feature:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">train %&gt;%</span><br><span class="line">  arrange(pickup_latitude) %&gt;%</span><br><span class="line">  select(pickup_latitude, pickup_longitude) %&gt;%</span><br><span class="line">  head(5)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">train %&gt;%</span><br><span class="line">  arrange(desc(pickup_latitude)) %&gt;%</span><br><span class="line">  select(pickup_latitude, pickup_longitude) %&gt;%</span><br><span class="line">  head(5)</span><br></pre></td></tr></table></figure>

<p>We need to keep the existence of these (rather astonishing) values in mind so that they don’t bias our analysis.</p>
<h1 id="Feature-relations"><a href="#Feature-relations" class="headerlink" title="Feature relations"></a>Feature relations</h1><p>While the previous section looked primarily at the distributions of the individual features, here we will examine in more detail how those features are related to each other and to our target <em>trip_duration</em>.</p>
<h2 id="Pickup-date-time-vs-trip-duration"><a href="#Pickup-date-time-vs-trip-duration" class="headerlink" title="Pickup date/time vs trip_duration"></a>Pickup date/time vs <em>trip_duration</em></h2><p>How does the variation in trip numbers throughout the day and the week affect the average trip duration? Do quieter days and hours lead to faster trips? Here we include the <em>vendor_id</em> as an additional feature. Furthermore, for the hours of the day we add a smoothing layer to indicate the extent of the variation and its uncertainties:</p>
<figure class="highlight plain"><figcaption><span>fig.align </span></figcaption><table><tr><td class="code"><pre><span class="line">p1 &lt;- train %&gt;%</span><br><span class="line">  mutate(wday &#x3D; wday(pickup_datetime, label &#x3D; TRUE)) %&gt;%</span><br><span class="line">  group_by(wday, vendor_id) %&gt;%</span><br><span class="line">  summarise(median_duration &#x3D; median(trip_duration)&#x2F;60) %&gt;%</span><br><span class="line">  ggplot(aes(wday, median_duration, color &#x3D; vendor_id)) +</span><br><span class="line">  geom_point(size &#x3D; 4) +</span><br><span class="line">  labs(x &#x3D; &quot;Day of the week&quot;, y &#x3D; &quot;Median trip duration [min]&quot;)</span><br><span class="line"></span><br><span class="line">p2 &lt;- train %&gt;%</span><br><span class="line">  mutate(hpick &#x3D; hour(pickup_datetime)) %&gt;%</span><br><span class="line">  group_by(hpick, vendor_id) %&gt;%</span><br><span class="line">  summarise(median_duration &#x3D; median(trip_duration)&#x2F;60) %&gt;%</span><br><span class="line">  ggplot(aes(hpick, median_duration, color &#x3D; vendor_id)) +</span><br><span class="line">  geom_smooth(method &#x3D; &quot;loess&quot;, span &#x3D; 1&#x2F;2) +</span><br><span class="line">  geom_point(size &#x3D; 4) +</span><br><span class="line">  labs(x &#x3D; &quot;Hour of the day&quot;, y &#x3D; &quot;Median trip duration [min]&quot;) +</span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;)</span><br><span class="line"></span><br><span class="line">layout &lt;- matrix(c(1,2),2,1,byrow&#x3D;FALSE)</span><br><span class="line">multiplot(p1, p2, layout&#x3D;layout)</span><br><span class="line">p1 &lt;- 1; p2 &lt;- 1</span><br></pre></td></tr></table></figure>

<p>We find:</p>
<ul>
<li><p>There is indeed a similar pattern as for the business of the day of the week. Vendor 2, the one with the more frequent trips, also has consistently higher trip durations than vendor 1. <strong>It will be worth adding the <em>vendor_id</em> feature to a model to test its predictive importance.</strong></p>
</li>
<li><p>Over the course of a typical day we find a peak in the early afternoon and dips around 5-6am and 8pm. <strong>The weekday and hour of a trip appear to be important features for predicting its duration and should be included in a successful model.</strong></p>
</li>
</ul>
<h2 id="Passenger-count-and-Vendor-vs-trip-duration"><a href="#Passenger-count-and-Vendor-vs-trip-duration" class="headerlink" title="Passenger count and Vendor vs trip_duration"></a>Passenger count and Vendor vs <em>trip_duration</em></h2><p>The next question we are asking is whether different numbers of passengers and/or the different vendors are correlated with the duration of the trip. We choose to examine this issue using a series of boxplots for the <em>passenger_counts</em> together with a <em>facet wrap</em> which contrasts the two <em>vendor_ids</em>: </p>
<figure class="highlight plain"><figcaption><span>fig.align </span></figcaption><table><tr><td class="code"><pre><span class="line">train %&gt;%</span><br><span class="line">  ggplot(aes(passenger_count, trip_duration, color &#x3D; passenger_count)) +</span><br><span class="line">  geom_boxplot() +</span><br><span class="line">  scale_y_log10() +</span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;) +</span><br><span class="line">  facet_wrap(~ vendor_id) +</span><br><span class="line">  labs(y &#x3D; &quot;Trip duration [s]&quot;, x &#x3D; &quot;Number of passengers&quot;)</span><br></pre></td></tr></table></figure>

<p>We find:</p>
<ul>
<li><p>Both vendors have short trips without any passengers.</p>
</li>
<li><p>Vendor 1 has all of the trips beyond 24 hours, whereas vendor 2 has all of the (five) trips with more than six passengers and many more trips that approach the 24-hour limit.</p>
</li>
<li><p>Between 1 and 6 passengers the median trip durations are remarkably similar, in particular for vendor 2. There might be differences for vendor 1, but they are small (note the logarithmic y-axis):</p>
</li>
</ul>
<figure class="highlight plain"><figcaption><span>eval</span></figcaption><table><tr><td class="code"><pre><span class="line">train %&gt;%</span><br><span class="line">  ggplot(aes(trip_duration, fill &#x3D; vendor_id)) +</span><br><span class="line">  geom_density(position &#x3D; &quot;stack&quot;) +</span><br><span class="line">  scale_x_log10()</span><br></pre></td></tr></table></figure>

<p>Comparing the densities of the <em>trip_duration</em> distribution for the two vendors we find that the medians are very similar, whereas the means are likely skewed by vendor 2 containing most of the long-duration outliers:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">train %&gt;%</span><br><span class="line">  group_by(vendor_id) %&gt;%</span><br><span class="line">  summarise(mean_duration &#x3D; mean(trip_duration),</span><br><span class="line">            median_duration &#x3D; median(trip_duration))</span><br></pre></td></tr></table></figure>





<h2 id="Store-and-Forward-vs-trip-duration"><a href="#Store-and-Forward-vs-trip-duration" class="headerlink" title="Store and Forward vs trip_duration"></a>Store and Forward vs <em>trip_duration</em></h2><p>The temporary storing of the trip data only occured for Vendor 1:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">train %&gt;%</span><br><span class="line"></span><br><span class="line">  group_by(vendor_id, store_and_fwd_flag) %&gt;%</span><br><span class="line"></span><br><span class="line">  count()</span><br></pre></td></tr></table></figure>





<figure class="highlight plain"><figcaption><span>fig.align </span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">train %&gt;%</span><br><span class="line"></span><br><span class="line">  filter(vendor_id &#x3D;&#x3D; 1) %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(passenger_count, trip_duration, color &#x3D; passenger_count)) +</span><br><span class="line"></span><br><span class="line">  geom_boxplot() +</span><br><span class="line"></span><br><span class="line">  scale_y_log10() +</span><br><span class="line"></span><br><span class="line">  facet_wrap(~ store_and_fwd_flag) +</span><br><span class="line"></span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;) +</span><br><span class="line"></span><br><span class="line">  labs(y &#x3D; &quot;Trip duration [s]&quot;, x &#x3D; &quot;Number of passengers&quot;) +</span><br><span class="line"></span><br><span class="line">  ggtitle(&quot;Store_and_fwd_flag impact&quot;)</span><br></pre></td></tr></table></figure>



<p>We find that there is no overwhelming differences between the stored and non-stored trips. The stored ones might be slightly longer, though, and don’t include any of the suspiciously long trips.</p>
<h1 id="Feature-engineering"><a href="#Feature-engineering" class="headerlink" title="Feature engineering"></a>Feature engineering</h1><p>In this section we build new features from the existing ones, trying to find better predictors for our target variable. I prefer to define all these new features in a single code block below and then study them in the following subsections. This does not correspond to a linear analysis but it makes the notebook more readable and ensures that we don’t miss any stray feature definitions.</p>
<p>The new temporal features (date, month, wday, hour) are derived from the <em>pickup_datetime</em>. We got the JFK and La Guardia airport coordinates from Wikipedia. The <em>blizzard</em> feature is based on the external weather data.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">jfk_coord &lt;- tibble(lon &#x3D; -73.778889, lat &#x3D; 40.639722)</span><br><span class="line"></span><br><span class="line">la_guardia_coord &lt;- tibble(lon &#x3D; -73.872611, lat &#x3D; 40.77725)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">pick_coord &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  select(pickup_longitude, pickup_latitude)</span><br><span class="line"></span><br><span class="line">drop_coord &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  select(dropoff_longitude, dropoff_latitude)</span><br><span class="line"></span><br><span class="line">train$dist &lt;- distCosine(pick_coord, drop_coord)</span><br><span class="line"></span><br><span class="line">train$bearing &#x3D; bearing(pick_coord, drop_coord)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">train$jfk_dist_pick &lt;- distCosine(pick_coord, jfk_coord)</span><br><span class="line"></span><br><span class="line">train$jfk_dist_drop &lt;- distCosine(drop_coord, jfk_coord)</span><br><span class="line"></span><br><span class="line">train$lg_dist_pick &lt;- distCosine(pick_coord, la_guardia_coord)</span><br><span class="line"></span><br><span class="line">train$lg_dist_drop &lt;- distCosine(drop_coord, la_guardia_coord)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">train &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  mutate(speed &#x3D; dist&#x2F;trip_duration*3.6,</span><br><span class="line"></span><br><span class="line">         date &#x3D; date(pickup_datetime),</span><br><span class="line"></span><br><span class="line">         month &#x3D; month(pickup_datetime, label &#x3D; TRUE),</span><br><span class="line"></span><br><span class="line">         wday &#x3D; wday(pickup_datetime, label &#x3D; TRUE),</span><br><span class="line"></span><br><span class="line">         wday &#x3D; fct_relevel(wday, c(&quot;Mon&quot;, &quot;Tues&quot;, &quot;Wed&quot;, &quot;Thurs&quot;, &quot;Fri&quot;, &quot;Sat&quot;, &quot;Sun&quot;)),</span><br><span class="line"></span><br><span class="line">         hour &#x3D; hour(pickup_datetime),</span><br><span class="line"></span><br><span class="line">         work &#x3D; (hour %in% seq(8,18)) &amp; (wday %in% c(&quot;Mon&quot;,&quot;Tues&quot;,&quot;Wed&quot;,&quot;Thurs&quot;,&quot;Fri&quot;)),</span><br><span class="line"></span><br><span class="line">         jfk_trip &#x3D; (jfk_dist_pick &lt; 2e3) | (jfk_dist_drop &lt; 2e3),</span><br><span class="line"></span><br><span class="line">         lg_trip &#x3D; (lg_dist_pick &lt; 2e3) | (lg_dist_drop &lt; 2e3),</span><br><span class="line"></span><br><span class="line">         blizzard &#x3D; !( (date &lt; ymd(&quot;2016-01-22&quot;) | (date &gt; ymd(&quot;2016-01-29&quot;))) )</span><br><span class="line"></span><br><span class="line">         )</span><br></pre></td></tr></table></figure>





<h2 id="Direct-distance-of-the-trip"><a href="#Direct-distance-of-the-trip" class="headerlink" title="Direct distance of the trip"></a>Direct distance of the trip</h2><p>From the coordinates of the pickup and dropoff points we can calculate the direct <em>distance</em> (as the crow flies) between the two points, and compare it to our <em>trip_durations</em>. Since taxis aren’t crows (in most practical scenarios), these values correspond to the minimum possible travel distance. </p>
<p>To compute these distances we are using the <em>distCosine</em> function of the <a href="https://cran.r-project.org/web/packages/geosphere/index.html" target="_blank" rel="noopener">geosphere</a> package for spherical trigonometry. This method gives us the shortest distance between two points on a spherical earth. For the purpose of this localised analysis we choose to ignore ellipsoidal distortion of the earth’s shape. Here are the raw values of distance vs duration (based on a down-sized sample to speed up the kernel).</p>
<figure class="highlight plain"><figcaption><span>fig.align </span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">set.seed(4321)</span><br><span class="line"></span><br><span class="line">train %&gt;%</span><br><span class="line"></span><br><span class="line">  sample_n(5e4) %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(dist, trip_duration)) +</span><br><span class="line"></span><br><span class="line">  geom_point() +</span><br><span class="line"></span><br><span class="line">  scale_x_log10() +</span><br><span class="line"></span><br><span class="line">  scale_y_log10() +</span><br><span class="line"></span><br><span class="line">  labs(x &#x3D; &quot;Direct distance [m]&quot;, y &#x3D; &quot;Trip duration [s]&quot;)</span><br></pre></td></tr></table></figure>



<p>We find:</p>
<ul>
<li>The distance generally increases with increasing <em>trip_duration</em></li>
</ul>
<ul>
<li>Here, the 24-hour trips look even more suspicious and are even more likely to be artefacts in the data.</li>
</ul>
<ul>
<li>In addition, there are number of trips with very short distances, down to 1 metre, but with a large range of apparent <em>trip_durations</em></li>
</ul>
<p>Let’s filter the data a little bit to remove the extreme (and the extremely suspicious) data points, and bin the data into a 2-d histogram. This plot shows that in log-log space the <em>trip_duration</em> is increasing slower than linear for larger <em>dist</em>ance values:</p>
<figure class="highlight plain"><figcaption><span>eval</span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">train %&gt;%</span><br><span class="line"></span><br><span class="line">  filter(trip_duration &lt; 3600 &amp; trip_duration &gt; 120) %&gt;%</span><br><span class="line"></span><br><span class="line">  filter(dist &gt; 100 &amp; dist &lt; 100e3) %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(dist, trip_duration)) +</span><br><span class="line"></span><br><span class="line">  geom_bin2d(bins &#x3D; c(500,500)) +</span><br><span class="line"></span><br><span class="line">  scale_x_log10() +</span><br><span class="line"></span><br><span class="line">  scale_y_log10() +</span><br><span class="line"></span><br><span class="line">  labs(x &#x3D; &quot;Direct distance [m]&quot;, y &#x3D; &quot;Trip duration [s]&quot;)</span><br></pre></td></tr></table></figure>





<h2 id="Travel-speed"><a href="#Travel-speed" class="headerlink" title="Travel speed"></a>Travel speed</h2><p>Distance over time is of course velocity, and by computing the average apparent velocity of our taxis we will have another diagnostic to remove bogus values. Of course, we won’t be able to use <em>speed</em> as a predictor for our model, since it requires knowing the travel time, but it can still be helpful in cleaning up our training data and finding other features with predictive power. This is the <em>speed</em> distribution:</p>
<figure class="highlight plain"><figcaption><span>fig.align </span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">train %&gt;%</span><br><span class="line"></span><br><span class="line">  filter(speed &gt; 2 &amp; speed &lt; 1e2) %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(speed)) +</span><br><span class="line"></span><br><span class="line">  geom_histogram(fill &#x3D; &quot;red&quot;, bins &#x3D; 50) +</span><br><span class="line"></span><br><span class="line">  labs(x &#x3D; &quot;Average speed [km&#x2F;h] (direct distance)&quot;)</span><br></pre></td></tr></table></figure>



<p>Well, after removing the most extreme values this looks way better than I would have expected. An average speed of around 15 km/h sounds probably reasonable for NYC. Everything above 50 km/h certainly requires magical cars (or highway travel). Also keep in mind that this refers to the direct distance and that the real velocity would have been always higher.</p>
<p>In a similar way as the average duration per day and hour we can also investigate the average speed for these time bins:</p>
<figure class="highlight plain"><figcaption><span>fig.align </span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">p1 &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  group_by(wday, vendor_id) %&gt;%</span><br><span class="line"></span><br><span class="line">  summarise(median_speed &#x3D; median(speed)) %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(wday, median_speed, color &#x3D; vendor_id)) +</span><br><span class="line"></span><br><span class="line">  geom_point(size &#x3D; 4) +</span><br><span class="line"></span><br><span class="line">  labs(x &#x3D; &quot;Day of the week&quot;, y &#x3D; &quot;Median speed [km&#x2F;h]&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p2 &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  group_by(hour, vendor_id) %&gt;%</span><br><span class="line"></span><br><span class="line">  summarise(median_speed &#x3D; median(speed)) %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(hour, median_speed, color &#x3D; vendor_id)) +</span><br><span class="line"></span><br><span class="line">  geom_smooth(method &#x3D; &quot;loess&quot;, span &#x3D; 1&#x2F;2) +</span><br><span class="line"></span><br><span class="line">  geom_point(size &#x3D; 4) +</span><br><span class="line"></span><br><span class="line">  labs(x &#x3D; &quot;Hour of the day&quot;, y &#x3D; &quot;Median speed [km&#x2F;h]&quot;) +</span><br><span class="line"></span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p3 &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  group_by(wday, hour) %&gt;%</span><br><span class="line"></span><br><span class="line">  summarise(median_speed &#x3D; median(speed)) %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(hour, wday, fill &#x3D; median_speed)) +</span><br><span class="line"></span><br><span class="line">  geom_tile() +</span><br><span class="line"></span><br><span class="line">  labs(x &#x3D; &quot;Hour of the day&quot;, y &#x3D; &quot;Day of the week&quot;) +</span><br><span class="line"></span><br><span class="line">  scale_fill_distiller(palette &#x3D; &quot;Spectral&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">layout &lt;- matrix(c(1,2,3,3),2,2,byrow&#x3D;TRUE)</span><br><span class="line"></span><br><span class="line">multiplot(p1, p2, p3, layout&#x3D;layout)</span><br><span class="line"></span><br><span class="line">p1 &lt;- 1; p2 &lt;- 1; p3 &lt;- 1</span><br></pre></td></tr></table></figure>



<p>We find:</p>
<ul>
<li>Our taxis appear to be travelling faster on the weekend and on a Monday than during the rest of the week.</li>
</ul>
<ul>
<li>The early morning hours allow for a speedier trip, with everything from 8am to 6pm being similarly slow.</li>
</ul>
<ul>
<li>There are almost no differences between the two vendors.</li>
</ul>
<ul>
<li>The heatmap in the lower panel visualises how these trends combine to create a “low-speed-zone” in the middle of the day and week. <strong>Based on this, we create a new feature <em>work</em>, which we define as 8am-6pm on Mon-Fri.</strong></li>
</ul>
<h2 id="Bearing-direction"><a href="#Bearing-direction" class="headerlink" title="Bearing direction"></a>Bearing direction</h2><p>If the direct <em>distance</em> is the magnitude of the trip vector then the <em>bearing</em> is its (initial) direction. Easily estimated through the <em>geosphere</em> package, it tells us whether our trip started out for instance in the direction of North-West or South-East. Here we visualise the <em>bearing</em> distribution and its relation to <em>trip_duration</em>, direct <em>distance</em>, and <em>speed</em>:</p>
<figure class="highlight plain"><figcaption><span>fig.align </span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">p1 &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  filter(dist &lt; 1e5) %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(bearing)) +</span><br><span class="line"></span><br><span class="line">  geom_histogram(fill &#x3D; &quot;red&quot;, bins &#x3D; 75) +</span><br><span class="line"></span><br><span class="line">  scale_x_continuous(breaks &#x3D; seq(-180, 180, by &#x3D; 45)) +</span><br><span class="line"></span><br><span class="line">  labs(x &#x3D; &quot;Bearing&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p2 &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  filter(dist &lt; 1e5) %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(bearing, dist)) +</span><br><span class="line"></span><br><span class="line">  geom_bin2d(bins &#x3D; c(100,100)) +</span><br><span class="line"></span><br><span class="line">  labs(x &#x3D; &quot;Bearing&quot;, y &#x3D; &quot;Direct distance&quot;) +</span><br><span class="line"></span><br><span class="line">  scale_y_log10() +</span><br><span class="line"></span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;) +</span><br><span class="line"></span><br><span class="line">  coord_polar() +</span><br><span class="line"></span><br><span class="line">  scale_x_continuous(breaks &#x3D; seq(-180, 180, by &#x3D; 45))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p3 &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  filter(trip_duration &lt; 3600*22) %&gt;%</span><br><span class="line"></span><br><span class="line">  filter(dist &lt; 1e5) %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(bearing, trip_duration)) +</span><br><span class="line"></span><br><span class="line">  geom_bin2d(bins &#x3D; c(100,100)) +</span><br><span class="line"></span><br><span class="line">  scale_y_log10() +</span><br><span class="line"></span><br><span class="line">  labs(x &#x3D; &quot;Bearing&quot;, y &#x3D; &quot;Trip duration&quot;) +</span><br><span class="line"></span><br><span class="line">  coord_polar() +</span><br><span class="line"></span><br><span class="line">  scale_x_continuous(breaks &#x3D; seq(-180, 180, by &#x3D; 45))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p4 &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  filter(speed &lt; 75 &amp; dist &lt; 1e5) %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(bearing, speed)) +</span><br><span class="line"></span><br><span class="line">  geom_bin2d(bins &#x3D; c(100,100)) +</span><br><span class="line"></span><br><span class="line">  labs(x &#x3D; &quot;Bearing&quot;, y &#x3D; &quot;Speed&quot;) +</span><br><span class="line"></span><br><span class="line">  coord_polar() +</span><br><span class="line"></span><br><span class="line">  scale_x_continuous(breaks &#x3D; seq(-180, 180, by &#x3D; 45))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">layout &lt;- matrix(c(1,2,3,4),2,2,byrow&#x3D;TRUE)</span><br><span class="line"></span><br><span class="line">multiplot(p1, p2, p3, p4, layout&#x3D;layout)</span><br><span class="line"></span><br><span class="line">p1 &lt;- 1; p2 &lt;- 1; p3 &lt;- 1; p4 &lt;- 1</span><br></pre></td></tr></table></figure>



<p>This is one of the few cases where polar coordinates might be actually helpful. (Ignore the small discontinuities caused by the binning.)</p>
<p>We find:</p>
<ul>
<li>The <em>bearing</em> direction has two prominent peaks around 30 and -150 degrees. Intuitively, those might relate to the orientation of Manhattan. Three or four smaller, less sharp peaks are visible in between those larger peaks.</li>
</ul>
<ul>
<li>The 2-d histograms of <em>distance</em> and <em>trip_duration</em> don’t reveal much structure. There are indications for shorter durations and distances at the two peaks, but those might simply be caused by the larger number of observations in these peaks. Faint clusters towards higher <em>trip_durations</em> might be visible near -60 and 125 degrees <em>bearing</em>.</li>
</ul>
<ul>
<li>The bright “rings” we see in the <em>distance</em> and <em>trip_duration</em> reflect the familiar distribution peaks on the logarithmic scale.</li>
</ul>
<ul>
<li><em>Speed</em>, on the other hand, shows an interestingly clustered structure along the <em>bearing</em> directions. Zones of higher speed can be identified at the aforementioned <em>bearing</em> peaks as well roughly perpendicular to them (most prominently around 125 degrees). It is possible that we are seeing the Manhattan street grid in this data. Note, that here the radial scale is not logarithmic.</li>
</ul>
<h2 id="Airport-distance"><a href="#Airport-distance" class="headerlink" title="Airport distance"></a>Airport distance</h2><p>In our maps (above) and trip paths (below) we noticed that a number of trips began or ended at either of the two NYC airports: JFK and La Guardia. Since airports are usually not in the city centre it is reasonable to assume that the pickup/dropoff distance from the airport could be a useful predictor for longer <em>trip_durations</em>. Above, we defined the coordinates of the two airports and compute the corresponding distances:</p>
<figure class="highlight plain"><figcaption><span>eval</span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">p1 &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(jfk_dist_pick)) +</span><br><span class="line"></span><br><span class="line">  geom_histogram(bins &#x3D; 30, fill &#x3D; &quot;red&quot;) +</span><br><span class="line"></span><br><span class="line">  scale_x_log10() +</span><br><span class="line"></span><br><span class="line">  scale_y_sqrt() +</span><br><span class="line"></span><br><span class="line">  geom_vline(xintercept &#x3D; 2e3) +</span><br><span class="line"></span><br><span class="line">  labs(x &#x3D; &quot;JFK pickup distance&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p2 &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(jfk_dist_drop)) +</span><br><span class="line"></span><br><span class="line">  geom_histogram(bins &#x3D; 30, fill &#x3D; &quot;blue&quot;) +</span><br><span class="line"></span><br><span class="line">  scale_x_log10() +</span><br><span class="line"></span><br><span class="line">  scale_y_sqrt() +</span><br><span class="line"></span><br><span class="line">  geom_vline(xintercept &#x3D; 2e3) +</span><br><span class="line"></span><br><span class="line">  labs(x &#x3D; &quot;JFK dropoff distance&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p3 &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(lg_dist_pick)) +</span><br><span class="line"></span><br><span class="line">  geom_histogram(bins &#x3D; 30, fill &#x3D; &quot;red&quot;) +</span><br><span class="line"></span><br><span class="line">  scale_x_log10() +</span><br><span class="line"></span><br><span class="line">  scale_y_sqrt() +</span><br><span class="line"></span><br><span class="line">  geom_vline(xintercept &#x3D; 2e3) +</span><br><span class="line"></span><br><span class="line">  labs(x &#x3D; &quot;La Guardia pickup distance&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p4 &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(lg_dist_drop)) +</span><br><span class="line"></span><br><span class="line">  geom_histogram(bins &#x3D; 30, fill &#x3D; &quot;blue&quot;) +</span><br><span class="line"></span><br><span class="line">  scale_x_log10() +</span><br><span class="line"></span><br><span class="line">  scale_y_sqrt() +</span><br><span class="line"></span><br><span class="line">  geom_vline(xintercept &#x3D; 2e3) +</span><br><span class="line"></span><br><span class="line">  labs(x &#x3D; &quot;La Guardia dropoff distance&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">layout &lt;- matrix(c(1,2,3,4),2,2,byrow&#x3D;FALSE)</span><br><span class="line"></span><br><span class="line">multiplot(p1, p2, p3, p4, layout&#x3D;layout)</span><br><span class="line"></span><br><span class="line">p1 &lt;- 1; p2 &lt;- 1; p3 &lt;- 1; p4 &lt;- 1; p5 &lt;- 1</span><br></pre></td></tr></table></figure>





<p>Based on these numbers, we can define a JFK/La Guardia trip as having a pickup or dropoff distance of less than 2 km from the corresponding airport.</p>
<p>What are the <em>trip_durations</em> of these journeys?</p>
<figure class="highlight plain"><figcaption><span>fig.align </span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">p1 &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  filter(trip_duration &lt; 23*3600) %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(jfk_trip, trip_duration, color &#x3D; jfk_trip)) +</span><br><span class="line"></span><br><span class="line">  geom_boxplot() +</span><br><span class="line"></span><br><span class="line">  scale_y_log10() +</span><br><span class="line"></span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;) +</span><br><span class="line"></span><br><span class="line">  labs(x &#x3D; &quot;JFK trip&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p2 &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  filter(trip_duration &lt; 23*3600) %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(lg_trip, trip_duration, color &#x3D; lg_trip)) +</span><br><span class="line"></span><br><span class="line">  geom_boxplot() +</span><br><span class="line"></span><br><span class="line">  scale_y_log10() +</span><br><span class="line"></span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;) +</span><br><span class="line"></span><br><span class="line">  labs(x &#x3D; &quot;La Guardia trip&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">layout &lt;- matrix(c(1,2),1,2,byrow&#x3D;FALSE)</span><br><span class="line"></span><br><span class="line">multiplot(p1, p2, layout&#x3D;layout)</span><br><span class="line"></span><br><span class="line">p1 &lt;- 1; p2 &lt;- 1</span><br></pre></td></tr></table></figure>



<p>We find that our hypothesis was correct and that trips to the airport, in particular the more distant JFK, have significantly longer average <em>trip_durations</em>. <strong>These two features should definitely be part of our model.</strong></p>
<h1 id="Data-cleaning"><a href="#Data-cleaning" class="headerlink" title="Data cleaning"></a>Data cleaning</h1><p>Before we turn to the modelling it is time to clean up our training data. We have waited to do this until now to have a more complete overview of the problematic observations. The aim here is to remove trips that have improbable features, such as extreme trip durations or very low average speed.</p>
<p>While there might also be a number of bogus trip durations in the test data we shouldn’t be able to predict them in any case (unless there were some real correlations). By removing these training data values we will make our model more robust and more likely to generalise to unseen data, which is always our primary goal in machine learning.</p>
<h2 id="Extreme-trip-durations"><a href="#Extreme-trip-durations" class="headerlink" title="Extreme trip durations"></a>Extreme trip durations</h2><p>Let’s visualise the distances of the trips that took a day or longer. Unless someone took a taxi from NYC to LA it is unlikely that those values are accurate. Here we make use of the <em>maps</em> package to draw an outline of Manhattan, where most of the trips begin or end. We then overlay the pickup coordinates in red, and the dropoff coordinates in blue.</p>
<p>To further add the trip connections (direct distance) we use another handy tool from the <em>geosphere</em> package: <em>gcIntermediate</em> allows us to interpolate the path between two sets of coordinates. I’ve seen this tool first in action in this <a href="https://www.kaggle.com/jonathanbouchet/u-s-commercial-flights-tracker-map/" target="_blank" rel="noopener">truly outstanding kernel</a> by <a href="https://www.kaggle.com/jonathanbouchet" target="_blank" rel="noopener">Jonathan Bouchet</a>. (If you haven’t seen his kernel, then I strongly recommend you check it out; right after reading this one, of course ;-) ).</p>
<h3 id="Longer-than-a-day"><a href="#Longer-than-a-day" class="headerlink" title="Longer than a day"></a>Longer than a day</h3><p>We start with the few trips that pretend to have taken several days to complete:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">day_plus_trips &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  filter(trip_duration &gt; 24*3600)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">day_plus_trips %&gt;% select(pickup_datetime, dropoff_datetime, speed)</span><br></pre></td></tr></table></figure>





<figure class="highlight plain"><figcaption><span>fig.align </span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">ny_map &lt;- as.tibble(map_data(&quot;state&quot;, region &#x3D; &quot;new york:manhattan&quot;))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tpick &lt;- day_plus_trips %&gt;%</span><br><span class="line"></span><br><span class="line">  select(lon &#x3D; pickup_longitude, lat &#x3D; pickup_latitude)</span><br><span class="line"></span><br><span class="line">tdrop &lt;- day_plus_trips %&gt;%</span><br><span class="line"></span><br><span class="line">  select(lon &#x3D; dropoff_longitude, lat &#x3D; dropoff_latitude)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p1 &lt;- ggplot() +</span><br><span class="line"></span><br><span class="line">  geom_polygon(data&#x3D;ny_map, aes(x&#x3D;long, y&#x3D;lat), fill &#x3D; &quot;grey60&quot;) +</span><br><span class="line"></span><br><span class="line">  geom_point(data&#x3D;tpick,aes(x&#x3D;lon,y&#x3D;lat),size&#x3D;1,color&#x3D;&#39;red&#39;,alpha&#x3D;1) +</span><br><span class="line"></span><br><span class="line">  geom_point(data&#x3D;tdrop,aes(x&#x3D;lon,y&#x3D;lat),size&#x3D;1,color&#x3D;&#39;blue&#39;,alpha&#x3D;1)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">for (i in seq(1,nrow(tpick)))&#123;</span><br><span class="line"></span><br><span class="line">  inter &lt;- as.tibble(gcIntermediate(tpick[i,],  tdrop[i,], n&#x3D;30, addStartEnd&#x3D;TRUE))</span><br><span class="line"></span><br><span class="line">  p1 &lt;- p1 +  geom_line(data&#x3D;inter,aes(x&#x3D;lon,y&#x3D;lat),color&#x3D;&#39;blue&#39;,alpha&#x3D;.75)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p1 + ggtitle(&quot;Longer than a day trips in relation to Manhattan&quot;)</span><br><span class="line"></span><br><span class="line">p1 &lt;- 1</span><br></pre></td></tr></table></figure>



<p>We find nothing out of the ordinary here. While a trip to JFK can seem like an eternity if your flight is boarding soon, it is unlikely to take this long in real time. The average taxi speeds don’t look very likely either. </p>
<p><strong>Decision:</strong> These values should be removed from the training data set for continued exploration and modelling.</p>
<h3 id="Close-to-24-hours"><a href="#Close-to-24-hours" class="headerlink" title="Close to 24 hours"></a>Close to 24 hours</h3><p>Call me crazy, but I don’t think it is inconceivable that someone takes a taxi for a trip that lasts almost a day (with breaks, of course). In very rare occasions this might happen; provided, of course, that the distance travelled was sufficiently long.</p>
<p>Here we define day-long trips as taking between 22 and 24 hours, which covers a small peak in our raw <em>trip_duration</em> distribution. Those are the top 5 direct distances (in m) among the day-long trips:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">day_trips &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  filter(trip_duration &lt; 24*3600 &amp; trip_duration &gt; 22*3600)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">day_trips %&gt;% </span><br><span class="line"></span><br><span class="line">  arrange(desc(dist)) %&gt;%</span><br><span class="line"></span><br><span class="line">  select(dist, pickup_datetime, dropoff_datetime, speed) %&gt;%</span><br><span class="line"></span><br><span class="line">  head(5)</span><br></pre></td></tr></table></figure>



<p>The top one is about 60 km (about 37 miles), which is not particularly far. The average speed wouldn’t suggest a generous tip, either. What do these trips look like on the map?</p>
<figure class="highlight plain"><figcaption><span>fig.align </span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">ny_map &lt;- as.tibble(map_data(&quot;state&quot;, region &#x3D; &quot;new york:manhattan&quot;))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">set.seed(2017)</span><br><span class="line"></span><br><span class="line">day_trips &lt;- day_trips %&gt;%</span><br><span class="line"></span><br><span class="line">  sample_n(200)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tpick &lt;- day_trips %&gt;%</span><br><span class="line"></span><br><span class="line">  select(lon &#x3D; pickup_longitude, lat &#x3D; pickup_latitude)</span><br><span class="line"></span><br><span class="line">tdrop &lt;- day_trips %&gt;%</span><br><span class="line"></span><br><span class="line">  select(lon &#x3D; dropoff_longitude, lat &#x3D; dropoff_latitude)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p1 &lt;- ggplot() +</span><br><span class="line"></span><br><span class="line">  geom_polygon(data&#x3D;ny_map, aes(x&#x3D;long, y&#x3D;lat), fill &#x3D; &quot;grey60&quot;) +</span><br><span class="line"></span><br><span class="line">  geom_point(data&#x3D;tpick,aes(x&#x3D;lon,y&#x3D;lat),size&#x3D;1,color&#x3D;&#39;red&#39;,alpha&#x3D;1) +</span><br><span class="line"></span><br><span class="line">  geom_point(data&#x3D;tdrop,aes(x&#x3D;lon,y&#x3D;lat),size&#x3D;1,color&#x3D;&#39;blue&#39;,alpha&#x3D;1)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">for (i in seq(1,nrow(tpick)))&#123;</span><br><span class="line"></span><br><span class="line">  inter &lt;- as.tibble(gcIntermediate(tpick[i,],  tdrop[i,], n&#x3D;30, addStartEnd&#x3D;TRUE))</span><br><span class="line"></span><br><span class="line">  p1 &lt;- p1 +  geom_line(data&#x3D;inter,aes(x&#x3D;lon,y&#x3D;lat),color&#x3D;&#39;blue&#39;,alpha&#x3D;.25)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p1 + ggtitle(&quot;Day-long trips in relation to Manhattan&quot;)</span><br><span class="line"></span><br><span class="line">p1 &lt;- 1</span><br></pre></td></tr></table></figure>



<p>Here we are plotting only 200 of the about 1800 connections to keep the map reasonably readable and the script fast. Pickup points are red and dropoff points are blue.</p>
<p>We find:</p>
<ul>
<li>A few longer distances stand out, but they are exceptions. The two major group of trips are those within Manhattan and those between Manhattan and the airports.</li>
</ul>
<ul>
<li>There is little to suggest that these extreme <em>trip_durations</em> were real. </li>
</ul>
<ul>
<li>There is another insight here which is rather intuitive: trips to or from any of the airports (most prominently JFK) are unlikely to be very short. <strong>Thus, the a close distance of either pickup or dropoff to the airport could be a valuable predictor for longer <em>trip_duration</em>.</strong> This is something that we took from here to the feature engineering.</li>
</ul>
<p><strong>Decision:</strong> We will remove <em>trip_durations</em> longer than 22 hours from the exploration and possibly from the modelling.</p>
<h3 id="Shorter-than-a-few-minutes"><a href="#Shorter-than-a-few-minutes" class="headerlink" title="Shorter than a few minutes"></a>Shorter than a few minutes</h3><p>On the other side of the <em>trip_duration</em> distribution we have those rides that appear to only have lasted for a couple of minutes. While such short trips are entirely possible, let’s check their durations and speeds to make sure that they are realistic.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">min_trips &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  filter(trip_duration &lt; 5*60)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">min_trips %&gt;% </span><br><span class="line"></span><br><span class="line">  arrange(dist) %&gt;%</span><br><span class="line"></span><br><span class="line">  select(dist, pickup_datetime, dropoff_datetime, speed) %&gt;%</span><br><span class="line"></span><br><span class="line">  head(5)</span><br></pre></td></tr></table></figure>



<h4 id="Zero-distance-trips"><a href="#Zero-distance-trips" class="headerlink" title="Zero-distance trips"></a>Zero-distance trips</h4><p>In doing so, we notice that there are a relatively large number of zero-distance trips:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">zero_dist &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  filter(near(dist,0))</span><br><span class="line"></span><br><span class="line">nrow(zero_dist)</span><br></pre></td></tr></table></figure>



<p>What are their nominal top durations?</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">zero_dist %&gt;%</span><br><span class="line"></span><br><span class="line">  arrange(desc(trip_duration)) %&gt;%</span><br><span class="line"></span><br><span class="line">  select(trip_duration, pickup_datetime, dropoff_datetime, vendor_id) %&gt;%</span><br><span class="line"></span><br><span class="line">  head(5)</span><br></pre></td></tr></table></figure>



<p>There really are a few taxis where the data wants to tell us that they have not moved at all for about a day. While carrying a passenger. We choose not to believe the data in this case.</p>
<p>Once we remove the extreme cases, this is what the distribution looks like:</p>
<figure class="highlight plain"><figcaption><span>fig.align </span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">zero_dist %&gt;%</span><br><span class="line"></span><br><span class="line">  filter(trip_duration &lt; 6000) %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(trip_duration, fill &#x3D; vendor_id)) +</span><br><span class="line"></span><br><span class="line">  geom_histogram(bins &#x3D; 50) +</span><br><span class="line"></span><br><span class="line">  scale_x_log10()</span><br></pre></td></tr></table></figure>



<p>We find:</p>
<ul>
<li><em>trip_durations</em> of about a minute might still be somehow possible, assuming that someone got into a taxi but then changed their mind before the taxi could move. Whether that should count as a “trip” is a different question. But trip durations of about 15 minutes (900 s) without any distance covered seem hardly possible. Unless they involve traffic jams, but who get’s into a taxi that’s stuck in a traffic jam?</li>
</ul>
<ul>
<li>It is also noteworthy that most trips in the less-than-a-minute-group were from vendor 1, whereas the 10-minute-group predominantly consists of vendor 2 taxis.</li>
</ul>
<p><strong>Decision:</strong> We will remove those zero-distance trips that took more than a minute for our continued analysis. Removing them from the modelling might be detrimental if there are similar trips in the test sample.</p>
<h4 id="Short-trips-with-above-zero-distance"><a href="#Short-trips-with-above-zero-distance" class="headerlink" title="Short trips with above zero distance"></a>Short trips with above zero distance</h4><p>After removing the zero-distance trips, those are the short rides with the highest average speed:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">min_trips &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  filter(trip_duration &lt; 5*60 &amp; dist &gt; 0)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">min_trips %&gt;% </span><br><span class="line"></span><br><span class="line">  arrange(desc(speed)) %&gt;%</span><br><span class="line"></span><br><span class="line">  select(trip_duration, dist, pickup_datetime, speed) %&gt;%</span><br><span class="line"></span><br><span class="line">  head(10)</span><br></pre></td></tr></table></figure>



<p>Clearly, the top speed values are impossible. We include a map plot of the general distribution of distances within the sample:</p>
<figure class="highlight plain"><figcaption><span>eval</span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">ny_map &lt;- as.tibble(map_data(&quot;state&quot;, region &#x3D; &quot;new york:manhattan&quot;))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">set.seed(1234)</span><br><span class="line"></span><br><span class="line">foo &lt;- min_trips %&gt;%</span><br><span class="line"></span><br><span class="line">  sample_n(600)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tpick &lt;- foo %&gt;%</span><br><span class="line"></span><br><span class="line">  select(lon &#x3D; pickup_longitude, lat &#x3D; pickup_latitude)</span><br><span class="line"></span><br><span class="line">tdrop &lt;- foo %&gt;%</span><br><span class="line"></span><br><span class="line">  select(lon &#x3D; dropoff_longitude, lat &#x3D; dropoff_latitude)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p1 &lt;- ggplot() +</span><br><span class="line"></span><br><span class="line">  geom_polygon(data&#x3D;ny_map, aes(x&#x3D;long, y&#x3D;lat), fill &#x3D; &quot;grey60&quot;) +</span><br><span class="line"></span><br><span class="line">  geom_point(data&#x3D;tpick,aes(x&#x3D;lon,y&#x3D;lat),size&#x3D;1,color&#x3D;&#39;red&#39;,alpha&#x3D;1) +</span><br><span class="line"></span><br><span class="line">  geom_point(data&#x3D;tdrop,aes(x&#x3D;lon,y&#x3D;lat),size&#x3D;1,color&#x3D;&#39;blue&#39;,alpha&#x3D;1)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">for (i in seq(1,nrow(tpick)))&#123;</span><br><span class="line"></span><br><span class="line">  inter &lt;- as.tibble(gcIntermediate(tpick[i,],  tdrop[i,], n&#x3D;30, addStartEnd&#x3D;TRUE))</span><br><span class="line"></span><br><span class="line">  p1 &lt;- p1 +  geom_line(data&#x3D;inter,aes(x&#x3D;lon,y&#x3D;lat),color&#x3D;&#39;blue&#39;,alpha&#x3D;.25)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p1 + ggtitle(&quot;Minute-long trips in relation to Manhattan&quot;)</span><br><span class="line"></span><br><span class="line">p1 &lt;- 1</span><br></pre></td></tr></table></figure>



<p>We find (from the hidden plot):</p>
<ul>
<li>Most distances are in fact short, which means that combined with setting an average speed limit we should be able to remove those values that are way beyond being realistic. This should also get rid of many trips that appear to have durations of seconds only.</li>
</ul>
<p><strong>Decision:</strong> We impose a lower <em>trip_duration</em> limit of 10 seconds and a (very conservative) speed limit of 100 km/h (62 mph). (Remember that this refers to the direct distance.)</p>
<h2 id="Intermission-The-best-spurious-trips"><a href="#Intermission-The-best-spurious-trips" class="headerlink" title="Intermission - The best spurious trips"></a>Intermission - The best spurious trips</h2><p>Every data set has a few entries that are just flat out ridiculous. Here are the best ones from this one, with pickup or dropoff locations more than 300 km away from NYC (JFK airport)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">long_dist &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  filter( (jfk_dist_pick &gt; 3e5) | (jfk_dist_drop &gt; 3e5) )</span><br><span class="line"></span><br><span class="line">long_dist_coord &lt;- long_dist %&gt;%</span><br><span class="line"></span><br><span class="line">  select(lon &#x3D; pickup_longitude, lat &#x3D; pickup_latitude)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">long_dist %&gt;%</span><br><span class="line"></span><br><span class="line">  select(id, jfk_dist_pick, jfk_dist_drop, dist, trip_duration, speed) %&gt;%</span><br><span class="line"></span><br><span class="line">  arrange(desc(jfk_dist_pick))</span><br></pre></td></tr></table></figure>



<p>Many zero-distance trips with more than a minute duration, which we would remove anyway. But just out of curiousity, where did they happen? (We will again use the amazing <em>leaflet</em> package, this time with individual markers that give us <em>id</em> and direct <em>distance</em> information for mouse-over and click actions.)</p>
<figure class="highlight plain"><figcaption><span>fig.align </span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">leaflet(long_dist_coord) %&gt;%</span><br><span class="line"></span><br><span class="line">  addTiles() %&gt;%</span><br><span class="line"></span><br><span class="line">  setView(-92.00, 41.0, zoom &#x3D; 4) %&gt;%</span><br><span class="line"></span><br><span class="line">  addProviderTiles(&quot;CartoDB.Positron&quot;) %&gt;%</span><br><span class="line"></span><br><span class="line">  addMarkers(popup &#x3D; ~as.character(long_dist$dist), label &#x3D; ~as.character(long_dist$id))</span><br></pre></td></tr></table></figure>



<p>See what I mean?</p>
<p>Not only are there two(!) lone NYC taxis near San Francisco, but 9 others are actually ocean-going taxis, who knew ;-) . Most of the others will be removed by our previous cleaning limits.</p>
<p><strong>These long-distance locations represent outliers that should be removed to improve the robustness of predictive models.</strong></p>
<h2 id="Final-cleaning"><a href="#Final-cleaning" class="headerlink" title="Final cleaning"></a>Final cleaning</h2><p>Here we apply the cleaning filters that are discussed above. This code block is likely to expand as the analysis progresses.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">train &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  filter(trip_duration &lt; 22*3600,</span><br><span class="line"></span><br><span class="line">         dist &gt; 0 | (near(dist, 0) &amp; trip_duration &lt; 60),</span><br><span class="line"></span><br><span class="line">         jfk_dist_pick &lt; 3e5 &amp; jfk_dist_drop &lt; 3e5,</span><br><span class="line"></span><br><span class="line">         trip_duration &gt; 10,</span><br><span class="line"></span><br><span class="line">         speed &lt; 100)</span><br></pre></td></tr></table></figure>





<h1 id="External-data"><a href="#External-data" class="headerlink" title="External data"></a>External data</h1><p>In this playground competition we have been encouraged to supplement our analysis with additional data sources. These are published as Kaggle data set and are being collected in <a href="https://www.kaggle.com/c/nyc-taxi-trip-duration/discussion/36699" target="_blank" rel="noopener">this discussion thread</a>.</p>
<p>In fact, there are <a href="https://www.kaggle.com/c/nyc-taxi-trip-duration#Prizes" target="_blank" rel="noopener">monetary prizes</a> for publishing the top 4 data sets, which together with the Kernel awards gives this competition a fresh and interesting spin.</p>
<p>If you want to know more about how to include multiple data sources in your Kaggle kernel then check out <a href="https://www.kaggle.com/product-feedback/32423" target="_blank" rel="noopener">this article</a>.</p>
<h2 id="Weather-reports"><a href="#Weather-reports" class="headerlink" title="Weather reports"></a>Weather reports</h2><p>We start by incorporating a list of <em>NYC weather data</em> provided by <a href="https://www.kaggle.com/mathijs" target="_blank" rel="noopener">Mathijs Waegemakers</a> right <a href="https://www.kaggle.com/mathijs/weather-data-in-new-york-city-2016" target="_blank" rel="noopener">here</a>. In the next paragraph I copy the data description verbatim:</p>
<blockquote>
<p>Weather data collected from the National Weather Service. It contains the first six months of 2016, for a weather station in central park. It contains for each day the minimum temperature, maximum temperature, average temperature, precipitation, new snow fall, and current snow depth. The temperature is measured in Fahrenheit and the depth is measured in inches. T means that there is a trace of precipitation.</p>
</blockquote>
<p>Of particular interest here will be the rain and snow fall statistics, which I’m curious to compare to the dip in trip numbers in late January. Check also <a href="https://www.kaggle.com/naveenjafer/weather-and-avg-speed-correlation/" target="_blank" rel="noopener">this kernel</a> which presents an independent analysis of the same data set.</p>
<h3 id="Data-import-overview-formatting-joining"><a href="#Data-import-overview-formatting-joining" class="headerlink" title="Data import, overview, formatting, joining"></a>Data import, overview, formatting, joining</h3><p>The data can be found in the data set sub-directory of the <code>../input</code> directory and it looks like this:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">weather &lt;- as.tibble(fread(&quot;..&#x2F;input&#x2F;weather-data-in-new-york-city-2016&#x2F;weather_data_nyc_centralpark_2016(1).csv&quot;))</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">glimpse(weather)</span><br></pre></td></tr></table></figure>



<p>We turn the <em>date</em> into a <em>lubridate</em> object and convert the traces (“T”) of rain and snow into small numeric amounts. We also save the maximum and minimum temperature in a shorter form:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">weather &lt;- weather %&gt;%</span><br><span class="line"></span><br><span class="line">  mutate(date &#x3D; dmy(date),</span><br><span class="line"></span><br><span class="line">         rain &#x3D; as.numeric(ifelse(precipitation &#x3D;&#x3D; &quot;T&quot;, &quot;0.01&quot;, precipitation)),</span><br><span class="line"></span><br><span class="line">         s_fall &#x3D; as.numeric(ifelse(&#96;snow fall&#96; &#x3D;&#x3D; &quot;T&quot;, &quot;0.01&quot;, &#96;snow fall&#96;)),</span><br><span class="line"></span><br><span class="line">         s_depth &#x3D; as.numeric(ifelse(&#96;snow depth&#96; &#x3D;&#x3D; &quot;T&quot;, &quot;0.01&quot;, &#96;snow depth&#96;)),</span><br><span class="line"></span><br><span class="line">         all_precip &#x3D; s_fall + rain,</span><br><span class="line"></span><br><span class="line">         has_snow &#x3D; (s_fall &gt; 0) | (s_depth &gt; 0),</span><br><span class="line"></span><br><span class="line">         has_rain &#x3D; rain &gt; 0,</span><br><span class="line"></span><br><span class="line">         max_temp &#x3D; &#96;maximum temperature&#96;,</span><br><span class="line"></span><br><span class="line">         min_temp &#x3D; &#96;minimum temperature&#96;)</span><br></pre></td></tr></table></figure>



<p>Then we join this information to our training data using the common <em>data</em> column:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">foo &lt;- weather %&gt;%</span><br><span class="line"></span><br><span class="line">  select(date, rain, s_fall, all_precip, has_snow, has_rain, s_depth, max_temp, min_temp)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">train &lt;- left_join(train, foo, by &#x3D; &quot;date&quot;)</span><br></pre></td></tr></table></figure>





<h3 id="Visualisation-and-impact-on-trip-duration"><a href="#Visualisation-and-impact-on-trip-duration" class="headerlink" title="Visualisation and impact on trip_duration"></a>Visualisation and impact on <em>trip_duration</em></h3><p>Let’s compare the snow fall statistics to our trip numbers per day:</p>
<figure class="highlight plain"><figcaption><span>fig.align </span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">p1 &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  group_by(date) %&gt;%</span><br><span class="line"></span><br><span class="line">  count() %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(date,n&#x2F;1e3)) +</span><br><span class="line"></span><br><span class="line">  geom_line(size &#x3D; 1.5, color &#x3D; &quot;red&quot;) +</span><br><span class="line"></span><br><span class="line">  labs(x &#x3D; &quot;&quot;, y &#x3D; &quot;Kilo trips per day&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p2 &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  group_by(date) %&gt;%</span><br><span class="line"></span><br><span class="line">  summarise(trips &#x3D; n(),</span><br><span class="line"></span><br><span class="line">            snow_fall &#x3D; mean(s_fall),</span><br><span class="line"></span><br><span class="line">            rain_fall &#x3D; mean(rain),</span><br><span class="line"></span><br><span class="line">            all_precip &#x3D; mean(all_precip)) %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(date, snow_fall)) +</span><br><span class="line"></span><br><span class="line">  geom_line(color &#x3D; &quot;blue&quot;, size &#x3D; 1.5) +</span><br><span class="line"></span><br><span class="line">  labs(x &#x3D; &quot;&quot;, y &#x3D; &quot;Snowfall&quot;) +</span><br><span class="line"></span><br><span class="line">  scale_y_sqrt() +</span><br><span class="line"></span><br><span class="line">  scale_x_date(limits &#x3D; ymd(c(&quot;2015-12-28&quot;, &quot;2016-06-30&quot;)))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p3 &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  group_by(date) %&gt;%</span><br><span class="line"></span><br><span class="line">  summarise(trips &#x3D; n(),</span><br><span class="line"></span><br><span class="line">            snow_depth &#x3D; mean(s_depth)) %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(date, snow_depth)) +</span><br><span class="line"></span><br><span class="line">  geom_line(color &#x3D; &quot;purple&quot;, size &#x3D; 1.5) +</span><br><span class="line"></span><br><span class="line">  labs(x &#x3D; &quot;&quot;, y &#x3D; &quot;Snow depth&quot;) +</span><br><span class="line"></span><br><span class="line">  scale_y_sqrt() +</span><br><span class="line"></span><br><span class="line">  scale_x_date(limits &#x3D; ymd(c(&quot;2015-12-29&quot;, &quot;2016-06-30&quot;)))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p4 &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  group_by(date) %&gt;%</span><br><span class="line"></span><br><span class="line">  summarise(median_speed &#x3D; median(speed)) %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(date, median_speed)) +</span><br><span class="line"></span><br><span class="line">  geom_line(color &#x3D; &quot;orange&quot;, size &#x3D; 1.5) +</span><br><span class="line"></span><br><span class="line">  labs(x &#x3D; &quot;Date&quot;, y &#x3D; &quot;Median speed&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">layout &lt;- matrix(c(1,2,3,4),4,1,byrow&#x3D;FALSE)</span><br><span class="line"></span><br><span class="line">multiplot(p1, p2, p3, p4, layout&#x3D;layout)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p1 &lt;- 1; p2 &lt;- 1; p3 &lt;- 1; p4 &lt;- 1</span><br></pre></td></tr></table></figure>



<p>I knew it! The dip in trip volume corresponds to the largest (and first?) snow fall of the winter in NYC (Jan 23rd). In fact, NYC was hit by a blizzard and experienced <a href="https://www.weather.gov/okx/Blizzard_Jan2016" target="_blank" rel="noopener">record-breaking snowfall</a>. The impact on the traffic patterns was enormous, and the median speed slowed down notably. (Note the square-root y-axis in the two middle plots.)</p>
<p>After this large spike, we clearly see that the following periods of snow fall, albeit signficantly less heavy, have nowhere near as large an effect on the number of taxi trips or their velocities. A possible exception might have been the last snow in mid March, which due to the fact that it hadn’t snowed in a while might have caught people by surprise.</p>
<p>Now, do lower numbers of trips in snowy weather also lead to longer journeys? To answer this question we look at a scatter plot between the average trip duration and the total precipitation (rain + snow) for all days in our sample:</p>
<figure class="highlight plain"><figcaption><span>fig.align </span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">train %&gt;%</span><br><span class="line"></span><br><span class="line">  group_by(date, has_snow) %&gt;%</span><br><span class="line"></span><br><span class="line">  summarise(duration &#x3D; mean(trip_duration),</span><br><span class="line"></span><br><span class="line">            all_precip &#x3D; mean(all_precip)) %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(all_precip, duration, color &#x3D; has_snow)) +</span><br><span class="line"></span><br><span class="line">  geom_jitter(width &#x3D; 0.04, size &#x3D; 2) +</span><br><span class="line"></span><br><span class="line">  scale_x_sqrt() +</span><br><span class="line"></span><br><span class="line">  scale_y_log10() +</span><br><span class="line"></span><br><span class="line">  labs(x &#x3D; &quot;Amount of total precipitation&quot;, y &#x3D; &quot;Average trip duration&quot;)</span><br></pre></td></tr></table></figure>





<p>We find that except for a snow day with long-duration trips it seems more like snow would lead to shorter trips. However, this could simply mean that passengers were more likely to travel shorter distances, so how does the average speed compare?</p>
<figure class="highlight plain"><figcaption><span>fig.align </span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">p1 &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  filter(speed &lt; 50) %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(has_snow, speed, color &#x3D; has_snow)) +</span><br><span class="line"></span><br><span class="line">  geom_boxplot() +</span><br><span class="line"></span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;) +</span><br><span class="line"></span><br><span class="line">  labs(x &#x3D; &quot;Snowfall&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p2 &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  filter(speed &lt; 50) %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(has_rain, speed, color &#x3D; has_rain)) +</span><br><span class="line"></span><br><span class="line">  geom_boxplot() +</span><br><span class="line"></span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;) +</span><br><span class="line"></span><br><span class="line">  labs(x &#x3D; &quot;Rainfall&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">layout &lt;- matrix(c(1,2),1,2,byrow&#x3D;FALSE)</span><br><span class="line"></span><br><span class="line">multiplot(p1, p2, layout&#x3D;layout)</span><br><span class="line"></span><br><span class="line">p1 &lt;- 1; p2 &lt;- 1</span><br></pre></td></tr></table></figure>



<p>We find that there is no significant difference here. Moreover, Jan 23rd (blizzard) is not at the top of the list of snow days with the longest median <em>trip_duration</em> (it’s in the top 10, though).</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">train %&gt;%</span><br><span class="line"></span><br><span class="line">  filter(has_snow &#x3D;&#x3D; TRUE) %&gt;%</span><br><span class="line"></span><br><span class="line">  group_by(date) %&gt;%</span><br><span class="line"></span><br><span class="line">  summarise(med_duration &#x3D; median(trip_duration),</span><br><span class="line"></span><br><span class="line">            med_speed &#x3D; median(speed)) %&gt;%</span><br><span class="line"></span><br><span class="line">  arrange(desc(med_duration)) %&gt;%</span><br><span class="line"></span><br><span class="line">  head(10)</span><br></pre></td></tr></table></figure>



<p>We can spot a different interesting pattern in this table, though, when looking at the top 5 slowest snow days. Interestingly, the overall lowest median speeds were observed <em>two days after</em> the blizzard: from Jan 25th until 27th (although note that the day immediately after the blizzard, Jan 24th, was a Sunday):</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">train %&gt;%</span><br><span class="line"></span><br><span class="line">  group_by(date) %&gt;%</span><br><span class="line"></span><br><span class="line">  summarise(med_duration &#x3D; median(trip_duration),</span><br><span class="line"></span><br><span class="line">            med_speed &#x3D; median(speed)) %&gt;%</span><br><span class="line"></span><br><span class="line">  arrange(med_speed) %&gt;%</span><br><span class="line"></span><br><span class="line">  head(5)</span><br></pre></td></tr></table></figure>



<p><strong>Conclusion:</strong> From an exploratory point of view this doesn’t look too promising. Still, I’m inclined to include the rain and snow fall occurence in a tentative model to see whether it shows any interaction terms that we can’t see at the moment. The “blizzard effect” on the (working) week after the heavy snow fall is probably worth taking into account separately. <strong>Thus, we create a <em>blizzard</em> feature in our engineering code block.</strong></p>
<h2 id="Fastest-Routes"><a href="#Fastest-Routes" class="headerlink" title="Fastest Routes"></a>Fastest Routes</h2><p>Another interesting external data set is an estimate of the <em>fastest routes for each trip</em> provided by <a href="https://www.kaggle.com/oscarleo" target="_blank" rel="noopener">oscarleo</a> using the the Open Source Routing Machine, <a href="http://project-osrm.org/" target="_blank" rel="noopener">OSRM</a>. The data can be found <a href="https://www.kaggle.com/oscarleo/new-york-city-taxi-with-osrm" target="_blank" rel="noopener">here</a> and includes the pickup/dropoff streets and total distance/duration between these two points together with a sequence of travels steps such as turns or entering a highway.</p>
<p>Note, that according to <a href="https://www.kaggle.com/c/nyc-taxi-trip-duration/discussion/37033" target="_blank" rel="noopener">discussion items</a> those really are the “fastest”, not the shortest, routes between the two points. This will most likely not account for traffic volume, and the fastest route on one day might not be the fastest on another day of the week. Still, here we have an actual driving distance and duration measure that should be valuable for our prediction goal.</p>
<h3 id="Data-import-and-overview"><a href="#Data-import-and-overview" class="headerlink" title="Data import and overview"></a>Data import and overview</h3><p>The data comes in three separate files, split into the <em>train</em> (2 files) vs <em>test</em> trip IDs. Here, we will load and examine the data corresponding to the training observations. Note, that this data set is more than twice as large as our original training data.</p>
<figure class="highlight plain"><figcaption><span>warning</span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">foo &lt;- as.tibble(fread(&quot;..&#x2F;input&#x2F;new-york-city-taxi-with-osrm&#x2F;fastest_routes_train_part_1.csv&quot;))</span><br><span class="line"></span><br><span class="line">bar &lt;- as.tibble(fread(&quot;..&#x2F;input&#x2F;new-york-city-taxi-with-osrm&#x2F;fastest_routes_train_part_2.csv&quot;))</span><br><span class="line"></span><br><span class="line">foobar &lt;- as.tibble(fread(&quot;..&#x2F;input&#x2F;new-york-city-taxi-with-osrm&#x2F;fastest_routes_test.csv&quot;))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">fastest_route &lt;- bind_rows(foo, bar, foobar)</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">glimpse(fastest_route)</span><br></pre></td></tr></table></figure>



<p>The glimpse view shows us that indeed for each step the streets are named (<em>streets_for_each_step</em>) alongside a detailed account of the <em>distance_per_step</em>, <em>travel_time_per_step</em>, and the <em>step_maneuvers</em> and <em>step_direction</em> describing the journey. The <em>step_maneuvers</em> are named in a pretty self-explanatory way and are also described in the data set <a href="https://www.kaggle.com/oscarleo/new-york-city-taxi-with-osrm" target="_blank" rel="noopener">overview</a>. <em>Depart</em> and <em>arrive</em> are individual steps. The direction of a <em>step_maneuver</em> “turn” is listed in the the <em>step_directions</em>. The total distance is measured in <em>meters</em> and the duration in <em>seconds</em>, like in the original data.</p>
<h3 id="New-data-visualisations"><a href="#New-data-visualisations" class="headerlink" title="New data visualisations"></a>New data visualisations</h3><p>Before joining the “fastest routes” data to our training set, let’s first visualise the distributions of the numerical parameters:</p>
<figure class="highlight plain"><figcaption><span>fig.align </span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">p1 &lt;- fastest_route %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(total_travel_time)) +</span><br><span class="line"></span><br><span class="line">  geom_histogram(bins &#x3D; 150, fill &#x3D; &quot;red&quot;) +</span><br><span class="line"></span><br><span class="line">  scale_x_log10() +</span><br><span class="line"></span><br><span class="line">  scale_y_sqrt()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p2 &lt;- fastest_route %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(total_distance)) +</span><br><span class="line"></span><br><span class="line">  geom_histogram(bins &#x3D; 150, fill &#x3D; &quot;red&quot;) +</span><br><span class="line"></span><br><span class="line">  scale_x_log10() +</span><br><span class="line"></span><br><span class="line">  scale_y_sqrt()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p3 &lt;- fastest_route %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(number_of_steps)) +</span><br><span class="line"></span><br><span class="line">  geom_bar(fill &#x3D; &quot;red&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p4 &lt;- fastest_route %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(total_distance, total_travel_time)) +</span><br><span class="line"></span><br><span class="line">  geom_bin2d(bins &#x3D; c(80,80))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">layout &lt;- matrix(c(1,2,3,4,4,4),2,3,byrow&#x3D;TRUE)</span><br><span class="line"></span><br><span class="line">multiplot(p1, p2, p3, p4, layout&#x3D;layout)</span><br><span class="line"></span><br><span class="line">p1 &lt;- 1; p2 &lt;- 1; p3 &lt;- 1; p4 &lt;- 1</span><br></pre></td></tr></table></figure>



<p>We find:</p>
<ul>
<li>The <em>total_travel_time</em> and <em>total_distance</em> peak at values of around 300 s (5 min) and 2800 m, respectively. These are the median values. Really high values are rare in both features, however there is are indications for secondary peaks towards longer times and distances. Very short distances (few meters) and travel times (few seconds) are present in the data.</li>
</ul>
<ul>
<li>The single most frequent <em>number_of_steps</em> is 5. Since “depart” and “arrive” are always present, there are no trips with less than 2 steps. There are almost 60k trips that only contain these two steps, which would mean that they would have at most travelled in a straight line, as far as I can see:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">fastest_route %&gt;% filter(number_of_steps &#x3D;&#x3D; 2) %&gt;% nrow()</span><br></pre></td></tr></table></figure>



<ul>
<li>Larger number of steps are present, but only about 20% are above 10 and less than 2% are above 20 steps.</li>
</ul>
<ul>
<li><em>total_distance</em> and <em>total_travel_time</em> are strongly correlated in a pretty linear way; except for possibly the very short distances. There is a certain amout of scatter around this linear dependency and it looks rather homogeneous over the entire range of distances and times.</li>
</ul>
<figure class="highlight plain"><figcaption><span>fig.align </span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">fastest_route %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(factor(number_of_steps), total_travel_time, color &#x3D; factor(number_of_steps))) +</span><br><span class="line"></span><br><span class="line">  geom_boxplot() +</span><br><span class="line"></span><br><span class="line">  labs(x &#x3D; &quot;number_of_steps&quot;) +</span><br><span class="line"></span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;)</span><br></pre></td></tr></table></figure>



<p>We also find that the median travel time correlates well with the <em>number_of_steps</em>, but that there is also much overlap between neighbouring step counts, along with numerous outliers predominantly towards longer durations.</p>
<p>The distributions of <em>total_distance</em> per <em>number_of_steps</em> look very similar to the plot above.</p>
<h3 id="Joining-and-derived-features"><a href="#Joining-and-derived-features" class="headerlink" title="Joining and derived features"></a>Joining and derived features</h3><p>In a first look at the joined data, we will mainly focus on the <em>total_distance</em> and <em>total_travel_time</em>, when combined with our original training data set:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">foo &lt;- fastest_route %&gt;%</span><br><span class="line"></span><br><span class="line">  select(id, total_distance, total_travel_time, number_of_steps,</span><br><span class="line"></span><br><span class="line">         step_direction, step_maneuvers) %&gt;%</span><br><span class="line"></span><br><span class="line">  mutate(fastest_speed &#x3D; total_distance&#x2F;total_travel_time*3.6,</span><br><span class="line"></span><br><span class="line">         left_turns &#x3D; str_count(step_direction, &quot;left&quot;),</span><br><span class="line"></span><br><span class="line">         right_turns &#x3D; str_count(step_direction, &quot;right&quot;),</span><br><span class="line"></span><br><span class="line">         turns &#x3D; str_count(step_maneuvers, &quot;turn&quot;)</span><br><span class="line"></span><br><span class="line">         ) %&gt;%</span><br><span class="line"></span><br><span class="line">  select(-step_direction, -step_maneuvers)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">train &lt;- left_join(train, foo, by &#x3D; &quot;id&quot;) %&gt;%</span><br><span class="line"></span><br><span class="line">  mutate(fast_speed_trip &#x3D; total_distance&#x2F;trip_duration*3.6)</span><br></pre></td></tr></table></figure>



<p>In addition, we also create the following new features:</p>
<ul>
<li><em>fastest_speed</em> is the average speed of the fastest route based on the OSRM values, and <em>fast_speed_trip</em> is the speed assuming the fastest route and the actual trip duration. Both features are in units of km/h.</li>
</ul>
<ul>
<li><em>left_turns</em>, <em>right_turns</em>, and <em>turns</em> are the total number of those maneuvers per route. The <em>step_directions</em> “left” and “right” might not always be associated to the <em>step_maneuver</em> “turn”, but in most cases they are so we are using them as a first estimate of the number of left and right turns. Especially left turns might slow down travel. </li>
</ul>
<p>Beyond that, for instance the detailed list of streets used and their respective <em>travel_time_per_step</em> might allow us to take into account known areas of slow traffic.</p>
<h3 id="Visualisation-and-impact-on-trip-duration-1"><a href="#Visualisation-and-impact-on-trip-duration-1" class="headerlink" title="Visualisation and impact on trip_duration"></a>Visualisation and impact on <em>trip_duration</em></h3><figure class="highlight plain"><figcaption><span>fig.align </span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">p1 &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(trip_duration)) +</span><br><span class="line"></span><br><span class="line">  geom_density(fill &#x3D; &quot;red&quot;, alpha &#x3D; 0.5) +</span><br><span class="line"></span><br><span class="line">  geom_density(aes(total_travel_time), fill &#x3D; &quot;blue&quot;, alpha &#x3D; 0.5) +</span><br><span class="line"></span><br><span class="line">  scale_x_log10() +</span><br><span class="line"></span><br><span class="line">  coord_cartesian(xlim &#x3D; c(5e1, 8e3))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p2 &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(dist)) +</span><br><span class="line"></span><br><span class="line">  geom_density(fill &#x3D; &quot;red&quot;, alpha &#x3D; 0.5) +</span><br><span class="line"></span><br><span class="line">  geom_density(aes(total_distance), fill &#x3D; &quot;blue&quot;, alpha &#x3D; 0.5) +</span><br><span class="line"></span><br><span class="line">  scale_x_log10() +</span><br><span class="line"></span><br><span class="line">  coord_cartesian(xlim &#x3D; c(2e2, 5e4))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p3 &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(trip_duration, total_travel_time)) +</span><br><span class="line"></span><br><span class="line">  geom_bin2d(bins &#x3D; c(120,120)) +</span><br><span class="line"></span><br><span class="line">  geom_abline(intercept &#x3D; 0, slope &#x3D; 1, colour &#x3D; &quot;red&quot;) +</span><br><span class="line"></span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p4 &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(dist, total_distance)) +</span><br><span class="line"></span><br><span class="line">  geom_bin2d(bins &#x3D; c(70,70)) +</span><br><span class="line"></span><br><span class="line">  geom_abline(intercept &#x3D; 0, slope &#x3D; 1, colour &#x3D; &quot;red&quot;) +</span><br><span class="line"></span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">layout &lt;- matrix(c(1,2,3,4),2,2,byrow&#x3D;TRUE)</span><br><span class="line"></span><br><span class="line">multiplot(p1, p2, p3, p4, layout&#x3D;layout)</span><br><span class="line"></span><br><span class="line">p1 &lt;- 1; p2 &lt;- 1; p3 &lt;- 1; p4 &lt;- 1</span><br></pre></td></tr></table></figure>



<p>Here the <em>fastest</em> features are in blue and the original <em>trip_duration</em> and direct <em>dist</em>ance in red. In the binned scatter plots the red line has slope 1.</p>
<p>We find:</p>
<ul>
<li>The actual <em>trip_durations</em> are on average significantly longer than those for the fastest route. The shape of the distributions is also subtly different, with the <em>fastest</em> ones having more of a right skew than a left skew in log space. The widths of the distributions, however, are broadly similar.</li>
</ul>
<ul>
<li>The binned scatter plot of <em>trip_duration</em> vs <em>total_travel_time</em> (lower left corner) reveals that there are numerous ouliers towards <em>trip_durations</em>. Interestingly, almost all of those appear below 2000 s (about 0.55 h) of <em>total_travel_time</em>. We will study those trips in more detail below.</li>
</ul>
<ul>
<li>The direct distances (as the crow flies) are longer than the <em>fastest</em> distances, but not by that much. By and large, the direct <em>dist*ance is a pretty good proxy for the actual, *fastest</em> distance according to the binned scatter plot. There are (rare) outliers towards longer direct <em>dist</em>ances, which indicates potentially problematic data entries.</li>
</ul>
<p>What about the <em>speed</em>? Comparing our original <em>speed</em> estimate to the <em>fastest_speed</em> from the OSRM data should give us an idea how realistic the values of the former feature are.</p>
<p>For this figure, in the kernel-density plot the <em>fastest</em> values are in blue and the red line in the binned scatter plot has slope equal one:</p>
<figure class="highlight plain"><figcaption><span>eval</span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">p1 &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(speed)) +</span><br><span class="line"></span><br><span class="line">  geom_density(fill &#x3D; &quot;red&quot;, alpha &#x3D; 0.5) +</span><br><span class="line"></span><br><span class="line">  geom_density(aes(fastest_speed), fill &#x3D; &quot;blue&quot;, alpha &#x3D; 0.5) +</span><br><span class="line"></span><br><span class="line">  coord_cartesian(xlim &#x3D; c(0, 80))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p2 &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(speed, fastest_speed)) +</span><br><span class="line"></span><br><span class="line">  geom_bin2d(bins &#x3D; c(50,50)) +</span><br><span class="line"></span><br><span class="line">  geom_abline(intercept &#x3D; 0, slope &#x3D; 1, colour &#x3D; &quot;red&quot;) +</span><br><span class="line"></span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">layout &lt;- matrix(c(1,2),1,2,byrow&#x3D;TRUE)</span><br><span class="line"></span><br><span class="line">multiplot(p1, p2, layout&#x3D;layout)</span><br><span class="line"></span><br><span class="line">p1 &lt;- 1; p2 &lt;- 1</span><br></pre></td></tr></table></figure>





<p>Here we find several effects:</p>
<ul>
<li>By not accounting for traffic, our <em>fastest</em> speeds are always above 20 km/h (12 mph), a value that is not frequently reached in our actual data.</li>
</ul>
<ul>
<li>The theoretical speed disribution shows several peaks, most prominently a very sharp one between 25 and 30 km/h (15 - 18 mph) and a broader one around 40 km/h (25 mph). Without knowing very much about the traffic management in NYC I would assume that they correspond to zones of different speed limits and their linear combinations.</li>
</ul>
<ul>
<li>There is no correlation between <em>speed</em> and <em>fastest_speed</em>. This reflects the large number of delays in the scatter plot of <em>trip_duration</em> vs <em>total_travel_time</em> which we will study in a separate step.</li>
</ul>
<p>At face value, the impact of the number of <em>turns</em> on the <em>total_travel_time</em> is very similar for <em>left_turns</em> and <em>right_turns</em>. A main reason behind this will be that the <em>total_travel_time</em> increases with increasing <em>number_of_steps</em> of any kind and that the number of <em>turns</em> is of course correlated with the <em>number_of_steps</em>. We will learn more from the percentage of turns per trip, which we will investigate in a moment. From these plots we find the following results:</p>
<figure class="highlight plain"><figcaption><span>eval</span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">p1 &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(factor(left_turns), total_travel_time, color &#x3D; factor(left_turns))) +</span><br><span class="line"></span><br><span class="line">  geom_boxplot() +</span><br><span class="line"></span><br><span class="line">  labs(x &#x3D; &quot;Number of left turns&quot;) +</span><br><span class="line"></span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p2 &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(factor(right_turns), total_travel_time, color &#x3D; factor(right_turns))) +</span><br><span class="line"></span><br><span class="line">  geom_boxplot() +</span><br><span class="line"></span><br><span class="line">  labs(x &#x3D; &quot;Number of right turns&quot;) +</span><br><span class="line"></span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p3 &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(factor(turns), total_travel_time, color &#x3D; factor(turns))) +</span><br><span class="line"></span><br><span class="line">  geom_boxplot() +</span><br><span class="line"></span><br><span class="line">  labs(x &#x3D; &quot;Total number of turns&quot;) +</span><br><span class="line"></span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">layout &lt;- matrix(c(1,2,3,3),2,2,byrow&#x3D;TRUE)</span><br><span class="line"></span><br><span class="line">multiplot(p1, p2, p3, layout&#x3D;layout)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p1 &lt;- 1; p2 &lt;- 1; p3 &lt;- 1</span><br></pre></td></tr></table></figure>



<ul>
<li>There is a “NA” entry here which is caused by a single observation (“id3008062”) which is missing from the <em>fastest_routes</em> data. This is a very minor issue without any practical impact on our predictions, but it’s good to be aware of this “NA” entry. It <a href="https://www.kaggle.com/oscarleo/new-york-city-taxi-with-osrm/discussion/37337" target="_blank" rel="noopener">turns out</a> that OSRM does not provide a route for this data point.</li>
</ul>
<ul>
<li>Right turns and slightly more frequent than left turns (up to 21 vs 19).</li>
</ul>
<ul>
<li>For the total number of <em>turns</em> there is a first maximum in the median <em>total_travel_time</em> at 13 turns, after which the median declines somewhat.</li>
</ul>
<p>Now let’s move on to the turn percentages:</p>
<figure class="highlight plain"><figcaption><span>fig.align </span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">foo &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  filter(!is.na(left_turns)) %&gt;%</span><br><span class="line"></span><br><span class="line">  mutate(left_frac &#x3D; left_turns&#x2F;number_of_steps,</span><br><span class="line"></span><br><span class="line">         right_frac &#x3D; right_turns&#x2F;number_of_steps)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p1 &lt;- foo %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(left_frac)) +</span><br><span class="line"></span><br><span class="line">  geom_histogram(bins &#x3D; 20, fill &#x3D; &quot;red&quot;) +</span><br><span class="line"></span><br><span class="line">  labs(x &#x3D; &quot;Left turns &#x2F; all steps&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p2 &lt;- foo %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(right_frac)) +</span><br><span class="line"></span><br><span class="line">  geom_histogram(bins &#x3D; 20, fill &#x3D; &quot;red&quot;) +</span><br><span class="line"></span><br><span class="line">  labs(x &#x3D; &quot;Right turns &#x2F; all steps&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p3 &lt;- foo %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(left_frac, total_travel_time)) +</span><br><span class="line"></span><br><span class="line">  geom_bin2d(bins &#x3D; c(40,40)) +</span><br><span class="line"></span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;) +</span><br><span class="line"></span><br><span class="line">  labs(x &#x3D; &quot;Left turns &#x2F; all steps&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p4 &lt;- foo %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(right_frac, total_travel_time)) +</span><br><span class="line"></span><br><span class="line">  geom_bin2d(bins &#x3D; c(40,40)) +</span><br><span class="line"></span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;) +</span><br><span class="line"></span><br><span class="line">  labs(x &#x3D; &quot;Right turns &#x2F; all steps&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p5 &lt;- foo %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(left_frac, fastest_speed)) +</span><br><span class="line"></span><br><span class="line">  geom_bin2d(bins &#x3D; c(40,40)) +</span><br><span class="line"></span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;) +</span><br><span class="line"></span><br><span class="line">  labs(x &#x3D; &quot;Left turns &#x2F; all steps&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p6 &lt;- foo %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(right_frac, fastest_speed)) +</span><br><span class="line"></span><br><span class="line">  geom_bin2d(bins &#x3D; c(40,40)) +</span><br><span class="line"></span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;) +</span><br><span class="line"></span><br><span class="line">  labs(x &#x3D; &quot;Right turns &#x2F; all steps&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">layout &lt;- matrix(c(1,2,3,4,5,6),3,2,byrow&#x3D;TRUE)</span><br><span class="line"></span><br><span class="line">multiplot(p1, p2, p3, p4, p5, p6, layout&#x3D;layout)</span><br><span class="line"></span><br><span class="line">p1 &lt;- 1; p2 &lt;- 1; p3 &lt;- 1; p4 &lt;- 1; p5 &lt;- 1; p6 &lt;- 1; foo &lt;- 1</span><br></pre></td></tr></table></figure>



<p>We find:</p>
<ul>
<li>Right turns are indeed somewhat more frequent than left turns. Both kind of turns make up mostly less than 50% of all travel maneuvers but can reach 80%. There is a significant number of trips without any turns at all.</li>
</ul>
<ul>
<li>A higher fraction of turns does <em>not</em> correlate with higher <em>total_travel_times</em>. Instead, the longest times are reached at around 1/3 of maneuvers being turns.</li>
</ul>
<ul>
<li>On the other hand, the <em>fastest_speed</em> (i.e. <em>total_distance</em> / <em>total_travel_time</em>) shows indications for lower average values for larger number of <em>left_turns</em> for the percentage range of 50% to 80%. Notably, there is no such obvious impact for the number of <em>right_turns</em> up until 75%. Thus, excessive numbers of <em>left</em> turns really appear to be slowing down our travel speed.</li>
</ul>
<h3 id="trip-duration-vs-total-travel-time-a-look-at-curious-delays"><a href="#trip-duration-vs-total-travel-time-a-look-at-curious-delays" class="headerlink" title="trip_duration vs total_travel_time - a look at curious delays"></a><em>trip_duration</em> vs <em>total_travel_time</em> - a look at curious delays</h3><p>In this section we will compare the OSRM <em>total_travel_time</em> to the taxi <em>trip_duration</em> in our original data. We will specifically focus on understanding those curious cases that suggest significant delays in our data.</p>
<p>Here we plot the a scatter plot of the two timing features colour-coded by the percentage of left turns in the the OSRM route (the solid red line has again a slope of 1):</p>
<figure class="highlight plain"><figcaption><span>fig.align </span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">train %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(trip_duration, total_travel_time, color &#x3D; left_turns &#x2F; number_of_steps)) +</span><br><span class="line"></span><br><span class="line">  geom_point(alpha &#x3D; 0.3) +</span><br><span class="line"></span><br><span class="line">  geom_abline(intercept &#x3D; 0, slope &#x3D; 1, colour &#x3D; &quot;red&quot;) +</span><br><span class="line"></span><br><span class="line">  scale_colour_gradient(low &#x3D; &quot;blue&quot;, high &#x3D; &quot;red&quot;) +</span><br><span class="line"></span><br><span class="line">  scale_x_log10() +</span><br><span class="line"></span><br><span class="line">  scale_y_log10() +</span><br><span class="line"></span><br><span class="line">  geom_hline(yintercept &#x3D; c(50,2000), linetype &#x3D; 2) +</span><br><span class="line"></span><br><span class="line">  labs(color &#x3D; &quot;Left turns [%]&quot;)</span><br></pre></td></tr></table></figure>



<p>Note the double-log axes.</p>
<p>We find:</p>
<ul>
<li>There is a population of data point where the <em>trip_duration</em> (the actual timing of the taxi ride) is lower than the <em>total_travel_time</em> based on the fastest OSRM route. These differences can be significant for the trips that take less than 1000 s (i.e. about 17 min) on the fastest route but become less severe for rides longer than that.</li>
</ul>
<ul>
<li>There are no “fastest” routes with more than 10 ks <em>total_travel_time</em>. The maximum in the cleaned sample is at about 5000 s or 1.5 h. Almost all of the significant long-delay outliers in <em>trip_duration</em> (indicated by the horizontal dashed lines) lie in the range of 100 - 2000 s <em>total_travel_time</em> and extend beyond 10 ks <em>trip_duration</em>.</li>
</ul>
<ul>
<li>There appears to be a tendency for longer trips (especially in <em>total_travel_time</em>) to contain a higher fraction of <em>left_turns</em>. However, this apparent effect might be due to the shortest rides containing no turns and longer rides (above 1 min) including an average number of turns. In any case, within the long-delay outliers there is no obvious impact of the percentage of <em>left_turns</em>.</li>
</ul>
<p>The most prominent outliers only make up a very small percentage of the overall rides:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">train %&gt;%</span><br><span class="line"></span><br><span class="line">  filter(total_travel_time &gt; 50 &amp; total_travel_time &lt; 2000) %&gt;%</span><br><span class="line"></span><br><span class="line">  mutate(delay &#x3D; trip_duration &gt; 1e4) %&gt;%</span><br><span class="line"></span><br><span class="line">  group_by(delay) %&gt;%</span><br><span class="line"></span><br><span class="line">  count()</span><br></pre></td></tr></table></figure>



<p>We will briefly examine those data points using a comparison of relative frequencies in bar plots and density overlays:</p>
<figure class="highlight plain"><figcaption><span>fig.align </span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">foo &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  filter(total_travel_time &gt; 50 &amp; total_travel_time &lt; 2000) %&gt;%</span><br><span class="line"></span><br><span class="line">  mutate(delay &#x3D; trip_duration &gt; 1e4)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p1 &lt;- foo %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(vendor_id, group &#x3D; delay)) +</span><br><span class="line"></span><br><span class="line">  geom_bar(aes(y &#x3D; ..prop.., fill &#x3D; factor(..x..)), stat&#x3D;&quot;count&quot;) + </span><br><span class="line"></span><br><span class="line">  scale_y_continuous(labels&#x3D;scales::percent) +</span><br><span class="line"></span><br><span class="line">  ylab(&quot;relative frequencies&quot;) +</span><br><span class="line"></span><br><span class="line">  facet_grid(~delay) +</span><br><span class="line"></span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p2 &lt;- foo %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(jfk_trip, group &#x3D; delay)) +</span><br><span class="line"></span><br><span class="line">  geom_bar(aes(y &#x3D; ..prop.., fill &#x3D; factor(..x..)), stat&#x3D;&quot;count&quot;) + </span><br><span class="line"></span><br><span class="line">  scale_y_continuous(labels&#x3D;scales::percent) +</span><br><span class="line"></span><br><span class="line">  ylab(&quot;relative frequencies&quot;) +</span><br><span class="line"></span><br><span class="line">  facet_grid(~delay) +</span><br><span class="line"></span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p3 &lt;- foo %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(lg_trip, group &#x3D; delay)) +</span><br><span class="line"></span><br><span class="line">  geom_bar(aes(y &#x3D; ..prop.., fill &#x3D; factor(..x..)), stat&#x3D;&quot;count&quot;) + </span><br><span class="line"></span><br><span class="line">  scale_y_continuous(labels&#x3D;scales::percent) +</span><br><span class="line"></span><br><span class="line">  ylab(&quot;relative frequencies&quot;) +</span><br><span class="line"></span><br><span class="line">  facet_grid(~delay) +</span><br><span class="line"></span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p4 &lt;- foo %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(work, group &#x3D; delay)) +</span><br><span class="line"></span><br><span class="line">  geom_bar(aes(y &#x3D; ..prop.., fill &#x3D; factor(..x..)), stat&#x3D;&quot;count&quot;) + </span><br><span class="line"></span><br><span class="line">  scale_y_continuous(labels&#x3D;scales::percent) +</span><br><span class="line"></span><br><span class="line">  ylab(&quot;relative frequencies&quot;) +</span><br><span class="line"></span><br><span class="line">  facet_grid(~delay) +</span><br><span class="line"></span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p5 &lt;- foo %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(total_distance, fill &#x3D; delay)) +</span><br><span class="line"></span><br><span class="line">  geom_density(alpha &#x3D; 0.5)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">layout &lt;- matrix(c(1,2,3,4,5,5),2,3,byrow&#x3D;TRUE)</span><br><span class="line"></span><br><span class="line">multiplot(p1, p2, p3, p4, p5, layout&#x3D;layout)</span><br><span class="line"></span><br><span class="line">p1 &lt;- 1; p2 &lt;- 1; p3 &lt;- 1; p4 &lt;- 1; p5 &lt;- 1; p6 &lt;- 1</span><br></pre></td></tr></table></figure>



<p>Here the facets (true vs false) refer to the observations being part of the long-delay group or not.</p>
<p>We find:</p>
<ul>
<li>Almost all long delays happen for the taxis of vendor 2, even though vendor 2 has only a slightly higher percentage of rides overall. This discrepancy is definitely significant enough to explain most of the effect.</li>
</ul>
<ul>
<li>Another interesting fact is that in the long-delay sample the fraction of JFK trips is significantly higher, and the fraction of La Guardia trips is slightly higher, than in the general population. We could hypothesise that for an airport journey the <em>trip_duration</em> might include the waiting time while queuing for passengers. JFK trips make up almost 30% of the long-delay trips (60 out of 207).</li>
</ul>
<ul>
<li>The percentage of delays during <em>work</em> hours is slightly higher but not with practical significance.</li>
</ul>
<ul>
<li>Furthermore, in the long-delay distribution the long distances are clearly favoured over shorter ones. Remember that here we are only comparing trips within the same bracket of <em>total_travel_time</em> (50 - 2000 s).</li>
</ul>
<ul>
<li>In addition, not shown here is the observation that long delays appear to be slightly more frequent on Tuesdays or in January and March; compared to Wednesday and Thursdays or February. However, considering the number of categories and that the deviations at most reach 5 percentage points these effect might be random.</li>
</ul>
<p>Another curious group of outliers can be found in the lower middle portion of the <em>trip_duration</em> vs <em>total_travel_time</em> plot. Here we encode the colour of the trips by their <em>vendor_id</em>, to further highlight the impact of vendor 2 on the long-duration outliers on the top right and the few ones on the bottom right:</p>
<figure class="highlight plain"><figcaption><span>eval</span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">train %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(trip_duration, total_travel_time, color &#x3D; vendor_id)) +</span><br><span class="line"></span><br><span class="line">  geom_point(alpha &#x3D; 0.3) +</span><br><span class="line"></span><br><span class="line">  geom_abline(intercept &#x3D; 0, slope &#x3D; 1, colour &#x3D; &quot;red&quot;) +</span><br><span class="line"></span><br><span class="line">  scale_x_log10() +</span><br><span class="line"></span><br><span class="line">  scale_y_log10() +</span><br><span class="line"></span><br><span class="line">  geom_hline(yintercept &#x3D; c(10), linetype &#x3D; 2) +</span><br><span class="line"></span><br><span class="line">  geom_vline(xintercept &#x3D; c(600,5000), linetype &#x3D; 2)</span><br></pre></td></tr></table></figure>



<p>The second group of outliers lies at <em>total_travel_time &lt; 10</em> and <em>trip_duration = 600 - 4000</em>; units in seconds as usual. See the hidden figure or fig 26. Therefore, those are trips over very short distances that should have only taken a few seconds, but in our data they took between 10 minutes and 1.4 hours. In a way, there is a continuum of data points in the lower left to middle part of the plot, but the ones over 10 minutes show another peak in density:</p>
<figure class="highlight plain"><figcaption><span>fig.align </span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">train %&gt;%</span><br><span class="line"></span><br><span class="line">  filter(total_travel_time &lt; 10 &amp; trip_duration &lt; 10000) %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(trip_duration)) +</span><br><span class="line"></span><br><span class="line">  geom_density(fill &#x3D; &quot;red&quot;) +</span><br><span class="line"></span><br><span class="line">  geom_vline(xintercept &#x3D; c(600,5000), linetype &#x3D; 2) +</span><br><span class="line"></span><br><span class="line">  scale_x_log10()</span><br></pre></td></tr></table></figure>





<figure class="highlight plain"><figcaption><span>fig.align </span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">foo &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  filter(total_travel_time &lt; 10) %&gt;%</span><br><span class="line"></span><br><span class="line">  mutate(delay &#x3D; trip_duration &gt; 600)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p1 &lt;- foo %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(vendor_id, group &#x3D; delay)) +</span><br><span class="line"></span><br><span class="line">  geom_bar(aes(y &#x3D; ..prop.., fill &#x3D; factor(..x..)), stat&#x3D;&quot;count&quot;) + </span><br><span class="line"></span><br><span class="line">  scale_y_continuous(labels&#x3D;scales::percent) +</span><br><span class="line"></span><br><span class="line">  ylab(&quot;relative frequencies&quot;) +</span><br><span class="line"></span><br><span class="line">  facet_grid(~delay) +</span><br><span class="line"></span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p2 &lt;- foo %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(wday, group &#x3D; delay)) +</span><br><span class="line"></span><br><span class="line">  geom_bar(aes(y &#x3D; ..prop.., fill &#x3D; factor(..x..)), stat&#x3D;&quot;count&quot;) + </span><br><span class="line"></span><br><span class="line">  scale_y_continuous(labels&#x3D;scales::percent) +</span><br><span class="line"></span><br><span class="line">  ylab(&quot;relative frequencies&quot;) +</span><br><span class="line"></span><br><span class="line">  facet_grid(~delay) +</span><br><span class="line"></span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p3 &lt;- foo %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(passenger_count, group &#x3D; delay)) +</span><br><span class="line"></span><br><span class="line">  geom_bar(aes(y &#x3D; ..prop.., fill &#x3D; factor(..x..)), stat&#x3D;&quot;count&quot;) + </span><br><span class="line"></span><br><span class="line">  scale_y_continuous(labels&#x3D;scales::percent) +</span><br><span class="line"></span><br><span class="line">  ylab(&quot;relative frequencies&quot;) +</span><br><span class="line"></span><br><span class="line">  facet_grid(~delay) +</span><br><span class="line"></span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p4 &lt;- foo %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(total_distance, fill &#x3D; delay)) +</span><br><span class="line"></span><br><span class="line">  geom_density(alpha &#x3D; 0.5) +</span><br><span class="line"></span><br><span class="line">  coord_cartesian(xlim &#x3D; c(0,100))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">layout &lt;- matrix(c(1,1,2,2,2,2,3,3,3,4,4,4),2,6,byrow&#x3D;TRUE)</span><br><span class="line"></span><br><span class="line">multiplot(p1, p2, p3, p4, layout&#x3D;layout)</span><br><span class="line"></span><br><span class="line">p1 &lt;- 1; p2 &lt;- 1; p3 &lt;- 1; p4 &lt;- 1; p5 &lt;- 1; p6 &lt;- 1</span><br></pre></td></tr></table></figure>



<p>We find:</p>
<ul>
<li>Again, vendor 2 has systematically longer <em>trip_durations</em> than vendor 1.</li>
</ul>
<ul>
<li>Delays of this second kind appear to be more frequent on weekends, compared to the overall distribution.</li>
</ul>
<ul>
<li>The number of passengers is higher too for these delays, so maybe we are counting the time it takes them (and their luggage) to get in and out of the taxi?</li>
</ul>
<ul>
<li>The distances for the delays are again longer, but notice the different scale here. Distances of less than 100 m should not take more than 10 min.</li>
</ul>
<ul>
<li>Not shown: <em>jfk_trip</em> and <em>lg_trip</em> have no impact here because the overall distances are so short.</li>
</ul>
<p><strong>In summary</strong>, we find that the <em>vendor_id</em> has distinguishing power for the two outlier groups, with airport trips very likely to contribute to the long-delay outliers. Other factors like <em>wday</em> or <em>passenger_count</em> might contribute additional signal.</p>
<h1 id="Correlations-overview"><a href="#Correlations-overview" class="headerlink" title="Correlations overview"></a>Correlations overview</h1><p>After engineering new features and before starting the modelling, we will visualise the relations between our parameters using a <em>correlation matrix</em>. For this, we need to change all the input features into a numerical format. The visualisation uses the <em>corrplot</em> function from the eponymous package. <em>Corrplot</em> gives us great flexibility in manipulating the style of our plot.</p>
<p>What we see below, are the colour-coded <em>correlation coefficients</em> for each combination of two features. In simplest terms: this shows whether two features are connected so that one changes with a predictable trend if you change the other. The closer this coefficient is to zero the weaker is the correlation. Both 1 and -1 are the ideal cases of perfect correlation and anti-correlation (dark blue and dark red in the plots below).</p>
<p>Here, we are of course interested if and how strongly our features correlate with the <em>trip_duration</em>, the prediction of which is the ultimate goal of this challenge. But we also want to know whether our potential predictors are <em>correlated among each other</em>, so that we can reduce the collinearity in our data set and improve the robustness of our prediction:</p>
<figure class="highlight plain"><figcaption><span>eval</span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">train %&gt;%</span><br><span class="line"></span><br><span class="line">  select(-id, -pickup_datetime, -dropoff_datetime, -jfk_dist_pick,</span><br><span class="line"></span><br><span class="line">         -jfk_dist_drop, -lg_dist_pick, -lg_dist_drop, -date) %&gt;%</span><br><span class="line"></span><br><span class="line">  mutate(passenger_count &#x3D; as.integer(passenger_count),</span><br><span class="line"></span><br><span class="line">         vendor_id &#x3D; as.integer(vendor_id),</span><br><span class="line"></span><br><span class="line">         store_and_fwd_flag &#x3D; as.integer(as.factor(store_and_fwd_flag)),</span><br><span class="line"></span><br><span class="line">         jfk_trip &#x3D; as.integer(jfk_trip),</span><br><span class="line"></span><br><span class="line">         wday &#x3D; as.integer(wday),</span><br><span class="line"></span><br><span class="line">         month &#x3D; as.integer(month),</span><br><span class="line"></span><br><span class="line">         work &#x3D; as.integer(work),</span><br><span class="line"></span><br><span class="line">         lg_trip &#x3D; as.integer(lg_trip),</span><br><span class="line"></span><br><span class="line">         blizzard &#x3D; as.integer(blizzard),</span><br><span class="line"></span><br><span class="line">         has_snow &#x3D; as.integer(has_snow),</span><br><span class="line"></span><br><span class="line">         has_rain &#x3D; as.integer(has_rain)) %&gt;%</span><br><span class="line"></span><br><span class="line">  select(trip_duration, speed, everything()) %&gt;%</span><br><span class="line"></span><br><span class="line">  cor(use&#x3D;&quot;complete.obs&quot;, method &#x3D; &quot;spearman&quot;) %&gt;%</span><br><span class="line"></span><br><span class="line">  corrplot(type&#x3D;&quot;lower&quot;, method&#x3D;&quot;circle&quot;, diag&#x3D;FALSE)</span><br></pre></td></tr></table></figure>



<p>If we remove the features with little to no significant impact on other features that are not directly related then our (effective) correlation matrix looks like this. In this plot (and in the hidden figure) the fading serves the purpose that everything that would be hard to see is not worth seeing:</p>
<figure class="highlight plain"><figcaption><span>fig.align </span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">foo &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  select(-id, -pickup_datetime, -dropoff_datetime, -jfk_dist_pick,</span><br><span class="line"></span><br><span class="line">         -jfk_dist_drop, -lg_dist_pick, -lg_dist_drop, -date,</span><br><span class="line"></span><br><span class="line">         -store_and_fwd_flag, -hour, -rain, -s_fall, -all_precip,</span><br><span class="line"></span><br><span class="line">         -has_rain, -s_depth, -min_temp, -max_temp,</span><br><span class="line"></span><br><span class="line">         -wday, -right_turns, -turns, -fast_speed_trip) %&gt;%</span><br><span class="line"></span><br><span class="line">  mutate(passenger_count &#x3D; as.integer(passenger_count),</span><br><span class="line"></span><br><span class="line">         vendor_id &#x3D; as.integer(vendor_id),</span><br><span class="line"></span><br><span class="line">         jfk_trip &#x3D; as.integer(jfk_trip),</span><br><span class="line"></span><br><span class="line">         lg_trip &#x3D; as.integer(lg_trip),</span><br><span class="line"></span><br><span class="line">         month &#x3D; as.integer(month),</span><br><span class="line"></span><br><span class="line">         work &#x3D; as.integer(work),</span><br><span class="line"></span><br><span class="line">         blizzard &#x3D; as.integer(blizzard),</span><br><span class="line"></span><br><span class="line">         has_snow &#x3D; as.integer(has_snow)) %&gt;%</span><br><span class="line"></span><br><span class="line">  select(trip_duration, speed, everything())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">foo %&gt;%</span><br><span class="line"></span><br><span class="line">  cor(use&#x3D;&quot;complete.obs&quot;, method &#x3D; &quot;spearman&quot;) %&gt;%</span><br><span class="line"></span><br><span class="line">  corrplot(type&#x3D;&quot;lower&quot;, method&#x3D;&quot;circle&quot;, diag&#x3D;FALSE)</span><br><span class="line"></span><br><span class="line">foo &lt;- 1</span><br></pre></td></tr></table></figure>



<p>We find:</p>
<ul>
<li>The strongest correlations with the <em>trip_duration</em> are seen for the direct <em>dist*ance as well as the *total_distance</em> and <em>total_travel_time</em> derived from the OSRM data. As we have already seen above, the distances are highly correlated with one another and with the <em>total_travel_time</em>. Also the number of turns, presumably mostly via the <em>number_of_steps</em>, are having an impact on the <em>trip_duration</em>.</li>
</ul>
<ul>
<li>Another effect on the <em>trip_duration</em> can bee seen for our engineered features <em>jfk_trip</em> and <em>lg_trip</em>; indicating journeys to either airport. A similar statement is true for the average <em>speed</em> and airport travel.</li>
</ul>
<ul>
<li>The pickup and dropoff coordinates are correlated, which is a bit puzzling but might be partly explained by the shape of Manhattan stretching from south-west to north-east. Another part of the explanation might be short trips within lower or upper Manhattan only.</li>
</ul>
<ul>
<li><em>vendor_id</em> is correlated with <em>passenger_count</em> because of vendor 2 having all the (five) trips with more than 6 passengers.</li>
</ul>
<ul>
<li>Among the <em>weather</em> data (mostly seen in the full hidden plot), the minimum and maximum temperatures show a strong correlation with each other and the <em>month</em> of the year, which is intuitively understandable. Also the different ways of measuring precipitation are naturally correlated with each other and, in case of <em>snow</em>, with the <em>month</em>.</li>
</ul>
<p>We should be able to see these relations in our model.</p>
<h1 id="An-excursion-into-classification"><a href="#An-excursion-into-classification" class="headerlink" title="An excursion into classification"></a>An excursion into classification</h1><p>Our challenge is by nature a <em>regression problem:</em> we want to predict a continous variable, <em>trip_duration</em> from a set of features. In this kernel we will continue to treat it as a regression problem, but in this section I want to present a brief excursion into the possibility of turning it into a <em>classification problem</em>.</p>
<p>In a classification context our target variable can only take a (small) number of discrete values. Often, we are faced with a binary outcome, for instance “Survived vs Not Survived” in the popular <a href="https://www.kaggle.com/c/titanic" target="_blank" rel="noopener">Titanic challenge</a>. Here we want to examine which factors contribute to <em>shorter or longer trip_durations.</em></p>
<p>Recall the distribution of <em>trip_durations</em> from the beginning of this notebook, now cleaned with the more spurious trips removed. Here we separate it into three parts: short, middle, and long duration:</p>
<figure class="highlight plain"><figcaption><span>fig.align </span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">train_group &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  mutate(tgroup &#x3D; case_when(trip_duration &lt; 3e2 ~ &quot;fast&quot;,</span><br><span class="line"></span><br><span class="line">                            trip_duration &gt;&#x3D; 3e2 &amp; trip_duration &lt;&#x3D; 1.6e3 ~ &quot;mid&quot;,</span><br><span class="line"></span><br><span class="line">                            trip_duration &gt; 1.6e3 ~ &quot;slow&quot;))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">train_group %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(trip_duration, fill &#x3D; tgroup)) +</span><br><span class="line"></span><br><span class="line">  geom_histogram(bins &#x3D; 300) +</span><br><span class="line"></span><br><span class="line">  scale_x_log10() +</span><br><span class="line"></span><br><span class="line">  scale_y_sqrt()</span><br></pre></td></tr></table></figure>



<p>(Ignore the apparent spikes caused by the binning resolution.)</p>
<p>For the purpose of this excercise, we are not interested in the middle bit. Our aim is to compare the properties of the fast vs slow trips.</p>
<figure class="highlight plain"><figcaption><span>fig.align </span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">train_group &lt;- train_group %&gt;%</span><br><span class="line"></span><br><span class="line">  filter(tgroup !&#x3D; &quot;mid&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p1 &lt;- train_group %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(wday, fill &#x3D; tgroup)) +</span><br><span class="line"></span><br><span class="line">  geom_bar(position &#x3D; &quot;fill&quot;) +</span><br><span class="line"></span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;)</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">p2 &lt;- train_group %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(month, fill &#x3D; tgroup)) +</span><br><span class="line"></span><br><span class="line">  geom_bar(position &#x3D; &quot;fill&quot;) +</span><br><span class="line"></span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p3 &lt;- train_group %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(hour, fill &#x3D; tgroup)) +</span><br><span class="line"></span><br><span class="line">  geom_bar(position &#x3D; &quot;fill&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p4 &lt;- train_group %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(jfk_trip, fill &#x3D; tgroup)) +</span><br><span class="line"></span><br><span class="line">  geom_bar(position &#x3D; &quot;fill&quot;) +</span><br><span class="line"></span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p5 &lt;- train_group %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(lg_trip, fill &#x3D; tgroup)) +</span><br><span class="line"></span><br><span class="line">  geom_bar(position &#x3D; &quot;fill&quot;) +</span><br><span class="line"></span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p6 &lt;- train_group %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(blizzard, fill &#x3D; tgroup)) +</span><br><span class="line"></span><br><span class="line">  geom_bar(position &#x3D; &quot;fill&quot;) +</span><br><span class="line"></span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p7 &lt;- train_group %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(work, fill &#x3D; tgroup)) +</span><br><span class="line"></span><br><span class="line">  geom_bar(position &#x3D; &quot;fill&quot;) +</span><br><span class="line"></span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">layout &lt;- matrix(c(1,1,2,2,3,3,3,3,4,5,6,7),3,4,byrow&#x3D;TRUE)</span><br><span class="line"></span><br><span class="line">multiplot(p1, p2, p3, p4, p5, p6, p7, layout&#x3D;layout)</span><br><span class="line"></span><br><span class="line">p1 &lt;- 1; p2 &lt;- 1; p3 &lt;- 1; p4 &lt;- 1; p5 &lt;- 1; p6 &lt;- 1; p7 &lt;- 1</span><br></pre></td></tr></table></figure>



<p>We find:</p>
<ul>
<li>Our airport features, <em>jfk_trip</em> and <em>lg_trip</em>, behave as expected and are predominantly slow trips. Also the <em>blizzard</em> feature shows a promising increase in slow trips.</li>
</ul>
<ul>
<li>Throughout the week, there is a notable difference between the weekend and the weekdays. It might be worth to encode the <em>wday</em> feature according to this trend. We see that the <em>monthly</em> trend already shows a gradually increasing “slow” proportion.</li>
</ul>
<ul>
<li>During the day, we find again the difference between night and (working) day that we had seen in previously in the scatter plot plus heatmap and which is partly resolved in our engineered <em>work</em> feature.</li>
</ul>
<p>For a visualisation of the <em>pickup</em> coordinates for the <em>fast</em> vs <em>slow</em> rides we build another map using the great <em>leaflet</em> package. Those maps don’t require external API calls and run fully contained in a Kaggle kernel. We visualise our two groups of trips using a <em>heatmap</em> which we add through tools in the <em>leaflet.extras</em> package.</p>
<p>In this <em>leaflet</em> visualisation, you can toggle and overlay the <em>fast</em> vs <em>slow</em> rides independently, and also choose a dark vs light background map (in addition to a free zoom and pan). These layers are easy to define within a leaflet object; have a look at the code to see how concise the <em>addLayersControl</em> element is. Zoom in to see street-level resolution:</p>
<figure class="highlight plain"><figcaption><span>fig.align </span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">pick_fast &lt;- train_group %&gt;%</span><br><span class="line"></span><br><span class="line">  filter(tgroup &#x3D;&#x3D; &quot;fast&quot;) %&gt;%</span><br><span class="line"></span><br><span class="line">  select(long &#x3D; pickup_longitude, lat &#x3D; pickup_latitude)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">pick_slow &lt;- train_group %&gt;%</span><br><span class="line"></span><br><span class="line">  filter(tgroup &#x3D;&#x3D; &quot;slow&quot;) %&gt;%</span><br><span class="line"></span><br><span class="line">  select(long &#x3D; pickup_longitude, lat &#x3D; pickup_latitude)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">leaflet(pick_fast) %&gt;% </span><br><span class="line"></span><br><span class="line">  addProviderTiles(providers$CartoDB.DarkMatter, group &#x3D; &quot;Dark map&quot;) %&gt;%</span><br><span class="line"></span><br><span class="line">  addProviderTiles(providers$CartoDB.Positron, group &#x3D; &quot;Light map&quot;) %&gt;%</span><br><span class="line"></span><br><span class="line">  addScaleBar() %&gt;%</span><br><span class="line"></span><br><span class="line">  setView(-73.95, 40.74, zoom &#x3D; 11) %&gt;%</span><br><span class="line"></span><br><span class="line">  addHeatmap(max &#x3D; 140, gradient &#x3D; &quot;Reds&quot;, radius &#x3D; 12,</span><br><span class="line"></span><br><span class="line">             minOpacity &#x3D; 0.15, blur &#x3D; 15, group &#x3D; &quot;Fast trips&quot;) %&gt;%</span><br><span class="line"></span><br><span class="line">  addHeatmap(lng &#x3D; pick_slow$long, lat &#x3D; pick_slow$lat,</span><br><span class="line"></span><br><span class="line">             max &#x3D; 100, gradient &#x3D; &quot;Blues&quot;, radius &#x3D; 12, </span><br><span class="line"></span><br><span class="line">             minOpacity &#x3D; 0.25, blur &#x3D; 15, group &#x3D; &quot;Slow trips&quot;) %&gt;%</span><br><span class="line"></span><br><span class="line">  addLayersControl(</span><br><span class="line"></span><br><span class="line">    baseGroups &#x3D; c(&quot;Dark Map&quot;, &quot;Light map&quot;),</span><br><span class="line"></span><br><span class="line">    overlayGroups &#x3D; c(&quot;Fast trips&quot;, &quot;Slow trips&quot;),</span><br><span class="line"></span><br><span class="line">    options &#x3D; layersControlOptions(collapsed &#x3D; FALSE)</span><br><span class="line"></span><br><span class="line">  )</span><br></pre></td></tr></table></figure>



<p>We find:</p>
<ul>
<li>As expected, the airports stand out as origins of <em>slow</em> rides. Interestingly, a similar observations can be made for the areas surrounding the airports.</li>
</ul>
<ul>
<li>There is a number of <em>fast</em> trip pickups just accross the Hudson river and near Newark airport in Jersey. </li>
</ul>
<ul>
<li>Interestingly, except for the airport locations the <em>fast</em> trip pickups appear to be more spatially extended than the slow ones.</li>
</ul>
<p>For a different kind of visualisation of your classification problem I would like to illustrate an <em>alluvial plot</em>. Made available through the <a href=""><em>alluvial</em> package</a>, those plots are a kind of mix between a flow chart and a bar plot and they show how the target categories relate to various discrete features.</p>
<p>I would like to thank <a href="https://www.kaggle.com/retrospectprospect" target="_blank" rel="noopener">retrospectprospect</a> for introducing me to alluvial plots in their very elegant <a href="https://www.kaggle.com/retrospectprospect/titanic-machine-learning-from-eda-to-xgb" target="_blank" rel="noopener">EDA kernel</a> for the <a href="https://www.kaggle.com/c/titanic" target="_blank" rel="noopener">Titanic</a> challenge! The same user also has shared an informative and concise <a href="https://www.kaggle.com/retrospectprospect/nyc-taxi-trip-duration-eda-to-xgb/" target="_blank" rel="noopener">kernel</a> in this competition, and if you haven’t seen it yet then I definitely recommend you to check it out.</p>
<p>Without further ado, here is the plot:</p>
<figure class="highlight plain"><figcaption><span>fig.align </span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">allu_train &lt;- train_group %&gt;%</span><br><span class="line"></span><br><span class="line">  group_by(tgroup, work, wday, jfk_trip) %&gt;%</span><br><span class="line"></span><br><span class="line">  count() %&gt;%</span><br><span class="line"></span><br><span class="line">  ungroup</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">alluvial(allu_train %&gt;% select(-n),</span><br><span class="line"></span><br><span class="line">         freq&#x3D;allu_train$n, border&#x3D;NA,</span><br><span class="line"></span><br><span class="line">         col&#x3D;ifelse(allu_train$tgroup &#x3D;&#x3D; &quot;fast&quot;, &quot;red&quot;, &quot;blue&quot;),</span><br><span class="line"></span><br><span class="line">         cex&#x3D;0.75,</span><br><span class="line"></span><br><span class="line">         hide &#x3D; allu_train$n &lt; 150,</span><br><span class="line"></span><br><span class="line">         ordering &#x3D; list(</span><br><span class="line"></span><br><span class="line">           order(allu_train$tgroup&#x3D;&#x3D;&quot;fast&quot;),</span><br><span class="line"></span><br><span class="line">           NULL,</span><br><span class="line"></span><br><span class="line">           NULL,</span><br><span class="line"></span><br><span class="line">           NULL))</span><br></pre></td></tr></table></figure>



<p>In this plot, the vertical sizes of the blocks and the widths of the stripes (called “alluvia”) are proportional to the frequency. We decided to <em>hide</em> the alluvia with the lowest frequencies using the parameter of the same name. Within a category block you can re-<em>order</em> the vertical layering of the alluvia to emphasise certain aspects of your data set. Here, we see nicely how the <em>fast</em> vs <em>slow</em> groups fan out into the different categories.</p>
<p>We find:</p>
<ul>
<li>Outside of work hours (<em>work == FALSE</em>) the majority of trips are <em>fast</em>, which we can see from the larger proportion of red alluvia.</li>
</ul>
<ul>
<li>In terms of <em>wday</em>, Sat and Sun contain a larger proportion of <em>fast</em> trips than the weekdays. In addition, Sat and Sun have of course no contribution to <em>work == TRUE</em>, since no alluvia connect the corresponding boxes. This is a useful consistency check.</li>
</ul>
<ul>
<li>Airport trips are almost entirely <em>slow</em> ones. We removed the few thin alluvias (using the <em>hide</em> parameter) because they were hard to see in the first place.</li>
</ul>
<p><strong>In summary:</strong> We find that looking at this problem from the point of view of classifying <em>fast</em> vs <em>slow</em> trips helps us to see certains effects clearer and to notice useful details about for instance the spatial distributions or the impact of work hours. Furthermore, we derive helpful hints on how to encode otherwise randomly ordered categorical variables like <em>wday</em> (day of the week) or <em>month</em> (randomly with respect to trip duration).</p>
<p>This concludes our brief excursion into classification. <strong>I encourage any of you who are interested to take this classification approach and see how far you can take it.</strong></p>
<h1 id="A-simple-model-and-prediction"><a href="#A-simple-model-and-prediction" class="headerlink" title="A simple model and prediction"></a>A simple model and prediction</h1><p>In a brief final step we will feed our exploratory and engineering insights into a simple model to predict the target <em>trip_duration</em> for the <em>test</em> data set. However, this is primarily an EDA kernel and not a modelling one. This section leaves plenty of room for improvement for anyone who wants to optimise it. We will be using <em>XGBoost</em>, but you can try out any other algorithm.</p>
<p>I’m expecting that as time progresses in this competition the focus will shift towards the intricacies of model selection and tuning. I can think of a few more masters and grandmasters that I would like to see demonstrating their skills here, so that I can learn from them. For instance, this kernel won’t touch on the subject of model stacking at all.</p>
<h2 id="Preparations"><a href="#Preparations" class="headerlink" title="Preparations"></a>Preparations</h2><h3 id="Train-vs-test-overlap"><a href="#Train-vs-test-overlap" class="headerlink" title="Train vs test overlap"></a><em>Train</em> vs <em>test</em> overlap</h3><p>In order to make sure that we are really training on features that are relevant to our <em>test</em> data set we will now briefly compare the temporal and spatial properties of the <em>train</em> and <em>test</em> data. This is another consistency check. We could have done this before the exploration, but my personal preference is to examine the training data first before looking at the <em>test</em> data set so that my analysis is as unbiased as possible. Here are the two relevant comparison plots:</p>
<figure class="highlight plain"><figcaption><span>fig.align </span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">foo &lt;- combine %&gt;%</span><br><span class="line"></span><br><span class="line">  mutate(date &#x3D; date(ymd_hms(pickup_datetime))) %&gt;%</span><br><span class="line"></span><br><span class="line">  group_by(date, dset) %&gt;%</span><br><span class="line"></span><br><span class="line">  count() %&gt;%</span><br><span class="line"></span><br><span class="line">  ungroup()</span><br><span class="line"></span><br><span class="line">foo %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(date, n&#x2F;1e3, color &#x3D; dset)) +</span><br><span class="line"></span><br><span class="line">  geom_line(size &#x3D; 1.5) +</span><br><span class="line"></span><br><span class="line">  labs(x &#x3D; &quot;&quot;, y &#x3D; &quot;Kilo trips per day&quot;)</span><br></pre></td></tr></table></figure>





<figure class="highlight plain"><figcaption><span>fig.align </span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">pick_good &lt;- combine %&gt;%</span><br><span class="line"></span><br><span class="line">  filter(pickup_longitude &gt; -75 &amp; pickup_longitude &lt; -73) %&gt;%</span><br><span class="line"></span><br><span class="line">  filter(pickup_latitude &gt; 40 &amp; pickup_latitude &lt; 42)</span><br><span class="line"></span><br><span class="line">pick_good &lt;- sample_n(pick_good, 5e3)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">pick_good %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(pickup_longitude, pickup_latitude, color &#x3D; dset)) +</span><br><span class="line"></span><br><span class="line">  geom_point(size&#x3D;0.1, alpha &#x3D; 0.5) +</span><br><span class="line"></span><br><span class="line">  coord_cartesian(xlim &#x3D; c(-74.02,-73.77), ylim &#x3D; c(40.63,40.84)) +</span><br><span class="line"></span><br><span class="line">  facet_wrap(~ dset) +</span><br><span class="line"></span><br><span class="line">  #guides(color &#x3D; guide_legend(override.aes &#x3D; list(alpha &#x3D; 1, size &#x3D; 4))) +</span><br><span class="line"></span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;)</span><br></pre></td></tr></table></figure>



<p>We find that our <em>train</em> and <em>test</em> data sets do indeed cover the same time range and geographical area.</p>
<h3 id="Data-formatting"><a href="#Data-formatting" class="headerlink" title="Data formatting"></a>Data formatting</h3><p>Here we will format the selected features to turn them into integer columns, since many classifiers cannot deal with categorical values. For the encoding we make use of our exploratory knowledge, including the insights gained in our classification excursion. This is necessary since most classifiers would assume a natural ordering for integer features (i.e. 1 &lt; 2 &lt; 3 with respect to impact on the target). An alternative would be to use one-hot encoding.</p>
<p>In order for the encoding to be homogeneous between the <em>train</em> and <em>test</em> data sets it is a useful habit to perform it on the combined data, in case there are differences in some of the factor levels. For instance, if the <em>passenger_count</em> were a genuine factor feature then here the <em>train</em> and <em>test</em> data would contain different levels (since <em>test</em> is missing 7 and 8 passenger trips).</p>
<p>This formatting stage is practically a repeat of what we did at the beginning of the <em>Feature Engineering</em> section. In principle we could have already worked with the <em>combine</em> data set back then, but for the purpose of keeping it simple we used only the <em>train</em> sample back then. You are very welcome to take this kernel and improve it for better efficiency.</p>
<p>Nothing magical here in our engineering/formatting code block:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"># airport coordinates again, just to be sure</span><br><span class="line"></span><br><span class="line">jfk_coord &lt;- tibble(lon &#x3D; -73.778889, lat &#x3D; 40.639722)</span><br><span class="line"></span><br><span class="line">la_guardia_coord &lt;- tibble(lon &#x3D; -73.872611, lat &#x3D; 40.77725)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># derive distances</span><br><span class="line"></span><br><span class="line">pick_coord &lt;- combine %&gt;%</span><br><span class="line"></span><br><span class="line">  select(pickup_longitude, pickup_latitude)</span><br><span class="line"></span><br><span class="line">drop_coord &lt;- combine %&gt;%</span><br><span class="line"></span><br><span class="line">  select(dropoff_longitude, dropoff_latitude)</span><br><span class="line"></span><br><span class="line">combine$dist &lt;- distCosine(pick_coord, drop_coord)</span><br><span class="line"></span><br><span class="line">combine$bearing &#x3D; bearing(pick_coord, drop_coord)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">combine$jfk_dist_pick &lt;- distCosine(pick_coord, jfk_coord)</span><br><span class="line"></span><br><span class="line">combine$jfk_dist_drop &lt;- distCosine(drop_coord, jfk_coord)</span><br><span class="line"></span><br><span class="line">combine$lg_dist_pick &lt;- distCosine(pick_coord, la_guardia_coord)</span><br><span class="line"></span><br><span class="line">combine$lg_dist_drop &lt;- distCosine(drop_coord, la_guardia_coord)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># add dates</span><br><span class="line"></span><br><span class="line">combine &lt;- combine %&gt;%</span><br><span class="line"></span><br><span class="line">  mutate(pickup_datetime &#x3D; ymd_hms(pickup_datetime),</span><br><span class="line"></span><br><span class="line">         dropoff_datetime &#x3D; ymd_hms(dropoff_datetime),</span><br><span class="line"></span><br><span class="line">         date &#x3D; date(pickup_datetime)</span><br><span class="line"></span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># add weather info</span><br><span class="line"></span><br><span class="line">foo &lt;- weather %&gt;%</span><br><span class="line"></span><br><span class="line">  select(date, rain, s_fall, all_precip, has_snow, has_rain, s_depth, max_temp, min_temp)</span><br><span class="line"></span><br><span class="line">combine &lt;- left_join(combine, foo, by &#x3D; &quot;date&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># add fast routes</span><br><span class="line"></span><br><span class="line">foo &lt;- fastest_route %&gt;%</span><br><span class="line"></span><br><span class="line">  select(id, total_distance, total_travel_time, number_of_steps,</span><br><span class="line"></span><br><span class="line">         step_direction, step_maneuvers) %&gt;%</span><br><span class="line"></span><br><span class="line">  mutate(fastest_speed &#x3D; total_distance&#x2F;total_travel_time*3.6,</span><br><span class="line"></span><br><span class="line">         left_turns &#x3D; str_count(step_direction, &quot;left&quot;),</span><br><span class="line"></span><br><span class="line">         right_turns &#x3D; str_count(step_direction, &quot;right&quot;),</span><br><span class="line"></span><br><span class="line">         turns &#x3D; str_count(step_maneuvers, &quot;turn&quot;)</span><br><span class="line"></span><br><span class="line">         ) %&gt;%</span><br><span class="line"></span><br><span class="line">  select(-step_direction, -step_maneuvers)</span><br><span class="line"></span><br><span class="line">combine &lt;- left_join(combine, foo, by &#x3D; &quot;id&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># reformat to numerical and recode levels</span><br><span class="line"></span><br><span class="line">combine &lt;- combine %&gt;%</span><br><span class="line"></span><br><span class="line">  mutate(store_and_fwd_flag &#x3D; as.integer(factor(store_and_fwd_flag)),</span><br><span class="line"></span><br><span class="line">         vendor_id &#x3D; as.integer(vendor_id),</span><br><span class="line"></span><br><span class="line">         month &#x3D; as.integer(month(pickup_datetime)),</span><br><span class="line"></span><br><span class="line">         wday &#x3D; wday(pickup_datetime, label &#x3D; TRUE),</span><br><span class="line"></span><br><span class="line">         wday &#x3D; as.integer(fct_relevel(wday, c(&quot;Sun&quot;, &quot;Sat&quot;, &quot;Mon&quot;, &quot;Tues&quot;, &quot;Wed&quot;, &quot;Thurs&quot;, &quot;Fri&quot;))),</span><br><span class="line"></span><br><span class="line">         hour &#x3D; hour(pickup_datetime),</span><br><span class="line"></span><br><span class="line">         work &#x3D; as.integer( (hour %in% seq(8,18)) &amp; (wday %in% c(&quot;Mon&quot;,&quot;Tues&quot;,&quot;Fri&quot;,&quot;Wed&quot;,&quot;Thurs&quot;)) ),</span><br><span class="line"></span><br><span class="line">         jfk_trip &#x3D; as.integer( (jfk_dist_pick &lt; 2e3) | (jfk_dist_drop &lt; 2e3) ),</span><br><span class="line"></span><br><span class="line">         lg_trip &#x3D; as.integer( (lg_dist_pick &lt; 2e3) | (lg_dist_drop &lt; 2e3) ),</span><br><span class="line"></span><br><span class="line">         has_rain &#x3D; as.integer(has_rain),</span><br><span class="line"></span><br><span class="line">         has_snow &#x3D; as.integer(has_snow),</span><br><span class="line"></span><br><span class="line">         blizzard &#x3D; as.integer( !( (date &lt; ymd(&quot;2016-01-22&quot;) | (date &gt; ymd(&quot;2016-01-29&quot;)))) )</span><br><span class="line"></span><br><span class="line">         )</span><br></pre></td></tr></table></figure>



<p>You might have noticed that we now recode the weekdays (<em>wday</em>) according to the results from the classification section. Conveniently, the <em>months</em> are already in a sequence of increasing fraction of slow trips. (Anybody got an idea why this could be?)</p>
<p>Consistency check:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">glimpse(combine)</span><br></pre></td></tr></table></figure>



<p>Looks good. The only non-numerical features are <em>id</em>, <em>pickup_datetime</em>, <em>dropoff_datetime</em>, and <em>date</em>, which will remove in any case, together with <em>dset</em> which we will use now to separate the <em>train</em> vs <em>test</em> again.</p>
<h3 id="Feature-selection-metric-adjustment-validation-split-and-careful-cleaning"><a href="#Feature-selection-metric-adjustment-validation-split-and-careful-cleaning" class="headerlink" title="Feature selection, metric adjustment, validation split, and careful cleaning"></a>Feature selection, metric adjustment, validation split, and careful cleaning</h3><p>Not all features in our data set will be useful. Here we only include meaningful variables and remove for instance the <em>id</em> feature and most of the weather features.</p>
<p>In principle, we could include all features and leave the selection of the useful ones to our modelling algorithm. However, in our case a pre-selection could be useful because we have (a) engineered a couple of features from existing ones (such as <em>work</em> or <em>blizzard</em>), and (b) imported additional features with strong correlation (such as <em>total_distance</em> and <em>total_travel_time</em>). Both strategies can cause significant <em>collinearity</em> within our training feature set, which will make it more difficult to interpret the result of our model in terms of the impact of individual features. Furthermore, from a pragmatic point of view any strongly correlated features don’t add much new information and should (in my opinion) be removed for reasons of statistical parsimony.</p>
<p>Feature selection is normally an iterative process where we run an initial model with either few or many features and then step-by-step add or remove some features based on the results of the previous run. For the sake of kernel run time here we only include one model fitting step. You are very welcome to use it as a starting point for your own analysis and combine it with insights from other kernels. We will base our feature selection on the results of the exploratory analysis, in particular the final correlation matrix.</p>
<p>In this code block, the feature selection is structured with a little more detail than necessary, in order to make it easier to generalise it to a new problem:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"># Specific definitions:</span><br><span class="line"></span><br><span class="line">#---------------------------------</span><br><span class="line"></span><br><span class="line"># predictor features</span><br><span class="line"></span><br><span class="line">train_cols &lt;- c(&quot;total_travel_time&quot;, &quot;total_distance&quot;, &quot;hour&quot;, &quot;dist&quot;,</span><br><span class="line"></span><br><span class="line">                &quot;vendor_id&quot;, &quot;jfk_trip&quot;, &quot;lg_trip&quot;, &quot;wday&quot;, &quot;month&quot;,</span><br><span class="line"></span><br><span class="line">                &quot;pickup_longitude&quot;, &quot;pickup_latitude&quot;, &quot;bearing&quot;, &quot;lg_dist_drop&quot;)</span><br><span class="line"></span><br><span class="line"># target feature</span><br><span class="line"></span><br><span class="line">y_col &lt;- c(&quot;trip_duration&quot;)</span><br><span class="line"></span><br><span class="line"># identification feature</span><br><span class="line"></span><br><span class="line">id_col &lt;- c(&quot;id&quot;) </span><br><span class="line"></span><br><span class="line"># auxilliary features</span><br><span class="line"></span><br><span class="line">aux_cols &lt;- c(&quot;dset&quot;)</span><br><span class="line"></span><br><span class="line"># cleaning features</span><br><span class="line"></span><br><span class="line">clean_cols &lt;- c(&quot;jfk_dist_drop&quot;, &quot;jfk_dist_pick&quot;)</span><br><span class="line"></span><br><span class="line">#---------------------------------</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># General extraction</span><br><span class="line"></span><br><span class="line">#---------------------------------</span><br><span class="line"></span><br><span class="line"># extract test id column</span><br><span class="line"></span><br><span class="line">test_id &lt;- combine %&gt;%</span><br><span class="line"></span><br><span class="line">  filter(dset &#x3D;&#x3D; &quot;test&quot;) %&gt;%</span><br><span class="line"></span><br><span class="line">  select_(.dots &#x3D; id_col)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># all relevant columns for train&#x2F;test</span><br><span class="line"></span><br><span class="line">cols &lt;- c(train_cols, y_col, aux_cols, clean_cols)</span><br><span class="line"></span><br><span class="line">combine &lt;- combine %&gt;%</span><br><span class="line"></span><br><span class="line">  select_(.dots &#x3D; cols)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># split train&#x2F;test</span><br><span class="line"></span><br><span class="line">train &lt;- combine %&gt;%</span><br><span class="line"></span><br><span class="line">  filter(dset &#x3D;&#x3D; &quot;train&quot;) %&gt;%</span><br><span class="line"></span><br><span class="line">  select_(.dots &#x3D; str_c(&quot;-&quot;,c(aux_cols)))</span><br><span class="line"></span><br><span class="line">test &lt;- combine %&gt;%</span><br><span class="line"></span><br><span class="line">  filter(dset &#x3D;&#x3D; &quot;test&quot;) %&gt;%</span><br><span class="line"></span><br><span class="line">  select_(.dots &#x3D; str_c(&quot;-&quot;,c(aux_cols, clean_cols, y_col)))</span><br><span class="line"></span><br><span class="line">#---------------------------------</span><br></pre></td></tr></table></figure>



<p>For our taxi challenge, the evaluation metric is <a href="https://www.kaggle.com/c/nyc-taxi-trip-duration#evaluation" target="_blank" rel="noopener">RMSLE</a>, the <a href="https://www.kaggle.com/wiki/RootMeanSquaredLogarithmicError" target="_blank" rel="noopener">Root Mean Squared Logarithmic Error</a>. Essentially, this means that we are optimising the prediction vs data deviations in log space. This has the advantage that large individual outliers don’t get as much weight as they would in a linear metric.</p>
<p>In order to easily simulate the evaluation metric in our model fitting we replace the <em>trip_duration</em> with its logarithm. (The <code>+ 1</code> is added to avoid an undefined <code>log(0)</code> and we need to remember to remove this 1 second for the prediction file, although it shouldn’t make a huge difference if we didn’t.)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">train &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  mutate(trip_duration &#x3D; log(trip_duration + 1))</span><br></pre></td></tr></table></figure>



<p>In order to assess how well our model generalises we will perform a cross-validation step and also split our training data into a <em>train</em> vs <em>validation</em> data set. Thereby, the model performance can be evaluated on a sample that the algorithm has not seen. We split our data into 80/20 fractions using a tool from the <a href="https://cran.r-project.org/web/packages/caret/index.html" target="_blank" rel="noopener">caret package</a>. We wouldn’t really need this package here for such a simple task, but I’m including it to give it a mention. <em>Caret</em> is a multi-purpose ML package that is certainly worth checking out.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">set.seed(4321)</span><br><span class="line"></span><br><span class="line">trainIndex &lt;- createDataPartition(train$trip_duration, p &#x3D; 0.8, list &#x3D; FALSE, times &#x3D; 1)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">train &lt;- train[trainIndex,]</span><br><span class="line"></span><br><span class="line">valid &lt;- train[-trainIndex,]</span><br></pre></td></tr></table></figure>



<p>Finally, we are performing careful cleaning steps on our <em>train</em> sample only. By removing observations from the training data we always run the risk of overfitting our model to a more “idealised” version of reality. In particular for the current data set, where lots of values don’t make obvious sense, this idealised model might not generalise well to unseen data, which could have similar “quirks”. For this reason, we are keeping the validation sample unchanged, so that any noticeable deviations between <em>train</em> and <em>valid</em> model score can alert us to overfitting.</p>
<p>Why clean at all? Well, in my opinion obvious outliers should be removed to make the model robust. It’s true that these outliers might also exist in the <em>test</em> data, but if there is a way to predict them then this suggests that they might not be outliers after all. And if we can’t predict them there’s no way to take them into account anyway. Lastly, the answer also depends on the <em>goal</em> of your analysis (and your evaluation metric) which might not always aim at fitting a given <em>test</em> set as good as possible but sometimes have a more pragmatic target that allows you to ignore extreme values.</p>
<p>Here we only remove the few <em>trip_duration</em> that are longer than a day and the couple of data points far, far away from NYC:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">valid &lt;- valid %&gt;%</span><br><span class="line"></span><br><span class="line">  select_(.dots &#x3D; str_c(&quot;-&quot;,c(clean_cols)))</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">train &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  filter(trip_duration &lt; 24*3600,</span><br><span class="line"></span><br><span class="line">         jfk_dist_pick &lt; 3e5 &amp; jfk_dist_drop &lt; 3e5</span><br><span class="line"></span><br><span class="line">         ) %&gt;%</span><br><span class="line"></span><br><span class="line">  select_(.dots &#x3D; str_c(&quot;-&quot;,c(clean_cols)))</span><br></pre></td></tr></table></figure>





<h2 id="XGBoost-parameters-and-fitting"><a href="#XGBoost-parameters-and-fitting" class="headerlink" title="XGBoost parameters and fitting"></a>XGBoost parameters and fitting</h2><p>For the model fitting we will use everybody’s favourite <em>XGBoost - eXtreme Gradient Boosting</em>. This is a decision-tree gradient boosting algorithm with a high degree of popularity here on Kaggle. In this kernel we will implement a fairly straight-forward fitting strategy. Feel free to optimise the parameters and get some inspiration from <a href="https://www.kaggle.com/gaborfodor/from-eda-to-the-top-lb-0-367/" target="_blank" rel="noopener">other kernels</a> that are more focussed on model fitting. Also try out other classifiers, such as <a href="https://www.kaggle.com/mrisdal/last-place-laura-benchmark/" target="_blank" rel="noopener">Megan’s baseline Random Forest</a> to see how they treat our features.</p>
<p>A few brief words about <em>gradient boosting</em>, as far as I understand it: Boosting is what we call the step-by-step improvement of a weak learner (like a relatively shallow decision tree of <em>max_depth</em> levels) by successively applying it to the results of the previous learning step (for <em>nrounds</em> times in total). <em>Gradient Boosting</em> focusses on minimising the Loss Function (according to our evaluation metric) by training the algorithm on the gradient of this function. The method of <em>Gradient Decent</em> iteratively moves into the direction of the greatest decent (i.e. most negative first derivative) of the loss function. The step sizes can vary from iteration to iteration but has a multiplicative <em>shrinkage factor eta in (0,1]</em> associated with it for additional tuning. Smaller values of eta result in a slower decent and require higher <em>nrounds</em>.</p>
<p>In order for <em>XGBoost</em> to properly ingest our data samples we need to re-format them slightly:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">#convert to XGB matrix</span><br><span class="line"></span><br><span class="line">foo &lt;- train %&gt;% select(-trip_duration)</span><br><span class="line"></span><br><span class="line">bar &lt;- valid %&gt;% select(-trip_duration)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">dtrain &lt;- xgb.DMatrix(as.matrix(foo),label &#x3D; train$trip_duration)</span><br><span class="line"></span><br><span class="line">dvalid &lt;- xgb.DMatrix(as.matrix(bar),label &#x3D; valid$trip_duration)</span><br><span class="line"></span><br><span class="line">dtest &lt;- xgb.DMatrix(as.matrix(test))</span><br></pre></td></tr></table></figure>





<p>Now we define the meta-parameters that govern how <em>XGBoost</em> operates. See <a href="https://github.com/dmlc/xgboost/blob/master/doc/parameter.md" target="_blank" rel="noopener">here</a> for more details. The <em>watchlist</em> parameter tells the algorithm to keep an eye on both the <em>training</em> and <em>validation</em> sample metrics. Those parameters are not optimised for performance, so feel free to play with them:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">xgb_params &lt;- list(colsample_bytree &#x3D; 0.7, #variables per tree </span><br><span class="line"></span><br><span class="line">                   subsample &#x3D; 0.7, #data subset per tree </span><br><span class="line"></span><br><span class="line">                   booster &#x3D; &quot;gbtree&quot;,</span><br><span class="line"></span><br><span class="line">                   max_depth &#x3D; 5, #tree levels</span><br><span class="line"></span><br><span class="line">                   eta &#x3D; 0.3, #shrinkage</span><br><span class="line"></span><br><span class="line">                   eval_metric &#x3D; &quot;rmse&quot;, </span><br><span class="line"></span><br><span class="line">                   objective &#x3D; &quot;reg:linear&quot;,</span><br><span class="line"></span><br><span class="line">                   seed &#x3D; 4321</span><br><span class="line"></span><br><span class="line">                   )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">watchlist &lt;- list(train&#x3D;dtrain, valid&#x3D;dvalid)</span><br></pre></td></tr></table></figure>



<p>And here we <em>train</em> our classifier, i.e. fit it to the <em>training</em> data. To ensure reproducability we set an R seed here. To make this model run in the kernel environment, given our extensive EDA run time, we will restrict the learning to 60 sample rounds. </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">set.seed(4321)</span><br><span class="line"></span><br><span class="line">gb_dt &lt;- xgb.train(params &#x3D; xgb_params,</span><br><span class="line"></span><br><span class="line">                   data &#x3D; dtrain,</span><br><span class="line"></span><br><span class="line">                   print_every_n &#x3D; 5,</span><br><span class="line"></span><br><span class="line">                   watchlist &#x3D; watchlist,</span><br><span class="line"></span><br><span class="line">                   nrounds &#x3D; 60)</span><br></pre></td></tr></table></figure>



<p>After the fitting we are running a 5-fold cross-validation (CV) to estimate our model’s performance. Also this stage would exceed the Kaggle run-time limit for a larger number of rounds, therefore I’m limiting it here to 15 sample rounds to demonstrate the principle. You should use at least a few 100 in your analysis, depending on your XGBoost parameters. The early-stopping parameter will make sure that the CV fitting is stopped once the model can’t be improved through additional steps.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">xgb_cv &lt;- xgb.cv(xgb_params,dtrain,early_stopping_rounds &#x3D; 10, nfold &#x3D; 5, nrounds&#x3D;15)</span><br></pre></td></tr></table></figure>





<h2 id="Feature-importance"><a href="#Feature-importance" class="headerlink" title="Feature importance"></a>Feature importance</h2><p>After training we will check which features are the most important for our model. This can provide the starting point for an iterative process where we identify, step by step, the significant features for a model. Here we will simply visualise these features:</p>
<figure class="highlight plain"><figcaption><span>fig.align </span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">imp_matrix &lt;- as.tibble(xgb.importance(feature_names &#x3D; colnames(train %&gt;% select(-trip_duration)), model &#x3D; gb_dt))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">imp_matrix %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(reorder(Feature, Gain, FUN &#x3D; max), Gain, fill &#x3D; Feature)) +</span><br><span class="line"></span><br><span class="line">  geom_col() +</span><br><span class="line"></span><br><span class="line">  coord_flip() +</span><br><span class="line"></span><br><span class="line">  theme(legend.position &#x3D; &quot;none&quot;) +</span><br><span class="line"></span><br><span class="line">  labs(x &#x3D; &quot;Features&quot;, y &#x3D; &quot;Importance&quot;)</span><br></pre></td></tr></table></figure>



<p>We find that, unsurprisingly, the OSRM features like <em>total_distance</em> and <em>total_travel_time</em> are by far the most important predictors for the <em>trip_duration</em>. Beyond that, our engineered features like <em>wday</em> or <em>bearing</em> are not doing bad either.</p>
<h2 id="Prediction-and-submission-file"><a href="#Prediction-and-submission-file" class="headerlink" title="Prediction and submission file"></a>Prediction and submission file</h2><p>Once we are reasonably happy with our CV score we use the corresponding model to make a prediction for the test data, write the submission file, and submit it to the Kaggle leaderboard. This gives a performance score based on an <em>independent</em> data set. For this very reason, it is advisable to aim to keep the number of leaderboard submission low. Otherwise you run the risk to have your model influenced too much by this public leaderboard data which will result in overfitting. It’s better to trust your local CV. Just ask anyone who has just completed the Mercedes challenge ;-)</p>
<p>Practically, this pre-ulimate code block will apply the <em>XGBoost</em> model to the testing data and write a submission file according to the competition specification. You will then find the file <code>submit.csv</code> in the “Output” tab of the Kaggle kernel or, if you have run the script locally, in the source directory.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">test_preds &lt;- predict(gb_dt,dtest)</span><br><span class="line"></span><br><span class="line">pred &lt;- test_id %&gt;%</span><br><span class="line"></span><br><span class="line">  mutate(trip_duration &#x3D; exp(test_preds) - 1)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">pred %&gt;% write_csv(&#39;submit.csv&#39;)</span><br></pre></td></tr></table></figure>



<p>All that’s left to do is to double-check this submission file to make sure that we are not wasting a (potentially) valuable submission with a mal-formatted output file. We are comparing its shape and content with the <em>sample submission file</em> that we read in at the very beginning, and also plot the distribution of the predicted values compared to the training values for an approximate comparison:</p>
<figure class="highlight plain"><figcaption><span>fig.align </span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">identical(dim(sample_submit),dim(pred))</span><br><span class="line"></span><br><span class="line">glimpse(sample_submit)</span><br><span class="line"></span><br><span class="line">glimpse(pred)</span><br><span class="line"></span><br><span class="line">bind_cols(sample_submit, pred) %&gt;% head(5)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">foo &lt;- train %&gt;%</span><br><span class="line"></span><br><span class="line">  select(trip_duration) %&gt;%</span><br><span class="line"></span><br><span class="line">  mutate(dset &#x3D; &quot;train&quot;,</span><br><span class="line"></span><br><span class="line">         trip_duration &#x3D; exp(trip_duration) - 1)</span><br><span class="line"></span><br><span class="line">bar &lt;- pred %&gt;%</span><br><span class="line"></span><br><span class="line">  mutate(dset &#x3D; &quot;predict&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">bind_rows(foo, bar) %&gt;%</span><br><span class="line"></span><br><span class="line">  ggplot(aes(trip_duration, fill &#x3D; dset)) +</span><br><span class="line"></span><br><span class="line">  geom_density(alpha &#x3D; 0.5) +</span><br><span class="line"></span><br><span class="line">  scale_x_log10()</span><br></pre></td></tr></table></figure>



<p>Prediction file format and <em>trip_duration</em> range successfully verified.</p>
<p>In its present state, this model will give you a score of 0.410 on the public leaderboard which, at the time of writing, will put you in the top 40% of submissions. Clearly this is just a starting point for you to explore and improve the modelling process. Here are a few suggestions:</p>
<ul>
<li>First of all, run the training and cross-validation for a larger number of rounds. This alone will immediately improve your score.</li>
</ul>
<ul>
<li>Add further features to the model and explore the impact of more or less cleaning.</li>
</ul>
<ul>
<li>Try out different XGBoost parameters and see how they affect the CV score.</li>
</ul>
<p>The rest is up to you. I hope that this extensive EDA gave you useful insights into the data as well as ideas to get you started with your own analysis. I wish you the best of success.</p>
<hr>
<p>Many thanks to all of you for reading, commenting on, and upvoting this kernel! This competition was an awesome experience for me and I hope you enjoyed it as well.</p>
<p>See you at the next challenge! :-)</p>
]]></content>
      <categories>
        <category>GIS</category>
      </categories>
      <tags>
        <tag>GIS</tag>
        <tag>Python</tag>
        <tag>RS</tag>
        <tag>Data</tag>
        <tag>ESDA</tag>
        <tag>���ӻ�</tag>
      </tags>
  </entry>
</search>
